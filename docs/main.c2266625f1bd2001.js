"use strict";(self.webpackChunkSmartestAppes=self.webpackChunkSmartestAppes||[]).push([[179],{854:()=>{function Fe(n){return"function"==typeof n}function ku(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Sd=ku(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ou(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof Sd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{dD(s)}catch(o){e=e??[],o instanceof Sd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Sd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)dD(e);else{if(e instanceof tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ou(t,e)}remove(e){const{_finalizers:t}=this;t&&Ou(t,e),e instanceof tn&&e._removeParent(this)}}tn.EMPTY=(()=>{const n=new tn;return n.closed=!0,n})();const cD=tn.EMPTY;function lD(n){return n instanceof tn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function dD(n){Fe(n)?n():n.unsubscribe()}const Ps={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Md={setTimeout(n,e,...t){const{delegate:r}=Md;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Md;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hD(n){Md.setTimeout(()=>{const{onUnhandledError:e}=Ps;if(!e)throw n;e(n)})}function fD(){}const LU=qg("C",void 0,void 0);function qg(n,e,t){return{kind:n,value:e,error:t}}let xs=null;function Pd(n){if(Ps.useDeprecatedSynchronousErrorHandling){const e=!xs;if(e&&(xs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=xs;if(xs=null,t)throw r}}else n()}class Wg extends tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,lD(e)&&e.add(this)):this.destination=zU}static create(e,t,r){return new Nu(e,t,r)}next(e){this.isStopped?Qg(function BU(n){return qg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Qg(function UU(n){return qg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qg(LU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $U=Function.prototype.bind;function Kg(n,e){return $U.call(n,e)}class HU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){xd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){xd(r)}else xd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){xd(t)}}}class Nu extends Wg{constructor(e,t,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ps.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kg(e.next,s),error:e.error&&Kg(e.error,s),complete:e.complete&&Kg(e.complete,s)}):i=e}this.destination=new HU(i)}}function xd(n){Ps.useDeprecatedSynchronousErrorHandling?function jU(n){Ps.useDeprecatedSynchronousErrorHandling&&xs&&(xs.errorThrown=!0,xs.error=n)}(n):hD(n)}function Qg(n,e){const{onStoppedNotification:t}=Ps;t&&Md.setTimeout(()=>t(n,e))}const zU={closed:!0,next:fD,error:function GU(n){throw n},complete:fD},Yg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Rs(n){return n}function pD(n){return 0===n.length?Rs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function KU(n){return n&&n instanceof Wg||function WU(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&lD(n)}(t)?t:new Nu(t,r,i);return Pd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=gD(r))((i,s)=>{const o=new Nu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yg](){return this}pipe(...t){return pD(t)(this)}toPromise(t){return new(t=gD(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function gD(n){var e;return null!==(e=n??Ps.Promise)&&void 0!==e?e:Promise}const QU=ku(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Xn=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new mD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new QU}next(t){Pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Pd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?cD:(this.currentObservers=null,s.push(t),new tn(()=>{this.currentObservers=null,Ou(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ct;return t.source=this,t}}return n.create=(e,t)=>new mD(e,t),n})();class mD extends Xn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:cD}}function _D(n){return Fe(n?.lift)}function Lt(n){return e=>{if(_D(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function At(n,e,t,r,i){return new YU(n,e,t,r,i)}class YU extends Wg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(n,e){return Lt((t,r)=>{let i=0;t.subscribe(At(r,s=>{r.next(n.call(e,s,i++))}))})}function Xg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function ID(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Bi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ED(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function tm(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const CD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function wD(n){return Fe(n?.then)}function bD(n){return Fe(n[Yg])}function TD(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function DD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const AD=function pB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function SD(n){return Fe(n?.[AD])}function MD(n){return ID(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function PD(n){return Fe(n?.getReader)}function fr(n){if(n instanceof ct)return n;if(null!=n){if(bD(n))return function gB(n){return new ct(e=>{const t=n[Yg]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(CD(n))return function mB(n){return new ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(wD(n))return function _B(n){return new ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hD)})}(n);if(TD(n))return xD(n);if(SD(n))return function yB(n){return new ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(PD(n))return function vB(n){return xD(MD(n))}(n)}throw DD(n)}function xD(n){return new ct(e=>{(function IB(n,e){var t,r,i,s;return function yD(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ED(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ri(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Wt(n,e,t=1/0){return Fe(e)?Wt((r,i)=>ue((s,o)=>e(r,s,i,o))(fr(n(r,i))),t):("number"==typeof e&&(t=e),Lt((r,i)=>function EB(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;fr(t(g,l++)).subscribe(At(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?ri(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(At(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Oo(n=1/0){return Wt(Rs,n)}const ii=new ct(n=>n.complete());function nm(n){return n[n.length-1]}function RD(n){return Fe(nm(n))?n.pop():void 0}function Fu(n){return function wB(n){return n&&Fe(n.schedule)}(nm(n))?n.pop():void 0}function kD(n,e=0){return Lt((t,r)=>{t.subscribe(At(r,i=>ri(r,n,()=>r.next(i),e),()=>ri(r,n,()=>r.complete(),e),i=>ri(r,n,()=>r.error(i),e)))})}function OD(n,e=0){return Lt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ND(n,e){if(!n)throw new Error("Iterable cannot be null");return new ct(t=>{ri(t,e,()=>{const r=n[Symbol.asyncIterator]();ri(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function vt(n,e){return e?function PB(n,e){if(null!=n){if(bD(n))return function TB(n,e){return fr(n).pipe(OD(e),kD(e))}(n,e);if(CD(n))return function AB(n,e){return new ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(wD(n))return function DB(n,e){return fr(n).pipe(OD(e),kD(e))}(n,e);if(TD(n))return ND(n,e);if(SD(n))return function SB(n,e){return new ct(t=>{let r;return ri(t,e,()=>{r=n[AD](),ri(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,e);if(PD(n))return function MB(n,e){return ND(MD(n),e)}(n,e)}throw DD(n)}(n,e):fr(n)}function rm(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Nu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function im(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function sm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const RB=Oe({__forward_ref__:Oe});function Ve(n){return n.__forward_ref__=Ve,n.toString=function(){return Ne(this())},n}function te(n){return om(n)?n():n}function om(n){return"function"==typeof n&&n.hasOwnProperty(RB)&&n.__forward_ref__===Ve}class k extends Error{constructor(e,t){super(function Rd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function kd(n,e){throw new k(-201,!1)}function Un(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Od(n){return VD(n,Nd)||VD(n,UD)}function VD(n,e){return n.hasOwnProperty(e)?n[e]:null}function LD(n){return n&&(n.hasOwnProperty(am)||n.hasOwnProperty(jB))?n[am]:null}const Nd=Oe({\u0275prov:Oe}),am=Oe({\u0275inj:Oe}),UD=Oe({ngInjectableDef:Oe}),jB=Oe({ngInjectorDef:Oe});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let um;function er(n){const e=um;return um=n,e}function BD(n,e,t){const r=Od(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void kd(Ne(n))}function ji(n){return{toString:n}.toString()}var pr=(()=>((pr=pr||{})[pr.OnPush=0]="OnPush",pr[pr.Default=1]="Default",pr))(),Mr=(()=>{return(n=Mr||(Mr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mr;var n})();const Le=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),No={},Te=[],Fd=Oe({\u0275cmp:Oe}),cm=Oe({\u0275dir:Oe}),lm=Oe({\u0275pipe:Oe}),jD=Oe({\u0275mod:Oe}),oi=Oe({\u0275fac:Oe}),Vu=Oe({__NG_ELEMENT_ID__:Oe});let HB=0;function mn(n){return ji(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===pr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Mr.Emulated,id:"c"+HB++,styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=GD(n.inputs,r),i.outputs=GD(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map($D).filter(HD):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yn).filter(HD):null,i})}function $D(n){return Me(n)||_n(n)}function HD(n){return null!==n}function nn(n){return ji(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function GD(n,e){if(null==n)return No;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const X=mn;function rn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Me(n){return n[Fd]||null}function _n(n){return n[cm]||null}function yn(n){return n[lm]||null}function Bn(n,e){const t=n[jD]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function Mn(n){return Array.isArray(n)&&"object"==typeof n[1]}function mr(n){return Array.isArray(n)&&!0===n[1]}function fm(n){return 0!=(8&n.flags)}function Bd(n){return 2==(2&n.flags)}function jd(n){return 1==(1&n.flags)}function _r(n){return null!==n.template}function QB(n){return 0!=(256&n[2])}function Vs(n,e){return n.hasOwnProperty(oi)?n[oi]:null}class ZB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function nr(){return WD}function WD(n){return n.type.prototype.ngOnChanges&&(n.setInput=ej),XB}function XB(){const n=QD(this),e=n?.current;if(e){const t=n.previous;if(t===No)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ej(n,e,t,r){const i=QD(n)||function tj(n,e){return n[KD]=e}(n,{previous:No,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new ZB(u&&u.currentValue,e,o===No),n[r]=e}nr.ngInherit=!0;const KD="__ngSimpleChanges__";function QD(n){return n[KD]||null}function It(n){for(;Array.isArray(n);)n=n[0];return n}function $d(n,e){return It(e[n])}function $n(n,e){return It(e[n.index])}function ym(n,e){return n.data[e]}function Bo(n,e){return n[e]}function Hn(n,e){const t=e[n];return Mn(t)?t:t[0]}function Hd(n){return 64==(64&n[2])}function $i(n,e){return null==e?null:n[e]}function YD(n){n[18]=0}function vm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ie={lFrame:oA(null),bindingsEnabled:!0};function ZD(){return ie.bindingsEnabled}function D(){return ie.lFrame.lView}function Ce(){return ie.lFrame.tView}function lt(n){return ie.lFrame.contextLView=n,n[8]}function dt(n){return ie.lFrame.contextLView=null,n}function St(){let n=XD();for(;null!==n&&64===n.type;)n=n.parent;return n}function XD(){return ie.lFrame.currentTNode}function Pr(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Im(){return ie.lFrame.isParent}function vn(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function jo(){return ie.lFrame.bindingIndex++}function ui(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function mj(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,Cm(e)}function Cm(n){ie.lFrame.currentDirectiveIndex=n}function rA(){return ie.lFrame.currentQueryIndex}function bm(n){ie.lFrame.currentQueryIndex=n}function yj(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function iA(n,e,t){if(t&J.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=yj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=sA();return r.currentTNode=e,r.lView=n,!0}function Tm(n){const e=sA(),t=n[1];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function sA(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?oA(n):e}function oA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function aA(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const uA=aA;function Dm(){const n=aA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function In(){return ie.lFrame.selectedIndex}function Hi(n){ie.lFrame.selectedIndex=n}function Ze(){const n=ie.lFrame;return ym(n.tView,n.selectedIndex)}function Gd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function zd(n,e,t){cA(n,e,3,t)}function qd(n,e,t,r){(3&n[2])===t&&cA(n,e,t,r)}function Am(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function cA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(Aj(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function Aj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Hu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Wd(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];dA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function lA(n){return 3===n||4===n||6===n}function dA(n){return 64===n.charCodeAt(0)}function Kd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||hA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function hA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function fA(n){return-1!==n}function $o(n){return 32767&n}function Ho(n,e){let t=function Rj(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Mm=!0;function Qd(n){const e=Mm;return Mm=n,e}let kj=0;const xr={};function zu(n,e){const t=xm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Pm(r.data,n),Pm(e,null),Pm(r.blueprint,null));const i=Yd(n,e),s=n.injectorIndex;if(fA(i)){const o=$o(i),a=Ho(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Pm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Yd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=CA(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Jd(n,e,t){!function Oj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vu)&&(r=t[Vu]),null==r&&(r=t[Vu]=kj++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function mA(n,e,t){if(t&J.Optional||void 0!==n)return n;kd()}function _A(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),0==(t&(J.Self|J.Host))){const i=n[9],s=er(void 0);try{return i?i.get(e,r,t&J.Optional):BD(e,r,t&J.Optional)}finally{er(s)}}return mA(r,0,t)}function yA(n,e,t,r=J.Default,i){if(null!==n){if(1024&e[2]){const o=function Uj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=vA(s,o,t,r|J.Self,xr);if(a!==xr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(t,xr,r);if(l!==xr)return l}u=CA(o),o=o[15]}s=u}return i}(n,e,t,r,xr);if(o!==xr)return o}const s=vA(n,e,t,r,xr);if(s!==xr)return s}return _A(e,t,r,i)}function vA(n,e,t,r,i){const s=function Vj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vu)?n[Vu]:void 0;return"number"==typeof e?e>=0?255&e:Lj:e}(t);if("function"==typeof s){if(!iA(e,n,r))return r&J.Host?mA(i,0,r):_A(e,t,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;kd()}finally{uA()}}else if("number"==typeof s){let o=null,a=xm(n,e),u=-1,c=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(u=-1===a?Yd(n,e):e[a+8],-1!==u&&EA(r,!1)?(o=e[1],a=$o(u),e=Ho(u,e)):a=-1);-1!==a;){const l=e[1];if(IA(s,a,l.data)){const d=Fj(a,e,t,o,r,c);if(d!==xr)return d}u=e[a+8],-1!==u&&EA(r,e[1].data[a+8]===c)&&IA(s,a,e)?(o=l,a=$o(u),e=Ho(u,e)):a=-1}}return i}function Fj(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=Zd(a,o,t,null==r?Bd(a)&&Mm:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==l?qu(e,o,l,a):xr}function Zd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&_r(f)&&f.type===t)return u}return null}function qu(n,e,t,r){let i=n[t];const s=e.data;if(function Sj(n){return n instanceof Hu}(i)){const o=i;o.resolving&&function kB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}(s[t]));const a=Qd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?er(o.injectImpl):null;iA(n,r,J.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Dj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=WD(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&er(u),Qd(a),o.resolving=!1,uA()}}return i}function IA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function EA(n,e){return!(n&J.Self||n&J.Host&&e)}class Go{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return yA(this._tNode,this._lView,e,r,t)}}function Lj(){return new Go(St(),D())}function an(n){return ji(()=>{const e=n.prototype.constructor,t=e[oi]||Rm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[oi]||Rm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Rm(n){return om(n)?()=>{const e=Rm(te(n));return e&&e()}:Vs(n)}function CA(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const qo="__parameters__";function Ko(n,e,t){return ji(()=>{const r=function km(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(qo)?u[qo]:Object.defineProperty(u,qo,{value:[]})[qo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Gn(r,e)):e!==n&&e.push(r)}return e}function ci(n,e){n.forEach(t=>Array.isArray(t)?ci(t,e):e(t))}function bA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zn(n,e,t){let r=Qo(n,e);return r>=0?n[1|r]=t:(r=~r,function Hj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Nm(n,e){const t=Qo(n,e);if(t>=0)return n[1|t]}function Qo(n,e){return function AA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ju={},Vm="__NG_DI_FLAG__",th="ngTempTokenPath",Jj=/\n/gm,SA="__source";let Zu;function Yo(n){const e=Zu;return Zu=n,e}function Xj(n,e=J.Default){if(void 0===Zu)throw new k(-203,!1);return null===Zu?BD(n,void 0,e):Zu.get(n,e&J.Optional?null:void 0,e)}function N(n,e=J.Default){return(function $B(){return um}()||Xj)(te(n),e)}function Ke(n,e=J.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),N(n,e)}function Lm(n){const e=[];for(let t=0;t<n.length;t++){const r=te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],u=e$(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function Xu(n,e){return n[Vm]=e,n.prototype[Vm]=e,n}function e$(n){return n[Vm]}const zi=Xu(Ko("Optional"),8),Jo=Xu(Ko("SkipSelf"),4);var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();const Hm=new Map;let y$=0;const zm="__ngContext__";function un(n,e){Mn(e)?(n[zm]=e[20],function I$(n){Hm.set(n[20],n)}(e)):n[zm]=e}function Wm(n,e){return undefined(n,e)}function rc(n){const e=n[3];return mr(e)?e[3]:e}function Km(n){return QA(n[13])}function Qm(n){return QA(n[4])}function QA(n){for(;null!==n&&!mr(n);)n=n[4];return n}function Xo(n,e,t,r,i){if(null!=r){let s,o=!1;mr(r)?s=r:Mn(r)&&(o=!0,r=r[0]);const a=It(r);0===n&&null!==t?null==i?t0(e,t,a):Ls(e,t,a,i||null,!0):1===n&&null!==t?Ls(e,t,a,i||null,!0):2===n?function n_(n,e,t){const r=ih(n,e);r&&function $$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function z$(n,e,t,r,i){const s=t[7];s!==It(t)&&Xo(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];ic(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Jm(n,e,t){return n.createElement(e,t)}function JA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,vm(i,-1)),t.splice(r,1)}function Zm(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&JA(i,r),e>0&&(n[t-1][4]=r[4]);const s=Xd(n,10+e);!function O$(n,e){ic(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function ZA(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&ic(n,e,t,3,null,null),function V$(n){let e=n[13];if(!e)return Xm(n[1],n);for(;e;){let t=null;if(Mn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Mn(e)&&Xm(e[1],e),e=e[3];null===e&&(e=n),Mn(e)&&Xm(e[1],e),t=e&&e[4]}e=t}}(e)}}function Xm(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function j$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function B$(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):It(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&mr(e[3])){t!==e[3]&&JA(t,e);const r=e[19];null!==r&&r.detachView(n)}!function E$(n){Hm.delete(n[20])}(e)}}function XA(n,e,t){return function e0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Mr.None||i===Mr.Emulated)return null}return $n(r,t)}(n,e.parent,t)}function Ls(n,e,t,r,i){n.insertBefore(e,t,r,i)}function t0(n,e,t){n.appendChild(e,t)}function n0(n,e,t,r,i){null!==r?Ls(n,e,t,r,i):t0(n,e,t)}function ih(n,e){return n.parentNode(e)}let o_,o0=function s0(n,e,t){return 40&n.type?$n(n,t):null};function sh(n,e,t,r){const i=XA(n,r,e),s=e[11],a=function r0(n,e,t){return o0(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)n0(s,i,t[u],a,!1);else n0(s,i,t,a,!1)}function oh(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return t_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return oh(n,r);{const i=n[e.index];return mr(i)?t_(-1,i):It(i)}}if(32&t)return Wm(e,n)()||It(n[e.index]);{const r=u0(n,e);return null!==r?Array.isArray(r)?r[0]:oh(rc(n[16]),r):oh(n,e.next)}}return null}function u0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function t_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return oh(r,i)}return e[7]}function r_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&un(It(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)r_(n,e,t.child,r,i,s,!1),Xo(e,n,i,a,s);else if(32&u){const c=Wm(t,r);let l;for(;l=c();)Xo(e,n,i,l,s);Xo(e,n,i,a,s)}else 16&u?c0(n,e,r,t,i,s):Xo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ic(n,e,t,r,i,s){r_(t,r,n.firstChild,e,i,s,!1)}function c0(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Xo(e,n,i,u[c],s);else r_(n,e,u,o[3],i,s,!0)}function l0(n,e,t){n.setAttribute(e,"style",t)}function i_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}class Bs{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qn(n){return n instanceof Bs?n.changingThisBreaksApplicationSecurity:n}const dH=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function ea(n){const e=function oc(){const n=D();return n&&n[12]}();return e?e.sanitize(De.URL,n)||"":function Rr(n,e){const t=function nH(n){return n instanceof Bs&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?qn(n):function ch(n){return(n=String(n)).match(dH)?n:"unsafe:"+n}(oe(n))}const d_=new B("ENVIRONMENT_INITIALIZER"),w0=new B("INJECTOR",-1),b0=new B("INJECTOR_DEF_TYPES");class T0{get(e,t=Ju){if(t===Ju){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}function bH(...n){return{\u0275providers:D0(0,n)}}function D0(n,...e){const t=[],r=new Set;let i;return ci(e,s=>{const o=s;h_(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&A0(i,t),t}function A0(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ci(i,s=>{e.push(s)})}}function h_(n,e,t,r){if(!(n=te(n)))return!1;let i=null,s=LD(n);const o=!s&&Me(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=LD(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)h_(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ci(s.imports,l=>{h_(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&A0(c,e)}if(!a){const c=Vs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Te},{provide:b0,useValue:i,multi:!0},{provide:d_,useValue:()=>N(i),multi:!0})}const u=s.providers;null==u||a||ci(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}const TH=Oe({provide:String,useValue:Oe});function f_(n){return null!==n&&"object"==typeof n&&TH in n}function js(n){return"function"==typeof n}const p_=new B("Set Injector scope."),dh={},AH={};let g_;function hh(){return void 0===g_&&(g_=new T0),g_}class qi{}class P0 extends qi{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,__(e,o=>this.processProvider(o)),this.records.set(w0,ta(void 0,this)),i.has("environment")&&this.records.set(qi,ta(void 0,this));const s=this.records.get(p_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(b0.multi,Te,J.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Yo(this),r=er(void 0);try{return e()}finally{Yo(t),er(r)}}get(e,t=Ju,r=J.Default){this.assertNotDestroyed();const i=Yo(this),s=er(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function RH(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&Od(e);a=u&&this.injectableDefInScope(u)?ta(m_(e),dh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?hh():this.parent).get(e,t=r&J.Optional&&t===Ju?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[th]=o[th]||[]).unshift(Ne(e)),i)throw o;return function t$(n,e,t,r){const i=n[th];throw e[SA]&&i.unshift(e[SA]),n.message=function n$(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Jj,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[th]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{er(s),Yo(i)}}resolveInjectorInitializers(){const e=Yo(this),t=er(void 0);try{const r=this.get(d_.multi,Te,J.Self);for(const i of r)i()}finally{Yo(e),er(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=js(e=te(e))?e:te(e&&e.provide);const r=function MH(n){return f_(n)?ta(void 0,n.useValue):ta(x0(n),dh)}(e);if(js(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ta(void 0,dh,!0),i.factory=()=>Lm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===dh&&(t.value=AH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function xH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function m_(n){const e=Od(n),t=null!==e?e.factory:Vs(n);if(null!==t)return t;if(n instanceof B)throw new k(204,!1);if(n instanceof Function)return function SH(n){const e=n.length;if(e>0)throw function Yu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new k(204,!1);const t=function UB(n){const e=n&&(n[Nd]||n[UD]);if(e){const t=function BB(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function x0(n,e,t){let r;if(js(n)){const i=te(n);return Vs(i)||m_(i)}if(f_(n))r=()=>te(n.useValue);else if(function M0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Lm(n.deps||[]));else if(function S0(n){return!(!n||!n.useExisting)}(n))r=()=>N(te(n.useExisting));else{const i=te(n&&(n.useClass||n.provide));if(!function PH(n){return!!n.deps}(n))return Vs(i)||m_(i);r=()=>new i(...Lm(n.deps))}return r}function ta(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function kH(n){return!!n.\u0275providers}function __(n,e){for(const t of n)Array.isArray(t)?__(t,e):kH(t)?__(t.\u0275providers,e):e(t)}class R0{}class FH{resolveComponentFactory(e){throw function NH(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ac=(()=>{class n{}return n.NULL=new FH,n})();function VH(){return na(St(),D())}function na(n,e){return new xn($n(n,e))}let xn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=VH,n})();function LH(n){return n instanceof xn?n.nativeElement:n}class O0{}let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function UH(){const n=D(),t=Hn(St().index,n);return(Mn(t)?t:n)[11]}(),n})(),BH=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class Wi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jH=new Wi("14.3.0"),y_={};function I_(n){return n.ngOriginalError}class Ki{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&I_(e);for(;t&&I_(t);)t=I_(t);return t||null}}function di(n){return n instanceof Function?n():n}function F0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const V0="ng-template";function ZH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==F0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function L0(n){return 4===n.type&&n.value!==V0}function XH(n,e,t){return e===(4!==n.type||t?n.value:V0)}function e3(n,e,t){let r=4;const i=n.attrs||[],s=function r3(n){for(let e=0;e<n.length;e++)if(lA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!XH(n,u,t)||""===u&&1===e.length){if(yr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!ZH(n.attrs,c,t)){if(yr(r))return!1;o=!0}continue}const d=t3(8&r?"class":u,i,L0(n),t);if(-1===d){if(yr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==F0(f,c,0)||2&r&&c!==h){if(yr(r))return!1;o=!0}}}}else{if(!o&&!yr(r)&&!yr(u))return!1;if(o&&yr(u))continue;o=!1,r=u|1&r}}return yr(r)||o}function yr(n){return 0==(1&n)}function t3(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function s3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function U0(n,e,t=!1){for(let r=0;r<e.length;r++)if(e3(n,e[r],t))return!0;return!1}function B0(n,e){return n?":not("+e.trim()+")":e}function a3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!yr(o)&&(e+=B0(s,i),i=""),r=o,s=s||!yr(r);t++}return""!==i&&(e+=B0(s,i)),e}const ae={};function j(n){j0(Ce(),D(),In()+n,!1)}function j0(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&zd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&qd(e,s,0,t)}Hi(t)}function z0(n,e=null,t=null,r){const i=q0(n,e,t,r);return i.resolveInjectorInitializers(),i}function q0(n,e=null,t=null,r,i=new Set){const s=[t||Te,bH(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new P0(s,e||hh(),r||null,i)}let Rn=(()=>{class n{static create(t,r){if(Array.isArray(t))return z0({name:""},r,t,"");{const i=t.name??"";return z0({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ju,n.NULL=new T0,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>N(w0)}),n.__NG_ELEMENT_ID__=-1,n})();function w(n,e=J.Default){const t=D();return null===t?N(n,e):yA(St(),t,te(n),e)}function T_(){throw new Error("invalid")}function ph(n,e){return n<<17|e<<2}function vr(n){return n>>17&32767}function D_(n){return 2|n}function hi(n){return(131068&n)>>2}function A_(n,e){return-131069&n|e<<2}function S_(n){return 1|n}function cS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];bm(i),o.contentQueries(2,e[s],s)}}}function _h(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||n&&1024&n[2])&&(d[2]|=1024),YD(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function v$(){return y$++}(),d[21]=l,d[16]=2==e.type?n[16]:d,d}function sa(n,e,t,r,i){let s=n.data[e];if(null===s)s=function F_(n,e,t,r,i){const s=XD(),o=Im(),u=n.data[e]=function H3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function gj(){return ie.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function $u(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pr(s,!0),s}function oa(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function V_(n,e,t){Tm(e);try{const r=n.viewQuery;null!==r&&z_(1,r,t);const i=n.template;null!==i&&lS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&cS(n,e),n.staticViewQueries&&z_(2,n.viewQuery,t);const s=n.components;null!==s&&function B3(n,e){for(let t=0;t<e.length;t++)s4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Dm()}}function yh(n,e,t,r){const i=e[2];if(128!=(128&i)){Tm(e);try{YD(e),function tA(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&zd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&qd(e,c,0,null),Am(e,0)}if(function r4(n){for(let e=Km(n);null!==e;e=Qm(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&vm(s,1),i[2]|=512}}}(e),function n4(n){for(let e=Km(n);null!==e;e=Qm(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Hd(r)&&yh(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&cS(n,e),o){const c=n.contentCheckHooks;null!==c&&zd(e,c)}else{const c=n.contentHooks;null!==c&&qd(e,c,1),Am(e,1)}!function L3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Hi(~i);else{const s=i,o=t[++r],a=t[++r];mj(o,s),a(2,e[s])}}}finally{Hi(-1)}}(n,e);const a=n.components;null!==a&&function U3(n,e){for(let t=0;t<e.length;t++)i4(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&z_(2,u,r),o){const c=n.viewCheckHooks;null!==c&&zd(e,c)}else{const c=n.viewHooks;null!==c&&qd(e,c,2),Am(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,vm(e[3],-1))}finally{Dm()}}}function lS(n,e,t,r,i){const s=In(),o=2&r;try{Hi(-1),o&&e.length>22&&j0(n,e,22,!1),t(r,i)}finally{Hi(s)}}function L_(n,e,t){!ZD()||(function K3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||zu(t,e),un(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=_r(u);c&&X3(e,t,u);const l=qu(e,n,a,t);un(l,e),null!==o&&e4(0,a-i,l,u,0,o),c&&(Hn(t.index,e)[8]=l)}}(n,e,t,$n(t,e)),128==(128&t.flags)&&function Q3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function _j(){return ie.lFrame.currentDirectiveIndex}();try{Hi(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];Cm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&yS(u,c)}}finally{Hi(-1),Cm(o)}}(n,e,t))}function U_(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function hS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=B_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function B_(n,e,t,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function j3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function fS(n,e,t,r){const i=wS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&bS(n).push(r,i.length-1))}function pS(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function gS(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||L0(e)?null:t4(d,s);o.push(h),a=pS(d,c,a),u=pS(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function Wn(n,e,t,r,i,s,o,a){const u=$n(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(q_(n,t,l,r,i),Bd(e)&&mS(t,e.index)):3&e.type&&(r=function G3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function mS(n,e){const t=Hn(e,n);16&t[2]||(t[2]|=32)}function j_(n,e,t,r){let i=!1;if(ZD()){const s=function Y3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];U0(t,o.selectors,!1)&&(i||(i=[]),Jd(zu(t,e),n,o.type),_r(o)?(vS(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,IS(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=oa(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=Kd(t.mergedAttrs,d.hostAttrs),ES(n,t,e,c,d),Z3(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}gS(n,t)}o&&function J3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Kd(t.mergedAttrs,t.attrs),i}function _S(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function W3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function yS(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function vS(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Z3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_r(e)&&(t[""]=n)}}function IS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ES(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Vs(i.type)),o=new Hu(s,_r(i),w);n.blueprint[r]=o,t[r]=o,_S(n,e,0,r,oa(n,t,i.hostVars,ae),i)}function X3(n,e,t){const r=$n(e,n),i=hS(t),s=n[10],o=vh(n,_h(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function Or(n,e,t,r,i,s){const o=$n(n,e);!function $_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?oe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function e4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function t4(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function CS(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function i4(n,e){const t=Hn(e,n);if(Hd(t)){const r=t[1];48&t[2]?yh(r,t,r.template,t[8]):t[5]>0&&H_(t)}}function H_(n){for(let r=Km(n);null!==r;r=Qm(r))for(let i=10;i<r.length;i++){const s=r[i];if(Hd(s))if(512&s[2]){const o=s[1];yh(o,s,o.template,s[8])}else s[5]>0&&H_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Hn(t[r],n);Hd(i)&&i[5]>0&&H_(i)}}function s4(n,e){const t=Hn(e,n),r=t[1];(function o4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),V_(r,t,t[8])}function vh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function G_(n){for(;n;){n[2]|=32;const e=rc(n);if(QB(n)&&!e)return n;n=e}return null}function Ih(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{yh(n,e,n.template,t)}catch(o){throw r&&DS(e,o),o}finally{i.end&&i.end()}}function z_(n,e,t){bm(0),e(n,t)}function wS(n){return n[7]||(n[7]=[])}function bS(n){return n.cleanup||(n.cleanup=[])}function DS(n,e){const t=n[9],r=t?t.get(Ki,null):null;r&&r.handleError(e)}function q_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function fi(n,e,t){const r=$d(e,n);!function YA(n,e,t){n.setValue(e,t)}(n[11],r,t)}function Eh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=sm(i,a):2==s&&(r=sm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ch(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(It(s)),mr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Ch(u[1],u,c,r)}const o=t.type;if(8&o)Ch(n,e,t.child,r);else if(32&o){const a=Wm(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=u0(e,t);if(Array.isArray(a))r.push(...a);else{const u=rc(e[16]);Ch(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class uc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Ch(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Zm(e,r),Xd(t,r))}this._attachedToViewContainer=!1}ZA(this._lView[1],this._lView)}onDestroy(e){fS(this._lView[1],this._lView,null,e)}markForCheck(){G_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ih(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function F$(n,e){ic(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class a4 extends uc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Ih(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class W_ extends ac{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Me(e);return new cc(t,this.ngModule)}}function AS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class c4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,y_,r);return i!==y_||t===y_?i:this.parentInjector.get(e,t,r)}}class cc extends R0{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function u3(n){return n.map(a3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return AS(this.componentDef.inputs)}get outputs(){return AS(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof qi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new c4(e,s):e,a=o.get(O0,null);if(null===a)throw new k(407,!1);const u=o.get(BH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function $3(n,e,t){return n.selectRootElement(e,t===Mr.ShadowDom)}(c,r,this.componentDef.encapsulation):Jm(c,l,function u4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=B_(0,null,null,1,0,null,null,null,null,null),p=_h(null,f,null,h,null,null,a,c,u,o,null);let g,m;Tm(p);try{const v=function h4(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=sa(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(Eh(u,c,!0),null!==n&&(Wd(i,n,c),null!==u.classes&&i_(i,n,u.classes),null!==u.styles&&l0(i,n,u.styles)));const l=r.createRenderer(n,e),d=_h(t,hS(e),null,e.onPush?32:16,t[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(Jd(zu(u,t),o,e.type),vS(o,u),IS(u,t.length,1)),vh(t,d),t[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)Wd(c,d,["ng-version",jH.full]);else{const{attrs:C,classes:y}=function c3(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!yr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&Wd(c,d,C),y&&y.length>0&&i_(c,d,y.join(" "))}if(m=ym(f,22),void 0!==t){const C=m.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const P=t[y];C.push(null!=P?Array.from(P):null)}}g=function f4(n,e,t,r){const i=t[1],s=function q3(n,e,t){const r=St();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),ES(n,r,e,oa(n,e,1,null),t),gS(n,r));const i=qu(e,n,r.directiveStart,r);un(i,e);const s=$n(r,e);return s&&un(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=St();e.contentQueries(1,s,a.directiveStart)}const o=St();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Hi(o.index),_S(t[1],o,0,o.directiveStart,o.directiveEnd,e),yS(e,s)),s}(v,this.componentDef,p,[p4]),V_(f,p,null)}finally{Dm()}return new d4(this.componentType,g,na(m,p),p,m)}}class d4 extends class OH{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new a4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;q_(s[1],s,i,e,t),mS(s,this._tNode.index)}}get injector(){return new Go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function p4(){const n=St();Gd(D()[1],n)}function Pe(n){let e=function SS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(_r(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=K_(n.inputs),o.declaredInputs=K_(n.declaredInputs),o.outputs=K_(n.outputs);const a=i.hostBindings;a&&y4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&m4(n,u),c&&_4(n,c),im(n.inputs,i.inputs),im(n.declaredInputs,i.declaredInputs),im(n.outputs,i.outputs),_r(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Pe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function g4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Kd(i.hostAttrs,t=Kd(t,i.hostAttrs))}}(r)}function K_(n){return n===No?{}:n===Te?[]:n}function m4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function _4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function y4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let wh=null;function $s(){if(!wh){const n=Le.Symbol;if(n&&n.iterator)wh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(wh=r)}}}return wh}function lc(n){return!!Q_(n)&&(Array.isArray(n)||!(n instanceof Map)&&$s()in n)}function Q_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nr(n,e,t){return n[e]=t}function cn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Hs(n,e,t,r){const i=cn(n,e,t);return cn(n,e+1,r)||i}function Kn(n,e,t,r){const i=D();return cn(i,jo(),e)&&(Ce(),Or(Ze(),i,n,e,t,r)),Kn}function ua(n,e,t,r){return cn(n,jo(),t)?e+oe(t)+r:ae}function ca(n,e,t,r,i,s){const a=Hs(n,function ai(){return ie.lFrame.bindingIndex}(),t,i);return ui(2),a?e+oe(t)+r+oe(i)+s:ae}function ye(n,e,t,r,i,s,o,a){const u=D(),c=Ce(),l=n+22,d=c.firstCreatePass?function D4(n,e,t,r,i,s,o,a,u){const c=e.consts,l=sa(e,n,4,o||null,$i(c,a));j_(e,t,l,$i(c,u)),Gd(e,l);const d=l.tViews=B_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Pr(d,!1);const h=u[11].createComment("");sh(c,u,h,d),un(h,u),vh(u,u[l]=CS(h,u,h,d)),jd(d)&&L_(c,u,d),null!=o&&U_(u,d,a)}function hc(n){return Bo(function pj(){return ie.lFrame.contextLView}(),22+n)}function Q(n,e,t){const r=D();return cn(r,jo(),e)&&Wn(Ce(),Ze(),r,n,e,r[11],t,!1),Q}function Y_(n,e,t,r,i){const o=i?"class":"style";q_(n,t,e.inputs[o],o,r)}function b(n,e,t,r){const i=D(),s=Ce(),o=22+n,a=i[11],u=i[o]=Jm(a,e,function Tj(){return ie.lFrame.currentNamespace}()),c=s.firstCreatePass?function S4(n,e,t,r,i,s,o){const a=e.consts,c=sa(e,n,2,i,$i(a,s));return j_(e,t,c,$i(a,o)),null!==c.attrs&&Eh(c,c.attrs,!1),null!==c.mergedAttrs&&Eh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Pr(c,!0);const l=c.mergedAttrs;null!==l&&Wd(a,u,l);const d=c.classes;null!==d&&i_(a,u,d);const h=c.styles;return null!==h&&l0(a,u,h),64!=(64&c.flags)&&sh(s,i,u,c),0===function cj(){return ie.lFrame.elementDepthCount}()&&un(u,i),function lj(){ie.lFrame.elementDepthCount++}(),jd(c)&&(L_(s,i,c),function dS(n,e,t){if(fm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&U_(i,c),b}function T(){let n=St();Im()?function Em(){ie.lFrame.isParent=!1}():(n=n.parent,Pr(n,!1));const e=n;!function dj(){ie.lFrame.elementDepthCount--}();const t=Ce();return t.firstCreatePass&&(Gd(t,n),fm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Pj(n){return 0!=(16&n.flags)}(e)&&Y_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function xj(n){return 0!=(32&n.flags)}(e)&&Y_(t,e,D(),e.stylesWithoutHost,!1),T}function Pt(n,e,t,r){return b(n,e,t,r),T(),Pt}function xt(){return D()}function fc(n){return!!n&&"function"==typeof n.then}const X_=function US(n){return!!n&&"function"==typeof n.subscribe};function ne(n,e,t,r){const i=D(),s=Ce(),o=St();return function jS(n,e,t,r,i,s,o,a){const u=jd(r),l=n.firstCreatePass&&bS(n),d=e[8],h=wS(e);let f=!0;if(3&r.type||a){const m=$n(r,e),v=a?a(m):m,C=h.length,y=a?H=>a(It(H[r.index])):r.index;let P=null;if(!a&&u&&(P=function P4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=HS(r,e,d,s,!1);const H=t.listen(v,i,s);h.push(s,H),l&&l.push(i,y,C,C+1)}}else s=HS(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const K=e[g[v]][g[v+1]].subscribe(s),Se=h.length;h.push(s,K),l&&l.push(i,r.index,Se,-(Se+1))}}}(s,i,i[11],o,n,e,0,r),ne}function $S(n,e,t,r){try{return!1!==t(r)}catch(i){return DS(n,i),!1}}function HS(n,e,t,r,i){return function s(o){if(o===Function)return r;G_(2&n.flags?Hn(n.index,e):e);let u=$S(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=$S(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ce(n=1){return function vj(n){return(ie.lFrame.contextLView=function Ij(n,e){for(;n>0;)e=e[15],n--;return e}(n,ie.lFrame.contextLView))[8]}(n)}function Gs(n,e,t){return ey(n,"",e,"",t),Gs}function ey(n,e,t,r,i){const s=D(),o=ua(s,e,t,r);return o!==ae&&Wn(Ce(),Ze(),s,n,o,s[11],i,!1),ey}function ZS(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?vr(s):hi(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];F4(n[a],e)&&(u=!0,n[a+1]=r?S_(l):D_(l)),a=r?vr(l):hi(l)}u&&(n[t+1]=r?D_(s):S_(s))}function F4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Qo(n,e)>=0}const Rt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XS(n){return n.substring(Rt.key,Rt.keyEnd)}function eM(n,e){const t=Rt.textEnd;return t===e?-1:(e=Rt.keyEnd=function B4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Rt.key=e,t),ma(n,e,t))}function ma(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ty(n,e,t){return Ir(n,e,t,!1),ty}function Th(n,e){return Ir(n,e,null,!0),Th}function Vr(n,e){for(let t=function L4(n){return function nM(n){Rt.key=0,Rt.keyEnd=0,Rt.value=0,Rt.valueEnd=0,Rt.textEnd=n.length}(n),eM(n,ma(n,0,Rt.textEnd))}(e);t>=0;t=eM(e,t))zn(n,XS(e),!0)}function Ir(n,e,t,r){const i=D(),s=Ce(),o=ui(2);s.firstUpdatePass&&aM(s,n,o,r),e!==ae&&cn(i,o,e)&&cM(s,s.data[In()],i,i[11],n,i[o+1]=function Y4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(qn(n)))),n}(e,t),r,o)}function Er(n,e,t,r){const i=Ce(),s=ui(2);i.firstUpdatePass&&aM(i,null,s,r);const o=D();if(t!==ae&&cn(o,s,t)){const a=i.data[In()];if(dM(a,r)&&!oM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=sm(u,t||"")),Y_(i,a,o,t,r)}else!function Q4(n,e,t,r,i,s,o,a){i===ae&&(i=Te);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&cM(n,e,t,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function K4(n,e,t){if(null==t||""===t)return Te;const r=[],i=qn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function oM(n,e){return e>=n.expandoStartIndex}function aM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[In()],o=oM(n,t);dM(s,r)&&null===e&&!o&&(e=!1),e=function G4(n,e,t,r){const i=function wm(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=pc(t=ny(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=ny(i,n,e,t,r),null===s){let u=function z4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==hi(r))return n[vr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=ny(null,n,e,u[1],r),u=pc(u,e.attrs,r),function q4(n,e,t,r){n[vr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function W4(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=pc(r,n[s].hostAttrs,t);return pc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function O4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vr(o),u=hi(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||Qo(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=vr(n[a+1]);n[r+1]=ph(h,a),0!==h&&(n[h+1]=A_(n[h+1],r)),n[a+1]=function S3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=ph(a,0),0!==a&&(n[a+1]=A_(n[a+1],r)),a=r;else n[r+1]=ph(u,0),0===a?a=r:n[u+1]=A_(n[u+1],r),u=r;c&&(n[r+1]=D_(n[r+1])),ZS(n,l,r,!0),ZS(n,l,r,!1),function N4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Qo(s,e)>=0&&(t[r+1]=S_(t[r+1]))}(e,l,n,r,s),o=ph(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function ny(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=pc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function pc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zn(n,o,!!t||e[++s]))}return void 0===n?null:n}function cM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];Dh(function tS(n){return 1==(1&n)}(c)?lM(u,e,t,i,hi(c),o):void 0)||(Dh(s)||function eS(n){return 2==(2&n)}(c)&&(s=lM(u,null,t,i,a,o)),function q$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Pn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),n.setStyle(t,r,i,s))}}(r,o,$d(In(),t),i,s))}function lM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===ae&&(h=d?Te:void 0);let f=d?Nm(h,r):l===r?h:void 0;if(c&&!Dh(f)&&(f=Nm(u,r)),Dh(f)&&(a=f,o))return a;const p=n[i+1];i=o?vr(p):hi(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Nm(u,r))}return a}function Dh(n){return void 0!==n}function dM(n,e){return 0!=(n.flags&(e?16:32))}function x(n,e=""){const t=D(),r=Ce(),i=n+22,s=r.firstCreatePass?sa(r,i,1,e,null):r.data[i],o=t[i]=function Ym(n,e){return n.createText(e)}(t[11],e);sh(r,t,o,s),Pr(s,!1)}function Lr(n){return kn("",n,""),Lr}function kn(n,e,t){const r=D(),i=ua(r,n,e,t);return i!==ae&&fi(r,In(),i),kn}function Ah(n,e,t,r,i){const s=D(),o=ca(s,n,e,t,r,i);return o!==ae&&fi(s,In(),o),Ah}const zs=void 0;var gG=["en",[["a","p"],["AM","PM"],zs],[["AM","PM"],zs,zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zs,"{1} 'at' {0}",zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pG(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let _a={};function Cn(n){const e=function mG(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=RM(e);if(t)return t;const r=e.split("-")[0];if(t=RM(r),t)return t;if("en"===r)return gG;throw new k(701,!1)}function RM(n){return n in _a||(_a[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),_a[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const ya="en-US";let kM=ya;function sy(n,e,t,r,i){if(n=te(n),Array.isArray(n))for(let s=0;s<n.length;s++)sy(n[s],e,t,r,i);else{const s=Ce(),o=D();let a=js(n)?n:te(n.provide),u=x0(n);const c=St(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(js(n)||!n.multi){const f=new Hu(u,i,w),p=ay(a,e,i?l:l+h,d);-1===p?(Jd(zu(c,o),s,a),oy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=ay(a,e,l+h,d),p=ay(a,e,l,l+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Jd(zu(c,o),s,a);const v=function f5(n,e,t,r,i){const s=new Hu(n,t,w);return s.multi=[],s.index=e,s.componentProviders=0,iP(s,i,r&&!t),s}(i?h5:d5,t.length,i,r,u);!i&&m&&(t[p].providerFactory=v),oy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else oy(s,n,f>-1?f:p,iP(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function oy(n,e,t,r){const i=js(e),s=function DH(n){return!!n.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function iP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ay(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function d5(n,e,t,r){return uy(this.multi,[])}function h5(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=qu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),uy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],uy(i,s);return s}function uy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function l5(n,e,t){const r=Ce();if(r.firstCreatePass){const i=_r(n);sy(t,r.data,r.blueprint,i,!0),sy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class qs{}class sP{}class oP extends qs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new W_(this);const r=Bn(e);this._bootstrapComponents=di(r.bootstrap),this._r3Injector=q0(e,t,[{provide:qs,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cy extends sP{constructor(e){super(),this.moduleType=e}create(e){return new oP(this.moduleType,e)}}class g5 extends qs{constructor(e,t,r){super(),this.componentFactoryResolver=new W_(this),this.instance=null;const i=new P0([...e,{provide:qs,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],t||hh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Rh(n,e,t=null){return new g5(n,e,t).injector}let m5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=D0(0,t.type),i=r.length>0?Rh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(N(qi))}),n})();function aP(n){n.getStandaloneInjector=e=>e.get(m5).getOrCreateStandaloneInjector(n)}function dy(n,e,t,r){return gP(D(),vn(),n,e,t,r)}function pP(n,e,t,r,i,s,o,a){const u=vn()+n,c=D(),l=function ir(n,e,t,r,i,s){const o=Hs(n,e,t,r);return Hs(n,e+2,i,s)||o}(c,u,t,r,i,s);return cn(c,u+4,o)||l?Nr(c,u+5,a?e.call(a,t,r,i,s,o):e(t,r,i,s,o)):function dc(n,e){return n[e]}(c,u+5)}function Ic(n,e){const t=n[e];return t===ae?void 0:t}function gP(n,e,t,r,i,s){const o=e+t;return cn(n,o,i)?Nr(n,o+1,s?r.call(s,i):r(i)):Ic(n,o+1)}function va(n,e){const t=Ce();let r;const i=n+22;t.firstCreatePass?(r=function k5(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Vs(r.type)),o=er(w);try{const a=Qd(!1),u=s();return Qd(a),function A4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{er(o)}}function hy(n,e,t){const r=n+22,i=D(),s=Bo(i,r);return Ec(i,r)?gP(i,vn(),e,s.transform,t,s):s.transform(t)}function fy(n,e,t,r){const i=n+22,s=D(),o=Bo(s,i);return Ec(s,i)?function mP(n,e,t,r,i,s,o){const a=e+t;return Hs(n,a,i,s)?Nr(n,a+2,o?r.call(o,i,s):r(i,s)):Ic(n,a+2)}(s,vn(),e,o.transform,t,r,o):o.transform(t,r)}function IP(n,e,t){const r=n+22,i=D(),s=Bo(i,r);return Ec(i,r)?function vP(n,e,t,r,i,s){let o=e+t,a=!1;for(let u=0;u<i.length;u++)cn(n,o++,i[u])&&(a=!0);return a?Nr(n,o,r.apply(s,i)):Ic(n,o)}(i,vn(),e,s.transform,t,s):s.transform.apply(s,t)}function Ec(n,e){return n[1].data[e].pure}function py(n){return e=>{setTimeout(n,void 0,e)}}const Xe=class F5 extends Xn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=py(s),i&&(i=py(i)),o&&(o=py(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof tn&&e.add(a),a}};function V5(){return this._results[$s()]()}class gy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=$s(),r=gy.prototype;r[t]||(r[t]=V5)}get changes(){return this._changes||(this._changes=new Xe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Gn(e);(this._changesDetected=!function jj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=B5,n})();const L5=pi,U5=class extends L5{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=_h(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),V_(r,i,e),new uc(i)}};function B5(){return kh(St(),D())}function kh(n,e){return 4&n.type?new U5(e,n,na(n,e)):null}let Cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=j5,n})();function j5(){return wP(St(),D())}const $5=Cr,EP=class extends $5{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return na(this._hostTNode,this._hostLView)}get injector(){return new Go(this._hostTNode,this._hostLView)}get parentInjector(){const e=Yd(this._hostTNode,this._hostLView);if(fA(e)){const t=Ho(e,this._hostLView),r=$o(e);return new Go(t[1].data[r+8],t)}return new Go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=CP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Qu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new cc(Me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(qi,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function uj(n){return mr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new EP(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function L$(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],bA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function U$(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=t_(s,o),u=r[11],c=ih(u,o[7]);return null!==c&&function N$(n,e,t,r,i,s){r[0]=i,r[6]=e,ic(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),bA(my(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=CP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Zm(this._lContainer,t);r&&(Xd(my(this._lContainer),t),ZA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Zm(this._lContainer,t);return r&&null!=Xd(my(this._lContainer),t)?new uc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function CP(n){return n[8]}function my(n){return n[8]||(n[8]=[])}function wP(n,e){let t;const r=e[n.index];if(mr(r))t=r;else{let i;if(8&n.type)i=It(r);else{const s=e[11];i=s.createComment("");const o=$n(n,e);Ls(s,ih(s,o),i,function H$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=CS(r,e,i,n),vh(e,t)}return new EP(t,n,e)}class _y{constructor(e){this.queryList=e,this.matches=null}clone(){return new _y(this.queryList)}setDirty(){this.queryList.setDirty()}}class yy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new yy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==SP(e,t).matches&&this.queries[t].setDirty()}}class bP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class vy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new vy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Iy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Iy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,z5(t,s)),this.matchTNodeWithReadOption(e,t,Zd(t,e,s,!1,!1))}else r===pi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xn||i===Cr||i===pi&&4&t.type)this.addMatch(t.index,-2);else{const s=Zd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function z5(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function W5(n,e,t,r){return-1===t?function q5(n,e){return 11&n.type?na(n,e):4&n.type?kh(n,e):null}(e,n):-2===t?function K5(n,e,t){return t===xn?na(e,n):t===pi?kh(e,n):t===Cr?wP(e,n):void 0}(n,e,r):qu(n,n[1],t,e)}function TP(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:W5(e,s[c],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function Ey(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=TP(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&Ey(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];Ey(f[1],f,c,r)}}}}}return r}function Ia(n){const e=D(),t=Ce(),r=rA();bm(r+1);const i=SP(t,r);if(n.dirty&&function aj(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Ey(t,e,r,[]):TP(t,e,i,r);n.reset(s,LH),n.notifyOnChanges()}return!0}return!1}function Oh(n,e,t){const r=Ce();r.firstCreatePass&&(function AP(n,e,t){null===n.queries&&(n.queries=new vy),n.queries.track(new Iy(e,t))}(r,new bP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function DP(n,e,t){const r=new gy(4==(4&t));fS(n,e,r,r.destroy),null===e[19]&&(e[19]=new yy),e[19].queries.push(new _y(r))}(r,D(),e)}function Ea(){return function Q5(n,e){return n[19].queries[e].queryList}(D(),rA())}function SP(n,e){return n.queries.getByIndex(e)}function Cc(n,e){return kh(n,e)}function Fh(...n){}const Vh=new B("Application Initializer");let Lh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Fh,this.reject=Fh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(fc(s))t.push(s);else if(X_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(N(Vh,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bc=new B("AppId",{providedIn:"root",factory:function WP(){return`${Ay()}${Ay()}${Ay()}`}});function Ay(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const KP=new B("Platform Initializer"),Uh=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),QP=new B("appBootstrapListener");let mz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ur=new B("LocaleId",{providedIn:"root",factory:()=>Ke(Ur,J.Optional|J.SkipSelf)||function _z(){return typeof $localize<"u"&&$localize.locale||ya}()});class vz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Sy=(()=>{class n{compileModuleSync(t){return new cy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=di(Bn(t).declarations).reduce((o,a)=>{const u=Me(a);return u&&o.push(new cc(u)),o},[]);return new vz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cz=(()=>Promise.resolve(0))();function My(n){typeof Zone>"u"?Cz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function wz(){let n=Le.requestAnimationFrame,e=Le.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Dz(n){const e=()=>{!function Tz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xy(n),n.isCheckStableRunning=!0,Py(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return ZP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),XP(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return ZP(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),XP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,xy(n),Py(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kt.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(kt.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bz,Fh,Fh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const bz={};function Py(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function ZP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function XP(n){n._nesting--,Py(n)}class Az{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const ex=new B(""),Bh=new B("");let Oy,Ry=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oy||(function Sz(n){Oy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kt.assertNotInAngularZone(),My(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())My(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(N(kt),N(ky),N(Bh))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),ky=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Oy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ji=null;const tx=new B("AllowMultipleToken"),Ny=new B("PlatformDestroyListeners");class nx{constructor(e,t){this.name=e,this.token=t}}function ix(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Fy();if(!o||o.injector.get(tx,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function xz(n){if(Ji&&!Ji.get(tx,!1))throw new k(400,!1);Ji=n;const e=n.get(ox);(function rx(n){const e=n.get(KP,null);e&&e.forEach(t=>t())})(n)}(function sx(n=[],e){return Rn.create({name:e,providers:[{provide:p_,useValue:"platform"},{provide:Ny,useValue:new Set([()=>Ji=null])},...n]})}(a,r))}return function kz(n){const e=Fy();if(!e)throw new k(401,!1);return e}()}}function Fy(){return Ji?.get(ox)??null}let ox=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function ux(n,e){let t;return t="noop"===n?new Az:("zone.js"===n?void 0:n)||new kt(e),t}(r?.ngZone,function ax(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:kt,useValue:i}];return i.run(()=>{const o=Rn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Ki,null);if(!u)throw new k(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{$h(this._modules,a),c.unsubscribe()})}),function cx(n,e,t){try{const r=t();return fc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Lh);return c.runInitializers(),c.donePromise.then(()=>(function OM(n){Un(n,"Expected localeId to be defined"),"string"==typeof n&&(kM=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ur,ya)||ya),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=lx({},r);return function Mz(n,e,t){const r=new cy(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(jh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ny,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(N(Rn))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function lx(n,e){return Array.isArray(e)?e.reduce(lx,n):{...n,...e}}let jh=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ct(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ct(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{kt.assertNotInAngularZone(),My(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{kt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function xB(...n){const e=Fu(n),t=function bB(n,e){return"number"==typeof nm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fr(r[0]):Oo(t)(vt(r,e)):ii}(s,o.pipe(function FD(n={}){const{connector:e=(()=>new Xn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Lt((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=rm(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Nu({next:C=>v.next(C),error:C=>{d=!0,h(),a=rm(f,t,C),v.error(C)},complete:()=>{l=!0,h(),a=rm(f,r),v.complete()}}),fr(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof R0;if(!this._injector.get(Lh).done)throw!i&&function Fo(n){const e=Me(n)||_n(n)||yn(n);return null!==e&&e.standalone}(t),new k(405,false);let o;o=i?t:this._injector.get(ac).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Pz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(qs),c=o.create(Rn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(ex,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),$h(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;$h(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(QP,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>$h(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(N(kt),N(qi),N(Ki))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $h(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let hx=!0,fx=!1,Hh=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vz,n})();function Vz(n){return function Lz(n,e,t){if(Bd(n)&&!t){const r=Hn(n.index,e);return new uc(r,r)}return 47&n.type?new uc(e[16],e):null}(St(),D(),16==(16&n))}class _x{constructor(){}supports(e){return lc(e)}create(e){return new Gz(e)}}const Hz=(n,e)=>e;class Gz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Hz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<vx(r,i,s)?t:r,a=vx(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!lc(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function w4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[$s()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new zz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new yx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class yx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new qz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function vx(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Ix{constructor(){}supports(e){return e instanceof Map||Q_(e)}create(){return new Wz}}class Wz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Q_(e)))throw new k(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Kz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Kz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ex(){return new qh([new _x])}let qh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Ex()),deps:[[n,new Jo,new zi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:Ex}),n})();function Cx(){return new Tc([new Ix])}let Tc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Cx()),deps:[[n,new Jo,new zi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new k(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:Cx}),n})();const Jz=ix(null,"core",[]);let Zz=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(N(jh))},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({}),n})(),Wh=null;function Br(){return Wh}const et=new B("DocumentToken");let jy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return function n6(){return N(wx)}()},providedIn:"platform"}),n})();const r6=new B("Location Initialized");let wx=(()=>{class n extends jy{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(t){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){bx()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){bx()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=z({token:n,factory:function(){return function i6(){return new wx(N(et))}()},providedIn:"platform"}),n})();function bx(){return!!window.history.pushState}function $y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Tx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _i(n){return n&&"?"!==n[0]?"?"+n:n}let Zi=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return Ke(Ax)},providedIn:"root"}),n})();const Dx=new B("appBaseHref");let Ax=(()=>{class n extends Zi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ke(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $y(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(jy),N(Dx,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sx=(()=>{class n extends Zi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$y(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(jy),N(Dx,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Tx(Mx(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return n.stripTrailingSlash(function o6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Mx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=_i,n.joinWithSlash=$y,n.stripTrailingSlash=Tx,n.\u0275fac=function(t){return new(t||n)(N(Zi))},n.\u0275prov=z({token:n,factory:function(){return function s6(){return new Hy(N(Zi))}()},providedIn:"root"}),n})();function Mx(n){return n.replace(/\/index.html$/,"")}var ht=(()=>((ht=ht||{})[ht.Format=0]="Format",ht[ht.Standalone=1]="Standalone",ht))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),tt=(()=>((tt=tt||{})[tt.Short=0]="Short",tt[tt.Medium=1]="Medium",tt[tt.Long=2]="Long",tt[tt.Full=3]="Full",tt))(),Y=(()=>((Y=Y||{})[Y.Decimal=0]="Decimal",Y[Y.Group=1]="Group",Y[Y.List=2]="List",Y[Y.PercentSign=3]="PercentSign",Y[Y.PlusSign=4]="PlusSign",Y[Y.MinusSign=5]="MinusSign",Y[Y.Exponential=6]="Exponential",Y[Y.SuperscriptingExponent=7]="SuperscriptingExponent",Y[Y.PerMille=8]="PerMille",Y[Y.Infinity=9]="Infinity",Y[Y.NaN=10]="NaN",Y[Y.TimeSeparator=11]="TimeSeparator",Y[Y.CurrencyDecimal=12]="CurrencyDecimal",Y[Y.CurrencyGroup=13]="CurrencyGroup",Y))();function Kh(n,e){return or(Cn(n)[U.DateFormat],e)}function Qh(n,e){return or(Cn(n)[U.TimeFormat],e)}function Yh(n,e){return or(Cn(n)[U.DateTimeFormat],e)}function sr(n,e){const t=Cn(n),r=t[U.NumberSymbols][e];if(typeof r>"u"){if(e===Y.CurrencyDecimal)return t[U.NumberSymbols][Y.Decimal];if(e===Y.CurrencyGroup)return t[U.NumberSymbols][Y.Group]}return r}function xx(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function or(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function zy(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const v6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Dc={},I6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ot=(()=>((Ot=Ot||{})[Ot.Short=0]="Short",Ot[Ot.ShortGMT=1]="ShortGMT",Ot[Ot.Long=2]="Long",Ot[Ot.Extended=3]="Extended",Ot))(),ee=(()=>((ee=ee||{})[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee))(),fe=(()=>((fe=fe||{})[fe.DayPeriods=0]="DayPeriods",fe[fe.Days=1]="Days",fe[fe.Months=2]="Months",fe[fe.Eras=3]="Eras",fe))();function E6(n,e,t,r){let i=function P6(n){if(Ox(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Jh(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(v6))return function x6(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(n);if(!Ox(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=yi(t,e)||e;let a,o=[];for(;e;){if(a=I6.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=kx(r,u),i=function M6(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function S6(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(kx(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function A6(n){if(Wy[n])return Wy[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(fe.Eras,me.Abbreviated);break;case"GGGG":e=Be(fe.Eras,me.Wide);break;case"GGGGG":e=Be(fe.Eras,me.Narrow);break;case"y":e=Ct(ee.FullYear,1,0,!1,!0);break;case"yy":e=Ct(ee.FullYear,2,0,!0,!0);break;case"yyy":e=Ct(ee.FullYear,3,0,!1,!0);break;case"yyyy":e=Ct(ee.FullYear,4,0,!1,!0);break;case"Y":e=tf(1);break;case"YY":e=tf(2,!0);break;case"YYY":e=tf(3);break;case"YYYY":e=tf(4);break;case"M":case"L":e=Ct(ee.Month,1,1);break;case"MM":case"LL":e=Ct(ee.Month,2,1);break;case"MMM":e=Be(fe.Months,me.Abbreviated);break;case"MMMM":e=Be(fe.Months,me.Wide);break;case"MMMMM":e=Be(fe.Months,me.Narrow);break;case"LLL":e=Be(fe.Months,me.Abbreviated,ht.Standalone);break;case"LLLL":e=Be(fe.Months,me.Wide,ht.Standalone);break;case"LLLLL":e=Be(fe.Months,me.Narrow,ht.Standalone);break;case"w":e=qy(1);break;case"ww":e=qy(2);break;case"W":e=qy(1,!0);break;case"d":e=Ct(ee.Date,1);break;case"dd":e=Ct(ee.Date,2);break;case"c":case"cc":e=Ct(ee.Day,1);break;case"ccc":e=Be(fe.Days,me.Abbreviated,ht.Standalone);break;case"cccc":e=Be(fe.Days,me.Wide,ht.Standalone);break;case"ccccc":e=Be(fe.Days,me.Narrow,ht.Standalone);break;case"cccccc":e=Be(fe.Days,me.Short,ht.Standalone);break;case"E":case"EE":case"EEE":e=Be(fe.Days,me.Abbreviated);break;case"EEEE":e=Be(fe.Days,me.Wide);break;case"EEEEE":e=Be(fe.Days,me.Narrow);break;case"EEEEEE":e=Be(fe.Days,me.Short);break;case"a":case"aa":case"aaa":e=Be(fe.DayPeriods,me.Abbreviated);break;case"aaaa":e=Be(fe.DayPeriods,me.Wide);break;case"aaaaa":e=Be(fe.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=Be(fe.DayPeriods,me.Abbreviated,ht.Standalone,!0);break;case"bbbb":e=Be(fe.DayPeriods,me.Wide,ht.Standalone,!0);break;case"bbbbb":e=Be(fe.DayPeriods,me.Narrow,ht.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(fe.DayPeriods,me.Abbreviated,ht.Format,!0);break;case"BBBB":e=Be(fe.DayPeriods,me.Wide,ht.Format,!0);break;case"BBBBB":e=Be(fe.DayPeriods,me.Narrow,ht.Format,!0);break;case"h":e=Ct(ee.Hours,1,-12);break;case"hh":e=Ct(ee.Hours,2,-12);break;case"H":e=Ct(ee.Hours,1);break;case"HH":e=Ct(ee.Hours,2);break;case"m":e=Ct(ee.Minutes,1);break;case"mm":e=Ct(ee.Minutes,2);break;case"s":e=Ct(ee.Seconds,1);break;case"ss":e=Ct(ee.Seconds,2);break;case"S":e=Ct(ee.FractionalSeconds,1);break;case"SS":e=Ct(ee.FractionalSeconds,2);break;case"SSS":e=Ct(ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Xh(Ot.Short);break;case"ZZZZZ":e=Xh(Ot.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Xh(Ot.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Xh(Ot.Long);break;default:return null}return Wy[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Jh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function yi(n,e){const t=function a6(n){return Cn(n)[U.LocaleId]}(n);if(Dc[t]=Dc[t]||{},Dc[t][e])return Dc[t][e];let r="";switch(e){case"shortDate":r=Kh(n,tt.Short);break;case"mediumDate":r=Kh(n,tt.Medium);break;case"longDate":r=Kh(n,tt.Long);break;case"fullDate":r=Kh(n,tt.Full);break;case"shortTime":r=Qh(n,tt.Short);break;case"mediumTime":r=Qh(n,tt.Medium);break;case"longTime":r=Qh(n,tt.Long);break;case"fullTime":r=Qh(n,tt.Full);break;case"short":const i=yi(n,"shortTime"),s=yi(n,"shortDate");r=Zh(Yh(n,tt.Short),[i,s]);break;case"medium":const o=yi(n,"mediumTime"),a=yi(n,"mediumDate");r=Zh(Yh(n,tt.Medium),[o,a]);break;case"long":const u=yi(n,"longTime"),c=yi(n,"longDate");r=Zh(Yh(n,tt.Long),[u,c]);break;case"full":const l=yi(n,"fullTime"),d=yi(n,"fullDate");r=Zh(Yh(n,tt.Full),[l,d])}return r&&(Dc[t][e]=r),r}function Zh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function br(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function Ct(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function w6(n,e){switch(n){case ee.FullYear:return e.getFullYear();case ee.Month:return e.getMonth();case ee.Date:return e.getDate();case ee.Hours:return e.getHours();case ee.Minutes:return e.getMinutes();case ee.Seconds:return e.getSeconds();case ee.FractionalSeconds:return e.getMilliseconds();case ee.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===ee.Hours)0===a&&-12===t&&(a=12);else if(n===ee.FractionalSeconds)return function C6(n,e){return br(n,3).substring(0,e)}(a,e);const u=sr(o,Y.MinusSign);return br(a,e,u,r,i)}}function Be(n,e,t=ht.Format,r=!1){return function(i,s){return function b6(n,e,t,r,i,s){switch(t){case fe.Months:return function l6(n,e,t){const r=Cn(n),s=or([r[U.MonthsFormat],r[U.MonthsStandalone]],e);return or(s,t)}(e,i,r)[n.getMonth()];case fe.Days:return function c6(n,e,t){const r=Cn(n),s=or([r[U.DaysFormat],r[U.DaysStandalone]],e);return or(s,t)}(e,i,r)[n.getDay()];case fe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function p6(n){const e=Cn(n);return xx(e),(e[U.ExtraData][2]||[]).map(r=>"string"==typeof r?zy(r):[zy(r[0]),zy(r[1])])}(e),l=function g6(n,e,t){const r=Cn(n);xx(r);const s=or([r[U.ExtraData][0],r[U.ExtraData][1]],e)||[];return or(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function u6(n,e,t){const r=Cn(n),s=or([r[U.DayPeriodsFormat],r[U.DayPeriodsStandalone]],e);return or(s,t)}(e,i,r)[o<12?0:1];case fe.Eras:return function d6(n,e){return or(Cn(n)[U.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Xh(n){return function(e,t,r){const i=-1*r,s=sr(t,Y.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ot.Short:return(i>=0?"+":"")+br(o,2,s)+br(Math.abs(i%60),2,s);case Ot.ShortGMT:return"GMT"+(i>=0?"+":"")+br(o,1,s);case Ot.Long:return"GMT"+(i>=0?"+":"")+br(o,2,s)+":"+br(Math.abs(i%60),2,s);case Ot.Extended:return 0===r?"Z":(i>=0?"+":"")+br(o,2,s)+":"+br(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Rx(n){return Jh(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function qy(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=Rx(t),o=function D6(n){const e=Jh(n,0,1).getDay();return Jh(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return br(i,n,sr(r,Y.MinusSign))}}function tf(n,e=!1){return function(t,r){return br(Rx(t).getFullYear(),n,sr(r,Y.MinusSign),e)}}const Wy={};function kx(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ox(n){return n instanceof Date&&!isNaN(n.valueOf())}function Lx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Ks=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(lc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ne(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(w(qh),w(Tc),w(xn),w(kr))},n.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class G6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sc=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new G6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),jx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{jx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(Cr),w(pi),w(qh))},n.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function jx(n,e){n.context.$implicit=e.item}let Qs=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new q6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$x("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$x("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(Cr),w(pi))},n.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class q6{constructor(){this.$implicit=null,this.ngIf=null}}function $x(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}function Tr(n,e){return new k(2100,!1)}let Gx=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Tr();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=rn({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const oq=new B("DATE_PIPE_DEFAULT_TIMEZONE");let zx=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){if(null==t||""===t||t!=t)return null;try{return E6(t,r,s||this.locale,i??this.defaultTimezone??void 0)}catch(o){throw Tr()}}}return n.\u0275fac=function(t){return new(t||n)(w(Ur,16),w(oq,24))},n.\u0275pipe=rn({name:"date",type:n,pure:!0,standalone:!0}),n})(),_q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({}),n})();const Wx="browser";let Cq=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new wq(N(et),window)}),n})();class wq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Kx(this.window.history)||Kx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qx{}class sv extends class Jq extends class t6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function e6(n){Wh||(Wh=n)}(new sv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zq(){return Pc=Pc||document.querySelector("base"),Pc?Pc.getAttribute("href"):null}();return null==t?null:function Xq(n){af=af||document.createElement("a"),af.setAttribute("href",n);const e=af.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Lx(document.cookie,e)}}let af,Pc=null;const eR=new B("TRANSITION_ID"),t9=[{provide:Vh,useFactory:function e9(n,e,t){return()=>{t.get(Lh).donePromise.then(()=>{const r=Br(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[eR,et,Rn],multi:!0}];let r9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const uf=new B("EventManagerPlugins");let cf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(N(uf),N(kt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class tR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Br().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let nR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),xc=(()=>{class n extends nR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(rR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rR))}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function rR(n){Br().remove(n)}const ov={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},av=/%COMP%/g;function lf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?lf(n,i,t):(i=i.replace(av,n),t.push(i))}return t}function oR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let uv=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new cv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Mr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new c9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Mr.ShadowDom:return new l9(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=lf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(N(cf),N(xc),N(bc))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class cv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ov[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(uR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(uR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=ov[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=ov[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(t,r,i&Pn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,oR(r)):this.eventManager.addEventListener(e,t,oR(r))}}function uR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class c9 extends cv{constructor(e,t,r,i){super(e),this.component=r;const s=lf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function o9(n){return"_ngcontent-%COMP%".replace(av,n)}(i+"-"+r.id),this.hostAttr=function a9(n){return"_nghost-%COMP%".replace(av,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class l9 extends cv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=lf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let d9=(()=>{class n extends tR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const cR=["alt","control","meta","shift"],h9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let p9=(()=>{class n extends tR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),cR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=h9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),cR.forEach(o=>{o!==i&&(0,f9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const dR=[{provide:Uh,useValue:Wx},{provide:KP,useValue:function g9(){sv.makeCurrent()},multi:!0},{provide:et,useFactory:function _9(){return function Y$(n){o_=n}(document),document},deps:[]}],y9=ix(Jz,"browser",dR),hR=new B(""),fR=[{provide:Bh,useClass:class n9{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Br().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:ex,useClass:Ry,deps:[kt,ky,Bh]},{provide:Ry,useClass:Ry,deps:[kt,ky,Bh]}],pR=[{provide:p_,useValue:"root"},{provide:Ki,useFactory:function m9(){return new Ki},deps:[]},{provide:uf,useClass:d9,multi:!0,deps:[et,kt,Uh]},{provide:uf,useClass:p9,multi:!0,deps:[et]},{provide:uv,useClass:uv,deps:[cf,xc,bc]},{provide:O0,useExisting:uv},{provide:nR,useExisting:xc},{provide:xc,useClass:xc,deps:[et]},{provide:cf,useClass:cf,deps:[uf,kt]},{provide:Qx,useClass:r9,deps:[]},[]];let v9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:bc,useValue:t.appId},{provide:eR,useExisting:bc},t9]}}}return n.\u0275fac=function(t){return new(t||n)(N(hR,12))},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({providers:[...pR,...fR],imports:[_q,Zz]}),n})(),gR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=z({token:n,factory:function(t){let r=null;return r=t?new t:function E9(){return new gR(N(et))}(),r},providedIn:"root"}),n})();function W(...n){return vt(n,Fu(n))}typeof window<"u"&&window;class ot extends Xn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const df=ku(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:M9}=Array,{getPrototypeOf:P9,prototype:x9,keys:R9}=Object;function vR(n){if(1===n.length){const e=n[0];if(M9(e))return{args:e,keys:null};if(function k9(n){return n&&"object"==typeof n&&P9(n)===x9}(e)){const t=R9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:O9}=Array;function IR(n){return ue(e=>function N9(n,e){return O9(e)?n(...e):n(e)}(n,e))}function ER(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function CR(...n){const e=Fu(n),t=RD(n),{args:r,keys:i}=vR(n);if(0===r.length)return vt([],e);const s=new ct(function F9(n,e,t=Rs){return r=>{wR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)wR(e,()=>{const c=vt(n[u],e);let l=!1;c.subscribe(At(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ER(i,o):Rs));return t?s.pipe(IR(t)):s}function wR(n,e,t){n?ri(t,n,e):e()}function fv(...n){return function V9(){return Oo(1)}()(vt(n,Fu(n)))}function bR(n){return new ct(e=>{fr(n()).subscribe(e)})}function ba(n,e){const t=Fe(n)?n:()=>n,r=i=>i.error(t());return new ct(e?i=>e.schedule(r,0,i):r)}function pv(){return Lt((n,e)=>{let t=null;n._refCount++;const r=At(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class TR extends ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,_D(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tn;const t=this.getSubject();e.add(this.source.subscribe(At(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tn.EMPTY)}return e}refCount(){return pv()(this)}}function jr(n,e){return Lt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(At(r,u=>{i?.unsubscribe();let c=0;const l=s++;fr(n(u,l)).subscribe(i=At(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Rc(n){return n<=0?()=>ii:Lt((e,t)=>{let r=0;e.subscribe(At(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $r(n,e){return Lt((t,r)=>{let i=0;t.subscribe(At(r,s=>n.call(e,s,i++)&&r.next(s)))})}function hf(n){return Lt((e,t)=>{let r=!1;e.subscribe(At(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function DR(n=U9){return Lt((e,t)=>{let r=!1;e.subscribe(At(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function U9(){return new df}function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((i,s)=>n(i,s,r)):Rs,Rc(1),t?hf(e):DR(()=>new df))}function ts(n,e){return Fe(e)?Wt(n,e,1):Wt(n,1)}function wt(n,e,t){const r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Lt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(At(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Rs}function vi(n){return Lt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(At(t,void 0,void 0,o=>{s=fr(n(o,vi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function B9(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(At(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function AR(n,e){return Lt(B9(n,e,arguments.length>=2,!0))}function gv(n){return n<=0?()=>ii:Lt((e,t)=>{let r=[];e.subscribe(At(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function SR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((i,s)=>n(i,s,r)):Rs,gv(1),t?hf(e):DR(()=>new df))}function ff(n){return Lt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const pe="primary",kc=Symbol("RouteTitle");class H9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ta(n){return new H9(n)}function G9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!MR(n[i],e[i]))return!1;return!0}function MR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function PR(n){return Array.prototype.concat.apply([],n)}function xR(n){return n.length>0?n[n.length-1]:null}function Qt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return X_(n)?n:fc(n)?vt(Promise.resolve(n)):W(n)}const W9={exact:function OR(n,e,t){if(!Js(n.segments,e.segments)||!pf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!OR(n.children[r],e.children[r],t))return!1;return!0},subset:NR},RR={exact:function K9(n,e){return Hr(n,e)},subset:function Q9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MR(n[t],e[t]))},ignored:()=>!0};function kR(n,e,t){return W9[t.paths](n.root,e.root,t.matrixParams)&&RR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function NR(n,e,t){return FR(n,e,e.segments,t)}function FR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Js(i,t)||e.hasChildren()||!pf(i,t,r))}if(n.segments.length===t.length){if(!Js(n.segments,t)||!pf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!NR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Js(n.segments,i)&&pf(n.segments,i,r)&&n.children[pe])&&FR(n.children[pe],e,s,r)}}function pf(n,e,t){return e.every((r,i)=>RR[t](n[i].parameters,r.parameters))}class Ys{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}toString(){return Z9.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Qt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gf(this)}}class Oc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ta(this.parameters)),this._parameterMap}toString(){return BR(this)}}function Js(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return new _v},providedIn:"root"}),n})();class _v{parse(e){const t=new a8(e);return new Ys(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Nc(e.root,!0)}`,r=function t8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${mf(t)}=${mf(i)}`).join("&"):`${mf(t)}=${mf(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function X9(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Z9=new _v;function gf(n){return n.segments.map(e=>BR(e)).join("/")}function Nc(n,e){if(!n.hasChildren())return gf(n);if(e){const t=n.children[pe]?Nc(n.children[pe],!1):"",r=[];return Qt(n.children,(i,s)=>{s!==pe&&r.push(`${s}:${Nc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function J9(n,e){let t=[];return Qt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Qt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[Nc(n.children[pe],!1)]:[`${i}:${Nc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${gf(n)}/${t[0]}`:`${gf(n)}/(${t.join("//")})`}}function LR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mf(n){return LR(n).replace(/%3B/gi,";")}function yv(n){return LR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _f(n){return decodeURIComponent(n)}function UR(n){return _f(n.replace(/\+/g,"%20"))}function BR(n){return`${yv(n.path)}${function e8(n){return Object.keys(n).map(e=>`;${yv(e)}=${yv(n[e])}`).join("")}(n.parameters)}`}const n8=/^[^\/()?;=#]+/;function yf(n){const e=n.match(n8);return e?e[0]:""}const r8=/^[^=?&#]+/,s8=/^[^&#]+/;class a8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new ge(e,t)),r}parseSegment(){const e=yf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Oc(_f(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=yf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=yf(this.remaining);i&&(r=i,this.capture(r))}e[_f(t)]=_f(r)}parseQueryParam(e){const t=function i8(n){const e=n.match(r8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function o8(n){const e=n.match(s8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=UR(t),s=UR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=yf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pe]:new ge([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function vv(n){return n.segments.length>0?new ge([],{[pe]:n}):n}function vf(n){const e={};for(const r of Object.keys(n.children)){const s=vf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function u8(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}function Zs(n){return n instanceof Ys}function d8(n,e,t,r,i){if(0===t.length)return Da(e.root,e.root,e.root,r,i);const s=function HR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $R(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Qt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $R(t,e,r)}(t);return s.toRoot()?Da(e.root,e.root,new ge([],{}),r,i):function o(u){const c=function f8(n,e,t,r){if(n.isAbsolute)return new Aa(e.root,!0,0);if(-1===r)return new Aa(t,t===e.root,0);return function GR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Aa(r,!1,i-s)}(t,r+(Fc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?Lc(c.segmentGroup,c.index,s.commands):Ev(c.segmentGroup,c.index,s.commands);return Da(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Fc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vc(n){return"object"==typeof n&&null!=n&&n.outlets}function Da(n,e,t,r,i){let o,s={};r&&Qt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:jR(n,e,t);const a=vv(vf(o));return new Ys(a,s,i)}function jR(n,e,t){const r={};return Qt(n.children,(i,s)=>{r[s]=i===e?t:jR(i,e,t)}),new ge(n.segments,r)}class $R{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fc(r[0]))throw new k(4003,!1);const i=r.find(Vc);if(i&&i!==xR(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Aa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ev(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return Lc(n,e,t);const r=function g8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Vc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!qR(u,c,o))return s;r+=2}else{if(!qR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new ge(n.segments.slice(r.pathIndex),n.children),Lc(s,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?Cv(n,e,t):r.match?Lc(n,0,i):Cv(n,e,t)}function Lc(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function p8(n){return Vc(n[0])?n[0].outlets:{[pe]:n}}(t),i={};return Qt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ev(n.children[o],e,s))}),Qt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(n.segments,i)}}function Cv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Vc(s)){const u=m8(s.outlets);return new ge(r,u)}if(0===i&&Fc(t[0])){r.push(new Oc(n.segments[e].path,zR(t[0]))),i++;continue}const o=Vc(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Fc(a)?(r.push(new Oc(o,zR(a))),i+=2):(r.push(new Oc(o,{})),i++)}return new ge(r,{})}function m8(n){const e={};return Qt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Cv(new ge([],{}),0,t))}),e}function zR(n){const e={};return Qt(n,(t,r)=>e[r]=`${t}`),e}function qR(n,e,t){return n==t.path&&Hr(e,t.parameters)}class Ii{constructor(e,t){this.id=e,this.url=t}}class wv extends Ii{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rs extends Ii{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class If extends Ii{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WR extends Ii{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v8 extends Ii{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Tv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tv(e,this._root).map(t=>t.value)}}function bv(n,e){if(n===e.value)return e;for(const t of e.children){const r=bv(n,t);if(r)return r}return null}function Tv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Tv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ei{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class YR extends QR{constructor(e,t){super(e),this.snapshot=t,Dv(this,e)}toString(){return this.snapshot.toString()}}function JR(n,e){const t=function M8(n,e){const o=new Ef([],{},{},"",{},pe,e,null,n.root,-1,{});return new XR("",new Ei(o,[]))}(n,e),r=new ot([new Oc("",{})]),i=new ot({}),s=new ot({}),o=new ot({}),a=new ot(""),u=new Xs(r,i,o,a,s,pe,e,t.root);return u.snapshot=t.root,new YR(new Ei(u,[]),t)}class Xs{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(c=>c[kc]))??W(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>Ta(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>Ta(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function P8(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ef{constructor(e,t,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[kc],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ta(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ta(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XR extends QR{constructor(e,t){super(t),this.url=e,Dv(this,t)}toString(){return ek(this._root)}}function Dv(n,e){e.value._routerState=n,e.children.forEach(t=>Dv(n,t))}function ek(n){const e=n.children.length>0?` { ${n.children.map(ek).join(", ")} } `:"";return`${n.value}${e}`}function Av(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hr(e.params,t.params)||n.params.next(t.params),function z9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Sv(n,e){const t=Hr(n.params,e.params)&&function Y9(n,e){return Js(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Sv(n.parent,e.parent))}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function R8(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uc(n,r,i);return Uc(n,r)})}(n,e,t);return new Ei(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Uc(n,a)),o}}const r=function k8(n){return new Xs(new ot(n.url),new ot(n.params),new ot(n.queryParams),new ot(n.fragment),new ot(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Uc(n,s));return new Ei(r,i)}}const Mv="ngNavigationCancelingError";function tk(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Zs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nk(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function nk(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Mv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function rk(n){return ik(n)&&Zs(n.url)}function ik(n){return n&&n[Mv]}class O8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Bc,this.attachRef=null}}let Bc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new O8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cf=!1;let Pv=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.name=i||pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,Cf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,Cf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,Cf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,Cf);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new N8(t,a,i.injector);if(r&&function F8(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(w(Bc),w(Cr),function Wu(n){return function Nj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(lA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(St(),n)}("name"),w(Hh),w(qi))},n.\u0275dir=X({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class N8{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Xs?this.route:e===Bc?this.childContexts:this.parent.get(e,t)}}let xv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mn({type:n,selectors:[["ng-component"]],standalone:!0,features:[aP],decls:1,vars:0,template:function(t,r){1&t&&Pt(0,"router-outlet")},dependencies:[Pv],encapsulation:2}),n})();function sk(n,e){return n.providers&&!n._injector&&(n._injector=Rh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function kv(n){const e=n.children&&n.children.map(kv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=xv),t}function ar(n){return n.outlet||pe}function ok(n,e){const t=n.filter(r=>ar(r)===e);return t.push(...n.filter(r=>ar(r)!==e)),t}function jc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class j8{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Av(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Sa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Qt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Sa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Sa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new A8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Av(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Av(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=jc(i.snapshot),u=a?.get(ac)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class ak{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wf{constructor(e,t){this.component=e,this.route=t}}function $8(n,e,t){const r=n._root;return $c(r,e?e._root:null,t,[r.value])}function Ma(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function LB(n){return null!==Od(n)}(n)?e.get(n):n:r}function $c(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sa(e);return n.children.forEach(o=>{(function G8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function z8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Js(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Js(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sv(n,e)||!Hr(n.queryParams,e.queryParams);default:return!Sv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ak(r)):(s.data=o.data,s._resolvedData=o._resolvedData),$c(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new wf(a.outlet.component,o))}else o&&Hc(e,a,i),i.canActivateChecks.push(new ak(r)),$c(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Qt(s,(o,a)=>Hc(o,t.getContext(a),i)),i}function Hc(n,e,t){const r=Sa(n),i=n.value;Qt(r,(s,o)=>{Hc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new wf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Gc(n){return"function"==typeof n}function Ov(n){return n instanceof df||"EmptyError"===n?.name}const bf=Symbol("INITIAL_VALUE");function Pa(){return jr(n=>CR(n.map(e=>e.pipe(Rc(1),function L9(...n){const e=Fu(n);return Lt((t,r)=>{(e?fv(n,t,e):fv(n,t)).subscribe(r)})}(bf)))).pipe(ue(e=>{for(const t of e)if(!0!==t){if(t===bf)return bf;if(!1===t||t instanceof Ys)return t}return!0}),$r(e=>e!==bf),Rc(1)))}function uk(n){return function qU(...n){return pD(n)}(wt(e=>{if(Zs(e))throw tk(0,e)}),ue(e=>!0===e))}const Nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ck(n,e,t,r,i){const s=Fv(n,e,t);return s.matched?function uW(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=Ma(o,n);return ns(function J8(n){return n&&Gc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pa(),uk()):W(!0)}(r=sk(e,r),e,t).pipe(ue(o=>!0===o?s:{...Nv})):W(s)}function Fv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Nv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||G9)(t,n,e);if(!i)return{...Nv};const s={};Qt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Tf(n,e,t,r,i="corrected"){if(t.length>0&&function dW(n,e,t){return t.some(r=>Df(n,e,r)&&ar(r)!==pe)}(n,t,r)){const o=new ge(e,function lW(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ar(s)!==pe){const o=new ge([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[ar(s)]=o}return i}(n,e,r,new ge(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function hW(n,e,t){return t.some(r=>Df(n,e,r))}(n,t,r)){const o=new ge(n.segments,function cW(n,e,t,r,i,s){const o={};for(const a of r)if(Df(n,t,a)&&!i[ar(a)]){const u=new ge([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[ar(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ge(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Df(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function lk(n,e,t,r){return!!(ar(n)===r||r!==pe&&Df(e,t,n))&&("**"===n.path||Fv(e,n,t).matched)}function dk(n,e,t){return 0===e.length&&!n.children[t]}const Af=!1;class Sf{constructor(e){this.segmentGroup=e||null}}class hk{constructor(e){this.urlTree=e}}function zc(n){return ba(new Sf(n))}function fk(n){return ba(new hk(n))}class mW{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Tf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,pe).pipe(ue(s=>this.createUrlTree(vf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(s=>{if(s instanceof hk)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Sf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,pe).pipe(ue(i=>this.createUrlTree(vf(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof Sf?this.noMatchError(i):i}))}noMatchError(e){return new k(4002,Af)}createUrlTree(e,t,r){const i=vv(e);return new Ys(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ue(s=>new ge([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return vt(i).pipe(ts(s=>{const o=r.children[s],a=ok(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(u=>({segment:u,outlet:s})))}),AR((s,o)=>(s[o.outlet]=o.segment,s),{}),SR())}expandSegment(e,t,r,i,s,o){return vt(r).pipe(ts(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(vi(c=>{if(c instanceof Sf)return W(null);throw c}))),es(a=>!!a),vi((a,u)=>{if(Ov(a))return dk(t,i,s)?W(new ge([],{})):zc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return lk(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):zc(t):zc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fk(s):this.lineralizeSegments(r,s).pipe(Wt(o=>{const a=new ge(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Fv(t,i,s);if(!a)return zc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?fk(d):this.lineralizeSegments(i,d).pipe(Wt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=sk(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ge(i,{})))):W(new ge(i,{}))):ck(t,r,i,e).pipe(jr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Wt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Tf(t,a,u,h),g=new ge(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ue(y=>new ge(a,y)));if(0===h.length&&0===p.length)return W(new ge(a,{}));const m=ar(r)===s;return this.expandSegment(d,g,h,p,m?pe:s,!0).pipe(ue(C=>new ge(a.concat(C.segments),C.children)))})):zc(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function aW(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=Ma(o,n);return ns(function W8(n){return n&&Gc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pa(),uk())}(e,t,r).pipe(Wt(i=>i?this.configLoader.loadChildren(e,t).pipe(wt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function pW(n){return ba(nk(Af,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[pe])return ba(new k(4e3,Af));i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Ys(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Qt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Qt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,Af);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yW{}class EW{constructor(e,t,r,i,s,o,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Tf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(ue(t=>{if(null===t)return null;const r=new Ef([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ei(r,t),s=new XR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=ZR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return vt(Object.keys(r.children)).pipe(ts(i=>{const s=r.children[i],o=ok(t,i);return this.processSegmentGroup(e,o,s,i)}),AR((i,s)=>i&&s?(i.push(...s),i):null),function j9(n,e=!1){return Lt((t,r)=>{let i=0;t.subscribe(At(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),hf(null),SR(),ue(i=>{if(null===i)return null;const s=pk(i);return function CW(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return vt(t).pipe(ts(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),es(o=>!!o),vi(o=>{if(Ov(o))return dk(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!lk(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?xR(i).parameters:{},u=mk(r)+i.length;o=W({snapshot:new Ef(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yk(t),ar(t),t.component??t._loadedComponent??null,t,gk(r),u,vk(t),u),consumedSegments:[],remainingSegments:[]})}else o=ck(r,t,i,e).pipe(ue(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=mk(r)+u.length;return{snapshot:new Ef(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yk(t),ar(t),t.component??t._loadedComponent??null,t,gk(r),d,vk(t),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(jr(a=>{if(null===a)return W(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function wW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Tf(r,c,l,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(m=>null===m?null:[new Ei(u,m)]));if(0===h.length&&0===p.length)return W([new Ei(u,[])]);const g=ar(t)===s;return this.processSegment(d,h,f,p,g?pe:s).pipe(ue(m=>null===m?null:[new Ei(u,m)]))}))}}function bW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function pk(n){const e=[],t=new Set;for(const r of n){if(!bW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=pk(r.children);e.push(new Ei(r.value,i))}return e.filter(r=>!t.has(r))}function gk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function mk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function yk(n){return n.data||{}}function vk(n){return n.resolve||{}}function Ik(n){return"string"==typeof n.title||null===n.title}function Vv(n){return jr(e=>{const t=n(e);return t?vt(t).pipe(ue(()=>e)):W(e)})}let Ek=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[kc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return Ke(Ck)},providedIn:"root"}),n})(),Ck=(()=>{class n extends Ek{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(N(gR))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RW{}class OW extends class kW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Pf=new B("",{providedIn:"root",factory:()=>({})}),Lv=new B("ROUTES");let Uv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ns(t.loadComponent()).pipe(wt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ff(()=>{this.componentLoaders.delete(t)})),i=new TR(r,()=>new Xn).pipe(pv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=PR(u.get(Lv,[],J.Self|J.Optional)));return{routes:c.map(kv),injector:u}}),ff(()=>{this.childrenLoaders.delete(r)})),o=new TR(s,()=>new Xn).pipe(pv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ns(t()).pipe(Wt(r=>r instanceof sP||Array.isArray(r)?W(r):vt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(N(Rn),N(Sy))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FW{}class VW{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function LW(n){throw n}function UW(n,e,t){return e.parse("/")}const BW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function bk(){const n=Ke(VR),e=Ke(Bc),t=Ke(Hy),r=Ke(Rn),i=Ke(Sy),s=Ke(Lv,{optional:!0})??[],o=Ke(Pf,{optional:!0})??{},a=Ke(Ck),u=Ke(Ek,{optional:!0}),c=Ke(FW,{optional:!0}),l=Ke(RW,{optional:!0}),d=new nt(null,n,e,t,r,i,PR(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function $W(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let nt=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Xn,this.errorHandler=LW,this.malformedUriErrorHandler=UW,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new VW,this.routeReuseStrategy=new OW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Uv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new w8(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new C8(h)),this.ngModule=o.get(qs),this.console=o.get(mz);const d=o.get(kt);this.isNgZoneEnabled=d instanceof kt&&kt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function q9(){return new Ys(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JR(this.currentUrlTree,this.rootComponentType),this.transitions=new ot({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe($r(i=>0!==i.id),ue(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),jr(i=>{let s=!1,o=!1;return W(i).pipe(wt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Tk(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(jr(d=>{const h=this.transitions.getValue();return r.next(new wv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ii:Promise.resolve(d)}),function _W(n,e,t,r){return jr(i=>function gW(n,e,t,r,i){return new mW(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),wt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function DW(n,e,t,r,i,s){return Wt(o=>function IW(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new EW(n,e,t,r,i,o,a,s).recognize().pipe(jr(u=>null===u?function vW(n){return new ct(e=>e.error(n))}(new yW):W(u)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ue(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),wt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new _8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new wv(h,this.serializeUrl(f),p,g);r.next(v);const C=JR(f,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:C,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ii}),wt(a=>{const u=new y8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ue(a=>i={...a,guards:$8(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function X8(n,e){return Wt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function eW(n,e,t,r){return vt(n).pipe(Wt(i=>function oW(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const u=jc(e)??i,c=Ma(a,u);return ns(function Y8(n){return n&&Gc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(es())})).pipe(Pa()):W(!0)}(i.component,i.route,t,e,r)),es(i=>!0!==i,!0))}(o,r,i,n).pipe(Wt(a=>a&&function q8(n){return"boolean"==typeof n}(a)?function tW(n,e,t,r){return vt(e).pipe(ts(i=>fv(function rW(n,e){return null!==n&&e&&e(new b8(n)),W(!0)}(i.route.parent,r),function nW(n,e){return null!==n&&e&&e(new D8(n)),W(!0)}(i.route,r),function sW(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function H8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>bR(()=>W(o.guards.map(u=>{const c=jc(o.node)??t,l=Ma(u,c);return ns(function Q8(n){return n&&Gc(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(es())})).pipe(Pa())));return W(s).pipe(Pa())}(n,i.path,t),function iW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>bR(()=>{const o=jc(e)??t,a=Ma(s,o);return ns(function K8(n){return n&&Gc(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(es())}));return W(i).pipe(Pa())}(n,i.route,t))),es(i=>!0!==i,!0))}(r,s,n,e):W(a)),ue(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),wt(a=>{if(i.guardsResult=a.guardsResult,Zs(a.guardsResult))throw tk(0,a.guardsResult);const u=new v8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),$r(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Vv(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(wt(u=>{const c=new I8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),jr(u=>{let c=!1;return W(u).pipe(function AW(n,e){return Wt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return vt(i).pipe(ts(o=>function SW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Ik(i)&&(s[kc]=i.title),function MW(n,e,t,r){const i=function PW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return vt(i).pipe(Wt(o=>function xW(n,e,t,r){const i=jc(e)??r,s=Ma(n,i);return ns(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(es(),wt(a=>{s[o]=a}))),gv(1),function $9(n){return ue(()=>n)}(s),vi(o=>Ov(o)?ii:ba(o)))}(s,n,e,r).pipe(ue(o=>(n._resolvedData=o,n.data=ZR(n,t).resolve,i&&Ik(i)&&(n.data[kc]=i.title),null)))}(o.route,r,n,e)),wt(()=>s++),gv(1),Wt(o=>s===i.length?W(t):ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),wt({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),wt(u=>{const c=new E8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Vv(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(wt(d=>{c.component=d}),ue(()=>{})));for(const d of c.children)l.push(...u(d));return l};return CR(u(a.targetSnapshot.root)).pipe(hf(),Rc(1))}),Vv(()=>this.afterPreactivation()),ue(a=>{const u=function x8(n,e,t){const r=Uc(n,e._root,t?t._root:void 0);return new YR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),wt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ue(r=>(new j8(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),wt({next(){s=!0},complete(){s=!0}}),ff(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),vi(a=>{if(o=!0,ik(a)){rk(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new If(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),rk(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Tk(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new WR(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return ii}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(kv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),d8(c,this.currentUrlTree,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zs(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HW(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new k(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...BW}:!1===r?{...jW}:r,Zs(t))return kR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return kR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new rs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new If(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){T_()},n.\u0275prov=z({token:n,factory:function(){return bk()},providedIn:"root"}),n})();function Tk(n){return"imperative"!==n}class Dk{}let qW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($r(t=>t instanceof rs),ts(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Rh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return vt(i).pipe(Oo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(Wt(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?vt([s,this.loader.loadComponent(r)]).pipe(Oo()):s})}}return n.\u0275fac=function(t){return new(t||n)(N(nt),N(Sy),N(qi),N(Dk),N(Uv))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $v=new B("");let Ak=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof wv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof KR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new KR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){T_()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function xa(n,e){return{\u0275kind:n,\u0275providers:e}}function Hv(n){return[{provide:Lv,multi:!0,useValue:n}]}function Mk(){const n=Ke(Rn);return e=>{const t=n.get(jh);if(e!==t.components[0])return;const r=n.get(nt),i=n.get(Pk);1===n.get(Gv)&&r.initialNavigation(),n.get(xk,null,J.Optional)?.setUpPreloading(),n.get($v,null,J.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Pk=new B("",{factory:()=>new Xn}),Gv=new B("",{providedIn:"root",factory:()=>1});const xk=new B("");function YW(n){return xa(0,[{provide:xk,useExisting:qW},{provide:Dk,useExisting:n}])}const Rk=new B("ROUTER_FORROOT_GUARD"),JW=[Hy,{provide:VR,useClass:_v},{provide:nt,useFactory:bk},Bc,{provide:Xs,useFactory:function Sk(n){return n.routerState.root},deps:[nt]},Uv];function ZW(){return new nx("Router",nt)}let kk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[JW,[],Hv(t),{provide:Rk,useFactory:n7,deps:[[nt,new zi,new Jo]]},{provide:Pf,useValue:r||{}},r?.useHash?{provide:Zi,useClass:Sx}:{provide:Zi,useClass:Ax},{provide:$v,useFactory:()=>{const n=Ke(nt),e=Ke(Cq),t=Ke(Pf);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ak(n,e,t)}},r?.preloadingStrategy?YW(r.preloadingStrategy).\u0275providers:[],{provide:nx,multi:!0,useFactory:ZW},r?.initialNavigation?r7(r):[],[{provide:Ok,useFactory:Mk},{provide:QP,multi:!0,useExisting:Ok}]]}}static forChild(t){return{ngModule:n,providers:[Hv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(N(Rk,8))},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({imports:[xv]}),n})();function n7(n){return"guarded"}function r7(n){return["disabled"===n.initialNavigation?xa(3,[{provide:Vh,multi:!0,useFactory:()=>{const e=Ke(nt);return()=>{e.setUpLocationChangeListener()}}},{provide:Gv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?xa(2,[{provide:Gv,useValue:0},{provide:Vh,multi:!0,deps:[Rn],useFactory:e=>{const t=e.get(r6,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(nt),a=e.get(Pk);(function i(s){e.get(nt).events.pipe($r(a=>a instanceof rs||a instanceof If||a instanceof WR),ue(a=>a instanceof rs||a instanceof If&&(0===a.code||1===a.code)&&null),$r(a=>null!==a),Rc(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?W(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const Ok=new B("");let Fk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(w(kr),w(xn))},n.\u0275dir=X({type:n}),n})(),eo=(()=>{class n extends Fk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=X({type:n,features:[Pe]}),n})();const Gr=new B("NgValueAccessor"),o7={provide:Gr,useExisting:Ve(()=>Ra),multi:!0},u7=new B("CompositionEventMode");let Ra=(()=>{class n extends Fk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a7(){const n=Br()?Br().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(w(kr),w(xn),w(u7,8))},n.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ne("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Qe([o7]),Pe]}),n})();function is(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Lk(n){return null!=n&&"number"==typeof n.length}const ln=new B("NgValidators"),ss=new B("NgAsyncValidators"),l7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zr{static min(e){return function Uk(n){return e=>{if(is(e.value)||is(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Bk(n){return e=>{if(is(e.value)||is(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function jk(n){return is(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function $k(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Hk(n){return is(n.value)||l7.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Gk(n){return e=>is(e.value)||!Lk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return zk(e)}static pattern(e){return qk(e)}static nullValidator(e){return null}static compose(e){return Zk(e)}static composeAsync(e){return Xk(e)}}function zk(n){return e=>Lk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function qk(n){if(!n)return Of;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(is(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Of(n){return null}function Wk(n){return null!=n}function Kk(n){return fc(n)?vt(n):n}function Qk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yk(n,e){return e.map(t=>t(n))}function Jk(n){return n.map(e=>function d7(n){return!n.validate}(e)?e:t=>e.validate(t))}function Zk(n){if(!n)return null;const e=n.filter(Wk);return 0==e.length?null:function(t){return Qk(Yk(t,e))}}function zv(n){return null!=n?Zk(Jk(n)):null}function Xk(n){if(!n)return null;const e=n.filter(Wk);return 0==e.length?null:function(t){return function Nk(...n){const e=RD(n),{args:t,keys:r}=vR(n),i=new ct(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;fr(t[l]).subscribe(At(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?ER(r,a):a),s.complete())}))}});return e?i.pipe(IR(e)):i}(Yk(t,e).map(Kk)).pipe(ue(Qk))}}function qv(n){return null!=n?Xk(Jk(n)):null}function e1(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function t1(n){return n._rawValidators}function n1(n){return n._rawAsyncValidators}function Wv(n){return n?Array.isArray(n)?n:[n]:[]}function Nf(n,e){return Array.isArray(n)?n.includes(e):n===e}function r1(n,e){const t=Wv(e);return Wv(n).forEach(i=>{Nf(t,i)||t.push(i)}),t}function s1(n,e){return Wv(e).filter(t=>!Nf(n,t))}class o1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=qv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bn extends o1{get formDirective(){return null}get path(){return null}}class os extends o1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class a1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ff=(()=>{class n extends a1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(os,2))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Pe]}),n})(),Vf=(()=>{class n extends a1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(bn,10))},n.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Th("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Pe]}),n})();const qc="VALID",Uf="INVALID",ka="PENDING",Wc="DISABLED";function Jv(n){return(Bf(n)?n.validators:n)||null}function c1(n){return Array.isArray(n)?zv(n):n||null}function Zv(n,e){return(Bf(e)?e.asyncValidators:n)||null}function l1(n){return Array.isArray(n)?qv(n):n||null}function Bf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class f1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=c1(this._rawValidators),this._composedAsyncValidatorFn=l1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qc}get invalid(){return this.status===Uf}get pending(){return this.status==ka}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=c1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=l1(e)}addValidators(e){this.setValidators(r1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(r1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(s1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(s1(e,this._rawAsyncValidators))}hasValidator(e){return Nf(this._rawValidators,e)}hasAsyncValidator(e){return Nf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ka,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qc||this.status===ka)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ka,this._hasOwnPendingAsyncValidator=!0;const t=Kk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?Uf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ka)?ka:this._anyControlsHaveStatus(Uf)?Uf:qc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class to extends f1{constructor(e,t,r){super(Jv(t),Zv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function h1(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new k(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function d1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Kc(n,e){Xv(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function I7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&p1(n,e)})}(n,e),function C7(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function E7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&p1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function v7(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $f(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Xv(n,e){const t=t1(n);null!==e.validator?n.setValidators(e1(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=n1(n);null!==e.asyncValidator?n.setAsyncValidators(e1(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hf(e._rawValidators,i),Hf(e._rawAsyncValidators,i)}function Gf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=t1(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=n1(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Hf(e._rawValidators,r),Hf(e._rawAsyncValidators,r),t}function p1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function y1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function v1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ur=class extends f1{constructor(e=null,t,r){super(Jv(t),Zv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=v1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){y1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){y1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){v1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let zf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),T1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({}),n})();const rI=new B("NgModelWithFormControlWarning"),F7={provide:bn,useExisting:Ve(()=>Oa)};let Oa=(()=>{class n extends bn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Kc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){$f(t.control||null,t,!1),function D7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function _1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&($f(r||null,t),(n=>n instanceof ur)(i)&&(Kc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function g1(n,e){Xv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function w7(n,e){return Gf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xv(this.form,this),this._oldForm&&Gf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(w(ln,10),w(ss,10))},n.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ne("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([F7]),Pe,nr]}),n})();const U7={provide:os,useExisting:Ve(()=>Yc)};let Yc=(()=>{class n extends os{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function tI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===Ra?t=s:function T7(n){return Object.getPrototypeOf(n.constructor)===eo}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function eI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function jf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(w(bn,13),w(ln,10),w(ss,10),w(Gr,10),w(rI,8))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qe([U7]),Pe,nr]}),n})();const B7={provide:Gr,useExisting:Ve(()=>qf),multi:!0};function P1(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let qf=(()=>{class n extends eo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=P1(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function j7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ne("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qe([B7]),Pe]}),n})(),x1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(P1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(w(xn),w(kr),w(qf,9))},n.\u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $7={provide:Gr,useExisting:Ve(()=>oI),multi:!0};function R1(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let oI=(()=>{class n extends eo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function H7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ne("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qe([$7]),Pe]}),n})(),k1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(R1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(R1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(w(xn),w(kr),w(oI,9))},n.\u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let no=(()=>{class n{constructor(){this._validator=Of}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Of,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,features:[nr]}),n})();const Y7={provide:ln,useExisting:Ve(()=>uI),multi:!0};let uI=(()=>{class n extends no{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function O1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>zk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Qe([Y7]),Pe]}),n})();const J7={provide:ln,useExisting:Ve(()=>cI),multi:!0};let cI=(()=>{class n extends no{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>qk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Qe([J7]),Pe]}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({imports:[T1]}),n})(),X7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:rI,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({imports:[Z7]}),n})();function j1(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){j1(s,r,i,o,a,"next",u)}function a(u){j1(s,r,i,o,a,"throw",u)}o(void 0)})}}const $1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},H1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new iK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Wf=function(n){return function(n){const e=$1(n);return H1.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Kf=function(n){try{return H1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Qf=()=>{try{return function aK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Kf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},z1=n=>{var e,t;return null===(t=null===(e=Qf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},q1=()=>{var n;return null===(n=Qf())||void 0===n?void 0:n.config},W1=n=>{var e;return null===(e=Qf())||void 0===e?void 0:e[`_${n}`]};class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function CK(n,e){return n.replace(wK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ci(i,`${this.serviceName}: ${o} (${i}).`,r)}}const wK=/\{\$([^}]+)}/g;function bK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Jf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Y1(s)&&Y1(o)){if(!Jf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Y1(n){return null!==n&&"object"==typeof n}function Zf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Xc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class DK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function AK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=dI),void 0===i.error&&(i.error=dI),void 0===i.complete&&(i.complete=dI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(){}function Tn(n){return n&&n._delegate?n._delegate:n}class ro{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const io="[DEFAULT]";class kK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new K1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function NK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===io?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class FK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fI=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const J1={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},VK=_e.INFO,LK={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},UK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=LK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class pI{constructor(e){this.name=e,this._logLevel=VK,this._logHandler=UK,this._userLogHandler=null,fI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?J1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}let Z1,X1;const eO=new WeakMap,gI=new WeakMap,tO=new WeakMap,mI=new WeakMap,_I=new WeakMap;let yI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return gI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||tO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return as(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function WK(n){return"function"==typeof n?function qK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $K(){return X1||(X1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(vI(this),e),as(eO.get(this))}:function(...e){return as(n.apply(vI(this),e))}:function(e,...t){const r=n.call(vI(this),e,...t);return tO.set(r,e.sort?e.sort():[e]),as(r)}}(n):(n instanceof IDBTransaction&&function GK(n){if(gI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});gI.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function jK(){return Z1||(Z1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,yI):n)}function as(n){if(n instanceof IDBRequest)return function HK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(as(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&eO.set(t,n)}).catch(()=>{}),_I.set(e,n),e}(n);if(mI.has(n))return mI.get(n);const e=WK(n);return e!==n&&(mI.set(n,e),_I.set(e,n)),e}const vI=n=>_I.get(n),QK=["get","getKey","getAll","getAllKeys","count"],YK=["put","add","delete","clear"],II=new Map;function nO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(II.get(e))return II.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=YK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!QK.includes(t))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return II.set(e,s),s}!function zK(n){yI=n(yI)}(n=>({...n,get:(e,t,r)=>nO(e,t)||n.get(e,t,r),has:(e,t)=>!!nO(e,t)||n.has(e,t)}));class JK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ZK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Xf="@firebase/app",so=new pI("@firebase/app"),ep="[DEFAULT]",bQ={[Xf]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},oo=new Map,el=new Map,tl=new Map;function rO(n,e){try{n.container.addComponent(e)}catch(t){so.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Na(n){const e=n.name;if(tl.has(e))return so.debug(`There were multiple attempts to register component ${e}.`),!1;tl.set(e,n);for(const t of oo.values())rO(t,n);for(const t of el.values())rO(t,n);return!0}function tp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qr(n){return void 0!==n.settings}const cr=new Jc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class AQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const Fa="10.11.1";function iO(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw cr.create("bad-app-name",{appName:String(i)});if(t||(t=q1()),!t)throw cr.create("no-options");const s=oo.get(i);if(s){if(Jf(t,s.options)&&Jf(r,s.config))return s;throw cr.create("duplicate-app",{appName:i})}const o=new FK(i);for(const u of tl.values())o.addComponent(u);const a=new AQ(t,r,o);return oo.set(i,a),a}function sO(n=ep){const e=oo.get(n);if(!e&&n===ep&&q1())return iO();if(!e)throw cr.create("no-app",{appName:n});return e}function wi(n,e,t){var r;let i=null!==(r=bQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void so.warn(a.join(" "))}Na(new ro(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const nl="firebase-heartbeat-store";let wI=null;function oO(){return wI||(wI=function KK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=as(o);return r&&o.addEventListener("upgradeneeded",u=>{r(as(o.result),u.oldVersion,u.newVersion,as(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(nl)}catch(t){console.warn(t)}}}).catch(n=>{throw cr.create("idb-open",{originalErrorMessage:n.message})})),wI}function bI(){return(bI=_(function*(n){try{const t=(yield oO()).transaction(nl),r=yield t.objectStore(nl).get(uO(n));return yield t.done,r}catch(e){if(e instanceof Ci)so.warn(e.message);else{const t=cr.create("idb-get",{originalErrorMessage:e?.message});so.warn(t.message)}}})).apply(this,arguments)}function aO(n,e){return TI.apply(this,arguments)}function TI(){return(TI=_(function*(n,e){try{const r=(yield oO()).transaction(nl,"readwrite");yield r.objectStore(nl).put(e,uO(n)),yield r.done}catch(t){if(t instanceof Ci)so.warn(t.message);else{const r=cr.create("idb-set",{originalErrorMessage:t?.message});so.warn(r.message)}}})).apply(this,arguments)}function uO(n){return`${n.name}!${n.options.appId}`}class NQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=cO();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=cO(),{heartbeatsToSend:i,unsentEntries:s}=function FQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Wf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function cO(){return(new Date).toISOString().substring(0,10)}class VQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!function vK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function IK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function RQ(n){return bI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return aO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return aO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function lO(n){return Wf(JSON.stringify({version:2,heartbeats:n})).length}!function LQ(n){Na(new ro("platform-logger",e=>new JK(e),"PRIVATE")),Na(new ro("heartbeat",e=>new NQ(e),"PRIVATE")),wi(Xf,"0.10.2",n),wi(Xf,"0.10.2","esm2017"),wi("fire-js","")}("");const UQ=function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hO=new Jc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),np=new pI("@firebase/auth");function rp(n,...e){np.logLevel<=_e.ERROR&&np.error(`Auth (${Fa}): ${n}`,...e)}function Nn(n,...e){throw AI(n,...e)}function lr(n,...e){return AI(n,...e)}function DI(n,e,t){const r=Object.assign(Object.assign({},UQ()),{[e]:t});return new Jc("auth","Firebase",r).create(e,{appName:n.name})}function Bt(n){return DI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function AI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hO.create(n,...e)}function R(n,e,...t){if(!n)throw AI(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw rp(e),new Error(e)}function us(n,e){n||Wr(e)}function rl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function fO(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function jQ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function SI(){return"http:"===fO()||"https:"===fO()}()||function gK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class il{constructor(e,t){this.shortDelay=e,this.longDelay=t,us(t>e,"Short delay should be less than long delay!"),this.isMobile=function fK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||function mK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return jQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function MI(n,e){us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class pO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},GQ=new il(3e4,6e4);function He(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ge(n,e,t,r){return PI.apply(this,arguments)}function PI(){return(PI=_(function*(n,e,t,r,i={}){return gO(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Zf(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),pO.fetch()(mO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function gO(n,e,t){return xI.apply(this,arguments)}function xI(){return(xI=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HQ),e);try{const i=new qQ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw sl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw sl(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw sl(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw sl(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw DI(n,l,c);Nn(n,l)}}catch(i){if(i instanceof Ci)throw i;Nn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function bi(n,e,t,r){return RI.apply(this,arguments)}function RI(){return(RI=_(function*(n,e,t,r,i={}){const s=yield Ge(n,e,t,r,i);return"mfaPendingCredential"in s&&Nn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function mO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?MI(n.config,i):`${n.config.apiScheme}://${i}`}function zQ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),GQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=lr(n,e,r);return i.customData._tokenResponse=t,i}function yO(n){return void 0!==n&&void 0!==n.enterprise}class vO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zQ(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function IO(n,e){return OI.apply(this,arguments)}function OI(){return(OI=_(function*(n,e){return Ge(n,"GET","/v2/recaptchaConfig",He(n,e))})).apply(this,arguments)}function NI(){return(NI=_(function*(n,e){return Ge(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function EO(n,e){return VI.apply(this,arguments)}function VI(){return(VI=_(function*(n,e){return Ge(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ol(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function LI(){return(LI=_(function*(n,e=!1){const t=Tn(n),r=yield t.getIdToken(e),i=ip(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ol(UI(i.auth_time)),issuedAtTime:ol(UI(i.iat)),expirationTime:ol(UI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function UI(n){return 1e3*Number(n)}function ip(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return rp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Kf(t);return i?JSON.parse(i):(rp("Failed to decode base64 JWT payload"),null)}catch(i){return rp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CO(n){const e=ip(n);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ti(n,e){return BI.apply(this,arguments)}function BI(){return(BI=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ci&&JQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function JQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class ZQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class jI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ol(this.lastLoginAt),this.creationTime=ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function al(n){return $I.apply(this,arguments)}function $I(){return($I=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ti(n,EO(t,{idToken:r}));R(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?wO(s.providerUserInfo):[],a=eY(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jI(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})).apply(this,arguments)}function HI(){return(HI=_(function*(n){const e=Tn(n);yield al(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function eY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wO(n){return n.map(e=>{var{providerId:t}=e,r=Xg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function GI(){return(GI=_(function*(n,e){const t=yield gO(n,{},_(function*(){const r=Zf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=mO(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function zI(){return(zI=_(function*(n,e){return Ge(n,"POST","/v2/accounts:revokeToken",He(n,e))})).apply(this,arguments)}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){R(0!==e.length,"internal-error");const t=CO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return _(function*(){return t||!r.accessToken||r.isExpired?(R(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function tY(n,e){return GI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new La;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function cs(n,e){R("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Xg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jI(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield Ti(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function YQ(n){return LI.apply(this,arguments)}(this,e)}reload(){return function XQ(n){return HI.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield al(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){if(qr(e.auth.app))return Promise.reject(Bt(e.auth));const t=yield e.getIdToken();return yield Ti(e,function KQ(n,e){return NI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:P,isAnonymous:H,providerData:K,stsTokenManager:Se}=t;R(y&&Se,e,"internal-error");const qt=La.fromJSON(this.name,Se);R("string"==typeof y,e,"internal-error"),cs(d,e.name),cs(h,e.name),R("boolean"==typeof P,e,"internal-error"),R("boolean"==typeof H,e,"internal-error"),cs(f,e.name),cs(p,e.name),cs(g,e.name),cs(m,e.name),cs(v,e.name),cs(C,e.name);const Ui=new Di({uid:y,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:qt,createdAt:v,lastLoginAt:C});return K&&Array.isArray(K)&&(Ui.providerData=K.map(Ms=>Object.assign({},Ms))),m&&(Ui._redirectEventId=m),Ui}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new La;i.updateFromServerResponse(t);const s=new Di({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield al(s),s})()}static _fromGetAccountInfoResponse(e,t,r){return _(function*(){const i=t.users[0];R(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?wO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash||s?.length),a=new La;a.updateFromIdToken(r);const u=new Di({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||s?.length)};return Object.assign(u,c),u})()}}const bO=new Map;function Ai(n){us(n instanceof Function,"Expected a class definition");let e=bO.get(n);return e?(us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bO.set(n,e),e)}const TO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function sp(n,e,t){return`firebase:${n}:${e}:${t}`}class Ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sp(this.userKey,i.apiKey,s),this.fullPersistenceKey=sp("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Di._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Ua(Ai(TO),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ai(TO);const o=sp(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Di._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ua(s,e,r)):new Ua(s,e,r)})()}}function DO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xO(e))return"Blackberry";if(RO(e))return"Webos";if(qI(e))return"Safari";if((e.includes("chrome/")||SO(e))&&!e.includes("edge/"))return"Chrome";if(PO(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function AO(n=Nt()){return/firefox\//i.test(n)}function qI(n=Nt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SO(n=Nt()){return/crios\//i.test(n)}function MO(n=Nt()){return/iemobile/i.test(n)}function PO(n=Nt()){return/android/i.test(n)}function xO(n=Nt()){return/blackberry/i.test(n)}function RO(n=Nt()){return/webos/i.test(n)}function op(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kO(n=Nt()){return op(n)||PO(n)||RO(n)||xO(n)||/windows phone/i.test(n)||MO(n)}function OO(n,e=[]){let t;switch(n){case"Browser":t=DO(Nt());break;case"Worker":t=`${DO(Nt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fa}/${r}`}class oY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function WI(){return(WI=_(function*(n,e={}){return Ge(n,"GET","/v2/passwordPolicy",He(n,e))})).apply(this,arguments)}class cY{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNumericCharacter)||void 0===o||o),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class lY{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NO(this),this.idTokenSubscription=new NO(this),this.beforeStateQueue=new oY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ua.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return _(function*(){try{const r=yield EO(t,{idToken:e}),i=yield Di._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;if(qr(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(u,u))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield al(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $Q(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){if(qr(t.app))return Promise.reject(Bt(t));const r=e?Tn(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return qr(e.app)?Promise.reject(Bt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return qr(this.app)?Promise.reject(Bt(this)):this.queue(_(function*(){yield t.assertedPersistence.setPersistence(Ai(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return _(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return _(function*(){const t=yield function aY(n){return WI.apply(this,arguments)}(e),r=new cY(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return _(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function nY(n,e){return zI.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&Ai(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield Ua.create(t,[Ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}{const u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function BQ(n,...e){np.logLevel<=_e.WARN&&np.warn(`Auth (${Fa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function pt(n){return Tn(n)}class NO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function TK(n,e){const t=new DK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ul={loadJS:()=>_(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KI(n){return ul.loadJS(n)}function FO(n){return`__${n}${Math.floor(1e6*Math.random())}`}class VO{constructor(e){this.type="recaptcha-enterprise",this.auth=pt(e)}verify(e="verify",t=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){IO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new vO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;yO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&yO(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let l=function fY(){return ul.recaptchaEnterpriseScript}();0!==l.length&&(l+=c),KI(l).then(()=>{o(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})})()}}function LO(n,e,t){return QI.apply(this,arguments)}function QI(){return(QI=_(function*(n,e,t,r=!1){const i=new VO(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function cl(n,e,t,r){return YI.apply(this,arguments)}function YI(){return YI=_(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield LO(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield LO(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),YI.apply(this,arguments)}function UO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class jO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}function bY(n,e){return eE.apply(this,arguments)}function eE(){return(eE=_(function*(n,e){return Ge(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function DY(n,e){return nE.apply(this,arguments)}function nE(){return(nE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithPassword",He(n,e))})).apply(this,arguments)}function uE(){return(uE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithEmailLink",He(n,e))})).apply(this,arguments)}function cE(){return(cE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithEmailLink",He(n,e))})).apply(this,arguments)}class ll extends jO{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ll(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ll(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){switch(t.signInMethod){case"password":return cl(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",DY);case"emailLink":return function xY(n,e){return uE.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Nn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return cl(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bY);case"emailLink":return function RY(n,e){return cE.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Nn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Si(n,e){return lE.apply(this,arguments)}function lE(){return(lE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithIdp",He(n,e))})).apply(this,arguments)}class fl{constructor(e){var t,r,i,s,o,a;const u=Zc(Xc(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function UY(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function BY(n){const e=Zc(Xc(n)).link,t=e?Zc(Xc(e)).deep_link_id:null,r=Zc(Xc(n)).deep_link_id;return(r?Zc(Xc(r)).link:null)||r||t||e||n}(e);try{return new fl(t)}catch{return null}}}let HO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ll._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=fl.parseLink(r);return R(i,"argument-error"),ll._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ls{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jY extends ls{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function GO(n,e){return mE.apply(this,arguments)}function mE(){return(mE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signUp",He(n,e))})).apply(this,arguments)}class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Di._fromIdTokenResponse(e,r,i),o=zO(r);return new dr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=zO(r);return new dr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function zO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class cp extends Ci{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,cp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new cp(e,t,r,i)}}function qO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?cp._fromErrorAndOperation(n,s,e,r):s})}function vE(n,e){return IE.apply(this,arguments)}function IE(){return(IE=_(function*(n,e,t=!1){const r=yield Ti(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return dr._forOperation(n,"link",r)})).apply(this,arguments)}function CE(){return(CE=_(function*(n,e,t=!1){const{auth:r}=n;if(qr(r.app))return Promise.reject(Bt(r));const i="reauthenticate";try{const s=yield Ti(n,qO(r,i,e,n),t);R(s.idToken,r,"internal-error");const o=ip(s.idToken);R(o,r,"internal-error");const{sub:a}=o;return R(n.uid===a,r,"user-mismatch"),dr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nn(r,"user-mismatch"),s}})).apply(this,arguments)}function QO(n,e){return wE.apply(this,arguments)}function wE(){return(wE=_(function*(n,e,t=!1){if(qr(n.app))return Promise.reject(Bt(n));const r="signIn",i=yield qO(n,r,e),s=yield dr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function TE(){return(TE=_(function*(n,e){return QO(pt(n),e)})).apply(this,arguments)}function kE(n){return OE.apply(this,arguments)}function OE(){return(OE=_(function*(n){const e=pt(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function BE(){return(BE=_(function*(n,e,t){if(qr(n.app))return Promise.reject(Bt(n));const r=pt(n),o=yield cl(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GO).catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&kE(n),u}),a=yield dr._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const hp="__sak";class JO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hp,"1"),this.storage.removeItem(hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hJ=(()=>{class n extends JO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cJ(){const n=Nt();return qI(n)||op(n)}()&&function sY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function iY(){return function _K(){const n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),ZO=(()=>{class n extends JO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let pJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function fJ(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function nC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class gJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=nC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function bt(){return window}function rC(){return typeof bt().WorkerGlobalScope<"u"&&"function"==typeof bt().importScripts}function iC(){return(iC=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const XO="firebaseLocalStorageDb",fp="firebaseLocalStorage",eN="fbase_key";class gl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pp(n,e){return n.transaction([fp],e?"readwrite":"readonly").objectStore(fp)}function sC(){const n=indexedDB.open(XO,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(fp,{keyPath:eN})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(fp)?e(r):(r.close(),yield function EJ(){const n=indexedDB.deleteDatabase(XO);return new gl(n).toPromise()}(),e(yield sC()))}))})}function tN(n,e,t){return oC.apply(this,arguments)}function oC(){return(oC=_(function*(n,e,t){const r=pp(n,!0).put({[eN]:e,value:t});return new gl(r).toPromise()})).apply(this,arguments)}function aC(){return(aC=_(function*(n,e){const t=pp(n,!1).get(e),r=yield new gl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function nN(n,e){const t=pp(n,!0).delete(e);return new gl(t).toPromise()}const TJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield sC()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return rC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=pJ._getInstance(function vJ(){return rC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function _J(){return iC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new gJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function yJ(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield sC();return yield tN(t,hp,"1"),yield nN(t,hp),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>tN(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function CJ(n,e){return aC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>nN(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=pp(o,!1).getAll();return new gl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function uo(n,e){return e?Ai(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}FO("rcb"),new il(3e4,6e4);class mC extends jO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Si(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BJ(n){return QO(n.auth,new mC(n),n.bypassAuthState)}function jJ(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),function KO(n,e){return CE.apply(this,arguments)}(t,new mC(n),n.bypassAuthState)}function $J(n){return _C.apply(this,arguments)}function _C(){return(_C=_(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),vE(t,new mC(n),n.bypassAuthState)})).apply(this,arguments)}new il(2e3,1e4);const ml=new Map;class zJ extends class HJ{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BJ;case"linkViaPopup":case"linkViaRedirect":return $J;case"reauthViaPopup":case"reauthViaRedirect":return jJ;default:Nn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=ml.get(t.auth._key());if(!r){try{const s=(yield function qJ(n,e){return CC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}ml.set(t.auth._key(),r)}return t.bypassAuthState||ml.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function CC(){return(CC=_(function*(n,e){const t=sN(e),r=iN(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function WJ(n,e){ml.set(n._key(),e)}function iN(n){return Ai(n._redirectPersistence)}function sN(n){return sp("pendingRedirect",n.config.apiKey,n.name)}function oN(n,e){return MC.apply(this,arguments)}function MC(){return(MC=_(function*(n,e,t=!1){if(qr(n.app))return Promise.reject(Bt(n));const r=pt(n),i=uo(r,e),o=yield new zJ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class ZJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function XJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cN(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!cN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uN(e))}saveEventToCache(e){this.cachedEventUids.add(uN(e)),this.lastProcessedEventTime=Date.now()}}function uN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function cN({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function eZ(n){return xC.apply(this,arguments)}function xC(){return(xC=_(function*(n,e={}){return Ge(n,"GET","/v1/projects",e)})).apply(this,arguments)}const tZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nZ=/^https?/;function RC(){return(RC=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield eZ(n);for(const t of e)try{if(iZ(t))return}catch{}Nn(n,"unauthorized-domain")})).apply(this,arguments)}function iZ(n){const e=rl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!nZ.test(t))return!1;if(tZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sZ=new il(3e4,6e4);function lN(){const n=bt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let mp=null;function aZ(n){return mp=mp||function oZ(n){return new Promise((e,t)=>{var r,i,s;function o(){lN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lN(),t(lr(n,"network-request-failed"))},timeout:sZ.get()})}if(null!==(i=null===(r=bt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=bt().gapi)||void 0===s||!s.load){const a=FO("iframefcb");return bt()[a]=()=>{gapi.load?o():t(lr(n,"network-request-failed"))},KI(`${function pY(){return ul.gapiScript}()}?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw mp=null,e})}(n),mp}const uZ=new il(5e3,15e3),dZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fZ(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?MI(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Fa},i=hZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Zf(r).slice(1)}`}function kC(){return kC=_(function*(n){const e=yield aZ(n),t=bt().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:fZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dZ,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=lr(n,"network-request-failed"),u=bt().setTimeout(()=>{o(a)},uZ.get());function c(){bt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),kC.apply(this,arguments)}const gZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bZ=encodeURIComponent("fac");function hN(n,e,t,r,i,s){return OC.apply(this,arguments)}function OC(){return(OC=_(function*(n,e,t,r,i,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fa,eventId:i};if(e instanceof ls){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",bK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof jY){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${bZ}=${encodeURIComponent(u)}`:"";return`${TZ(n)}?${Zf(a).slice(1)}${c}`})).apply(this,arguments)}function TZ({config:n}){return n.emulator?MI(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const NC="webStorageSupport",AZ=class DZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZO,this._completeRedirectFn=oN,this._overrideRedirectResult=WJ}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;us(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield hN(e,t,r,rl(),i);return function IZ(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},gZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Nt().toLowerCase();t&&(a=SO(c)?"_blank":t),AO(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function rY(n=Nt()){var e;return op(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function EZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new dN(null);const d=window.open(e||"",a,l);R(d,n,"popup-blocked");try{d.focus()}catch{}return new dN(d)}(e,a,nC())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function mJ(n){bt().location.href=n}(yield hN(e,t,r,rl(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function pZ(n){return kC.apply(this,arguments)}(e),i=new ZJ(e);return r.register("authEvent",s=>(R(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(NC,{type:NC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[NC];void 0!==o&&t(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function rZ(n){return RC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kO()||qI()||op()}};var gN="@firebase/auth";class SZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const RZ=W1("authIdTokenMaxAge")||300;let _N=null;const kZ=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>RZ)return;const s=r?.token;_N!==s&&(_N=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function yN(n=sO()){const e=tp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function yY(n,e){const t=tp(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Jf(t.getOptions(),e??{}))return i;Nn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:AZ,persistence:[TJ,hJ,ZO]}),r=W1("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kZ(s.toString());(function iJ(n,e,t){Tn(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function rJ(n,e,t,r){Tn(n).onIdTokenChanged(e,t,r)}(t,a=>o(a))}}const i=z1("auth");return i&&function IY(n,e,t){const r=pt(n);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=UO(e),{host:o,port:a}=function EY(n){const e=UO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:BO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:BO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function CY(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function dY(n){ul=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function OZ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function PZ(n){Na(new ro("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OO(n)},c=new lY(r,i,s,u);return function vY(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Na(new ro("auth-internal",e=>{const t=pt(e.getProvider("auth").getImmediate());return new SZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(gN,"1.7.2",function MZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),wi(gN,"1.7.2","esm2017")}("Browser"),wi("firebase","10.11.1","app");const Dn_apiKey="AIzaSyAf1sfoQYQ1NBf11I7use2SgeYdmV7R1ak",Dn_appId="1:1001517841425:web:e8ad18680dbfe7caca85b0";var V,VZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={},VC=VC||{},se=VZ||self;function yp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function _l(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var LC="closure_uid_"+(1e9*Math.random()>>>0),UZ=0;function BZ(n,e,t){return n.call.apply(n.bind,arguments)}function jZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function dn(n,e,t){return(dn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BZ:jZ).apply(null,arguments)}function vp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ds(){this.s=this.s,this.o=this.o}ds.prototype.s=!1,ds.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function LZ(n){Object.prototype.hasOwnProperty.call(n,LC)&&n[LC]||(n[LC]=++UZ)}(this)},ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function UC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function IN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(yp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function hn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var HZ=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};se.addEventListener("test",t,e),se.removeEventListener("test",t,e)}catch{}return n}();function yl(n){return/^[\s\xa0]*$/.test(n)}function Ip(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function Kr(n){return-1!=Ip().indexOf(n)}function BC(n){return BC[" "](n),n}BC[" "]=function(){};var $C,n,zZ=Kr("Opera"),Ba=Kr("Trident")||Kr("MSIE"),EN=Kr("Edge"),jC=EN||Ba,CN=Kr("Gecko")&&!(-1!=Ip().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),qZ=-1!=Ip().toLowerCase().indexOf("webkit")&&!Kr("Edge");function wN(){var n=se.document;return n?n.documentMode:void 0}e:{var HC="",GC=(n=Ip(),CN?/rv:([^\);]+)(\)|;)/.exec(n):EN?/Edge\/([\d\.]+)/.exec(n):Ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qZ?/WebKit\/(\S+)/.exec(n):zZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(GC&&(HC=GC?GC[1]:""),Ba){var zC=wN();if(null!=zC&&zC>parseFloat(HC)){$C=String(zC);break e}}$C=HC}var WZ=se.document&&Ba&&(wN()||parseInt($C,10))||void 0;function vl(n,e){if(hn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CN){e:{try{BC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vl.$.h.call(this)}}jt(vl,hn);var KZ={2:"touch",3:"pen",4:"mouse"};vl.prototype.h=function(){vl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Il="closure_listenable_"+(1e6*Math.random()|0),QZ=0;function YZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++QZ,this.fa=this.ia=!1}function Ep(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function WC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function TN(n){const e={};for(const t in n)e[t]=n[t];return e}const DN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<DN.length;s++)t=DN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Cp(n){this.src=n,this.g={},this.h=0}function KC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=vN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ep(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function QC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}Cp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=QC(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new YZ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var YC="closure_lm_"+(1e6*Math.random()|0),JC={};function SN(n,e,t,r,i){if(r&&r.once)return PN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SN(n,e[s],t,r,i);return null}return t=tw(t),n&&n[Il]?n.O(e,t,_l(r)?!!r.capture:!!r,i):MN(n,e,t,!1,r,i)}function MN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=_l(i)?!!i.capture:!!i,a=XC(n);if(a||(n[YC]=a=new Cp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function ZZ(){const e=XZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)HZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(RN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PN(n,e[s],t,r,i);return null}return t=tw(t),n&&n[Il]?n.P(e,t,_l(r)?!!r.capture:!!r,i):MN(n,e,t,!0,r,i)}function xN(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xN(n,e[s],t,r,i);else r=_l(r)?!!r.capture:!!r,t=tw(t),n&&n[Il]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=QC(s=n.g[e],t,r,i))&&(Ep(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=XC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=QC(e,t,r,i)),(t=-1<n?e[n]:null)&&ZC(t))}function ZC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Il])KC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(RN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=XC(e))?(KC(t,n),0==t.h&&(t.src=null,e[YC]=null)):Ep(n)}}}function RN(n){return n in JC?JC[n]:JC[n]="on"+n}function XZ(n,e){if(n.fa)n=!0;else{e=new vl(e,this);var t=n.listener,r=n.la||n.src;n.ia&&ZC(n),n=t.call(r,e)}return n}function XC(n){return(n=n[YC])instanceof Cp?n:null}var ew="__closure_events_fn_"+(1e9*Math.random()>>>0);function tw(n){return"function"==typeof n?n:(n[ew]||(n[ew]=function(e){return n.handleEvent(e)}),n[ew])}function $t(){ds.call(this),this.i=new Cp(this),this.S=this,this.J=null}function Yt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new hn(e,n);else if(e instanceof hn)e.target=e.target||n;else{var i=e;AN(e=new hn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=wp(o,r,!0,e)&&i}if(i=wp(o=e.g=n,r,!0,e)&&i,i=wp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=wp(o=e.g=t[s],r,!1,e)&&i}function wp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&KC(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}jt($t,ds),$t.prototype[Il]=!0,$t.prototype.removeEventListener=function(n,e,t,r){xN(this,n,e,t,r)},$t.prototype.N=function(){if($t.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ep(t[r]);delete n.g[e],n.h--}}this.J=null},$t.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$t.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var nw=se.JSON.stringify;function tX(){var n=rw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kN=new class eX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rX,n=>n.reset());class rX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function sX(n){se.setTimeout(()=>{throw n},0)}let El,Cl=!1,rw=new class nX{constructor(){this.h=this.g=null}add(e,t){const r=kN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ON=()=>{const n=se.Promise.resolve(void 0);El=()=>{n.then(oX)}};var oX=()=>{for(var n;n=tX();){try{n.h.call(n.g)}catch(t){sX(t)}var e=kN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cl=!1};function bp(n,e){$t.call(this),this.h=n||1,this.g=e||se,this.j=dn(this.qb,this),this.l=Date.now()}function iw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function sw(n,e,t){if("function"==typeof n)t&&(n=dn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=dn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function NN(n){n.g=sw(()=>{n.g=null,n.i&&(n.i=!1,NN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jt(bp,$t),(V=bp.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(iw(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){bp.$.N.call(this),iw(this),delete this.g};class aX extends ds{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NN(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wl(n){ds.call(this),this.h=n,this.g={}}jt(wl,ds);var FN=[];function VN(n,e,t,r){Array.isArray(t)||(t&&(FN[0]=t.toString()),t=FN);for(var i=0;i<t.length;i++){var s=SN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function LN(n){WC(n.g,function(e,t){this.g.hasOwnProperty(t)&&ZC(e)},n),n.g={}}function Tp(){this.g=!0}function ja(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return nw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}wl.prototype.N=function(){wl.$.N.call(this),LN(this)},wl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tp.prototype.Ea=function(){this.g=!1},Tp.prototype.info=function(){};var co={},UN=null;function Dp(){return UN=UN||new $t}function BN(n){hn.call(this,co.Ta,n)}function bl(n){const e=Dp();Yt(e,new BN(e))}function jN(n,e){hn.call(this,co.STAT_EVENT,n),this.stat=e}function An(n){const e=Dp();Yt(e,new jN(e,n))}function $N(n,e){hn.call(this,co.Ua,n),this.size=e}function Tl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}co.Ta="serverreachability",jt(BN,hn),co.STAT_EVENT="statevent",jt(jN,hn),co.Ua="timingevent",jt($N,hn);var Ap={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ow(){}function zN(){}ow.prototype.h=null;var cw,Dl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function aw(){hn.call(this,"d")}function uw(){hn.call(this,"c")}function Sp(){}function Al(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new wl(this),this.P=hX,this.V=new bp(n=jC?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qN}function qN(){this.i=null,this.g="",this.h=!1}jt(aw,hn),jt(uw,hn),jt(Sp,ow),Sp.prototype.g=function(){return new XMLHttpRequest},Sp.prototype.i=function(){return{}},cw=new Sp;var hX=45e3,WN={},lw={};function dw(n,e,t){n.L=1,n.A=Rp(Mi(e)),n.u=t,n.S=!0,KN(n,null)}function KN(n,e){n.G=Date.now(),Sl(n),n.B=Mi(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),iF(t.i,"t",r),n.o=0,t=n.l.J,n.h=new qN,n.g=SF(n.l,t?e:null,!n.u),0<n.O&&(n.M=new aX(dn(n.Pa,n,n.g),n.O)),VN(n.U,n.g,"readystatechange",n.nb),e=n.I?TN(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),bl(),function uX(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function QN(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function YN(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=fX(n,t),i==lw){4==e&&(n.s=4,An(14),r=!1),ja(n.j,n.m,null,"[Incomplete Response]");break}if(i==WN){n.s=4,An(15),ja(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ja(n.j,n.m,i,null),hw(n,i)}QN(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,An(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),vw(e),e.M=!0,An(11))):(ja(n.j,n.m,t,"[Invalid Chunked Response]"),lo(n),Ml(n))}function fX(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?lw:(t=Number(e.substring(t,r)),isNaN(t)?WN:(r+=1)+t>e.length?lw:(e=e.slice(r,r+t),n.o=r+t,e))}function Sl(n){n.Y=Date.now()+n.P,JN(n,n.P)}function JN(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Tl(dn(n.lb,n),e)}function Mp(n){n.C&&(se.clearTimeout(n.C),n.C=null)}function Ml(n){0==n.l.H||n.J||bF(n.l,n)}function lo(n){Mp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,iw(n.V),LN(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function hw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||fw(t.i,n)))if(!n.K&&fw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Lp(t),Fp(t)}yw(t),An(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Tl(dn(t.ib,t),6e3));if(1>=aF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else fo(t,11)}else if((n.K||t.g==n)&&Lp(t),!yl(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(pw(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ze(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=AF(r,r.J?r.pa:null,r.Y),o.K){uF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(Mp(a),Sl(a)),r.g=o}else CF(r);0<t.j.length&&Vp(t)}else"stop"!=c[0]&&"close"!=c[0]||fo(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?fo(t,7):_w(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}bl()}catch{}}function ZN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(yp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gX(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(yp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pX(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(yp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(V=Al.prototype).setTimeout=function(n){this.P=n},V.nb=function(n){n=n.target;const e=this.M;e&&3==Qr(n)?e.l():this.Pa(n)},V.Pa=function(n){try{if(n==this.g)e:{const l=Qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||jC||this.g&&(this.h.h||this.g.ja()||mF(this.g)))){this.J||4!=l||7==e||bl(),Mp(this);var t=this.g.da();this.ca=t;t:if(QN(this)){var r=mF(this.g);n="";var i=r.length,s=4==Qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),Ml(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function cX(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yl(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,An(12),lo(this),Ml(this);break e}ja(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hw(this,t)}this.S?(YN(this,l,o),jC&&this.i&&3==l&&(VN(this.U,this.V,"tick",this.mb),this.V.start())):(ja(this.j,this.m,o,null),hw(this,o)),4==l&&lo(this),this.i&&!this.J&&(4==l?bF(this.l,this):(this.i=!1,Sl(this)))}else(function kX(n){const e={};n=(n.g&&2<=Qr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(yl(n[r]))continue;var t=iX(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function JZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),lo(this),Ml(this)}}}catch{}},V.mb=function(){if(this.g){var n=Qr(this.g),e=this.g.ja();this.o<e.length&&(Mp(this),YN(this,n,e),this.i&&4!=n&&Sl(this))}},V.cancel=function(){this.J=!0,lo(this)},V.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function lX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(bl(),An(17)),lo(this),this.s=2,Ml(this)):JN(this,this.Y-n)};var XN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ho){this.h=n.h,Pp(this,n.j),this.s=n.s,this.g=n.g,xp(this,n.m),this.l=n.l;var e=n.i,t=new Rl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eF(this,t),this.o=n.o}else n&&(e=String(n).match(XN))?(this.h=!1,Pp(this,e[1]||"",!0),this.s=Pl(e[2]||""),this.g=Pl(e[3]||"",!0),xp(this,e[4]),this.l=Pl(e[5]||"",!0),eF(this,e[6]||"",!0),this.o=Pl(e[7]||"")):(this.h=!1,this.i=new Rl(null,this.h))}function Mi(n){return new ho(n)}function Pp(n,e,t){n.j=t?Pl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eF(n,e,t){e instanceof Rl?(n.i=e,function CX(n,e){e&&!n.j&&(hs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(nF(this,r),iF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=xl(e,IX)),n.i=new Rl(e,n.h))}function ze(n,e,t){n.i.set(e,t)}function Rp(n){return ze(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function xl(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_X),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _X(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ho.prototype.toString=function(){var n=[],e=this.j;e&&n.push(xl(e,tF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(xl(e,tF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(xl(t,"/"==t.charAt(0)?vX:yX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",xl(t,EX)),n.join("")};var tF=/[#\/\?@]/g,yX=/[#\?:]/g,vX=/[#\?]/g,IX=/[#\?@]/g,EX=/#/g;function Rl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function hs(n){n.g||(n.g=new Map,n.h=0,n.i&&function mX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nF(n,e){hs(n),e=$a(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function rF(n,e){return hs(n),e=$a(n,e),n.g.has(e)}function iF(n,e,t){nF(n,e),0<t.length&&(n.i=null,n.g.set($a(n,e),UC(t)),n.h+=t.length)}function $a(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sF(n){this.l=n||bX,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=Rl.prototype).add=function(n,e){hs(this),this.i=null,n=$a(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){hs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},V.ta=function(){hs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},V.Z=function(n){hs(this);let e=[];if("string"==typeof n)rF(this,n)&&(e=e.concat(this.g.get($a(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},V.set=function(n,e){return hs(this),this.i=null,rF(this,n=$a(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var bX=10;function oF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aF(n){return n.h?1:n.g?n.g.size:0}function fw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function pw(n,e){n.g?n.g.add(e):n.h=e}function uF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function cF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return UC(n.i)}function DX(){this.g=new class{stringify(n){return se.JSON.stringify(n,void 0)}parse(n){return se.JSON.parse(n,void 0)}}}function AX(n,e,t){const r=t||"";try{ZN(n,function(i,s){let o=i;_l(i)&&(o=nw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kl(n){this.l=n.ec||null,this.j=n.ob||!1}function Op(n,e){$t.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=gw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sF.prototype.cancel=function(){if(this.i=cF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jt(kl,ow),kl.prototype.g=function(){return new Op(this.l,this.j)},kl.prototype.i=function(n){return function(){return n}}({}),jt(Op,$t);var gw=0;function lF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ol(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Nl(n)}function Nl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=Op.prototype).open=function(n,e){if(this.readyState!=gw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Nl(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ol(this)),this.readyState=gw},V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ol(this):Nl(this),3==this.readyState&&lF(this)}},V.Za=function(n){this.g&&(this.response=this.responseText=n,Ol(this))},V.Ya=function(n){this.g&&(this.response=n,Ol(this))},V.ka=function(){this.g&&Ol(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Op.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MX=se.JSON.parse;function at(n){$t.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dF,this.L=this.M=!1}jt(at,$t);var dF="",PX=/^https?$/i,xX=["POST","PUT"];function hF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fF(n),Np(n)}function fF(n){n.F||(n.F=!0,Yt(n,"complete"),Yt(n,"error"))}function pF(n){if(n.h&&typeof VC<"u"&&(!n.C[1]||4!=Qr(n)||2!=n.da()))if(n.v&&4==Qr(n))sw(n.La,0,n);else if(Yt(n,"readystatechange"),4==Qr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(XN)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!PX.test(i?i.toLowerCase():"")}t=r}if(t)Yt(n,"complete"),Yt(n,"success");else{n.m=6;try{var s=2<Qr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",fF(n)}}finally{Np(n)}}}function Np(n,e){if(n.g){gF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Yt(n,"ready");try{t.onreadystatechange=r}catch{}}}function gF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Qr(n){return n.g?n.g.readyState:0}function mF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case dF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _F(n){let e="";return WC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function mw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_F(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ze(n,e,t))}function Fl(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yF(n){this.Ga=0,this.j=[],this.l=new Tp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Fl("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Fl("baseRetryDelayMs",5e3,n),this.hb=Fl("retryDelaySeedMs",1e4,n),this.eb=Fl("forwardChannelMaxRetries",2,n),this.xa=Fl("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new sF(n&&n.concurrentRequestLimit),this.Ja=new DX,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function _w(n){if(vF(n),3==n.H){var e=n.W++,t=Mi(n.I);if(ze(t,"SID",n.K),ze(t,"RID",e),ze(t,"TYPE","terminate"),Vl(n,t),(e=new Al(n,n.l,e)).L=2,e.A=Rp(Mi(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.A,t=!0),t||(e.g=SF(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Sl(e)}DF(n)}function Fp(n){n.g&&(vw(n),n.g.cancel(),n.g=null)}function vF(n){Fp(n),n.u&&(se.clearTimeout(n.u),n.u=null),Lp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function Vp(n){if(!oF(n.i)&&!n.m){n.m=!0;var e=n.Na;El||ON(),Cl||(El(),Cl=!0),rw.add(e,n),n.C=0}}function IF(n,e){var t;t=e?e.m:n.W++;const r=Mi(n.I);ze(r,"SID",n.K),ze(r,"RID",t),ze(r,"AID",n.V),Vl(n,r),n.o&&n.s&&mw(r,n.o,n.s),t=new Al(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=EF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),pw(n.i,t),dw(t,r,e)}function Vl(n,e){n.na&&WC(n.na,function(t,r){ze(e,r,t)}),n.h&&ZN({},function(t,r){ze(e,r,t)})}function EF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?dn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{AX(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function CF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;El||ON(),Cl||(El(),Cl=!0),rw.add(e,n),n.A=0}}function yw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Tl(dn(n.Ma,n),TF(n,n.A)),n.A++,0))}function vw(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function wF(n){n.g=new Al(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Mi(n.wa);ze(e,"RID","rpc"),ze(e,"SID",n.K),ze(e,"AID",n.V),ze(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ze(e,"TO",n.qa),ze(e,"TYPE","xmlhttp"),Vl(n,e),n.o&&n.s&&mw(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Rp(Mi(e)),t.u=null,t.S=!0,KN(t,n)}function Lp(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function bF(n,e){var t=null;if(n.g==e){Lp(n),vw(n),n.g=null;var r=2}else{if(!fw(n.i,e))return;t=e.F,uF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Yt(r=Dp(),new $N(r,t)),Vp(n)}else CF(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function OX(n,e){return!(aF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Tl(dn(n.Na,n,e),TF(n,n.C)),n.C++,0)))}(n,e)||2==r&&yw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:fo(n,5);break;case 4:fo(n,10);break;case 3:fo(n,6);break;default:fo(n,2)}}function TF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function fo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=dn(n.pb,n);t||(t=new ho("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Pp(t,"https"),Rp(t)),function SX(n,e){const t=new Tp;if(se.Image){const r=new Image;r.onload=vp(kp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=vp(kp,t,r,"TestLoadImage: error",!1,e),r.onabort=vp(kp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=vp(kp,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else An(2);n.H=0,n.h&&n.h.za(e),DF(n),vF(n)}function DF(n){if(n.H=0,n.ma=[],n.h){const e=cF(n.i);(0!=e.length||0!=n.j.length)&&(IN(n.ma,e),IN(n.ma,n.j),n.i.i.length=0,UC(n.j),n.j.length=0),n.h.ya()}}function AF(n,e,t){var r=t instanceof ho?Mi(t):new ho(t);if(""!=r.g)e&&(r.g=e+"."+r.g),xp(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new ho(null);r&&Pp(s,r),e&&(s.g=e),i&&xp(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ze(r,t,e),ze(r,"VER",n.ra),Vl(n,r),r}function SF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(n.Ha&&!n.va?new kl({ob:t}):n.va)).Oa(n.J),e}function MF(){}function Up(){if(Ba&&!(10<=Number(WZ)))throw Error("Environmental error: no available transport.")}function Qn(n,e){$t.call(this),this.g=new yF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!yl(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yl(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ha(this)}function PF(n){aw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xF(){uw.call(this),this.status=1}function Ha(n){this.g=n}function Ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Iw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function xe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(V=at.prototype).Oa=function(n){this.M=n},V.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():cw.g(),this.C=function GN(n){return n.h||(n.h=n.i())}(this.u?this.u:cw),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void hF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=vN(xX,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gF(this),0<this.B&&((this.L=function RX(n){return Ba&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=sw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){hF(this,s)}},V.ua=function(){typeof VC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yt(this,"complete"),Yt(this,"abort"),Np(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Np(this,!0)),at.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?pF(this):this.kb())},V.kb=function(){pF(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MX(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=yF.prototype).ra=8,V.H=1,V.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Al(this,this.l,n);let s=this.s;if(this.U&&(s?(s=TN(s),AN(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EF(this,i,e),ze(t=Mi(this.I),"RID",n),ze(t,"CVER",22),this.F&&ze(t,"X-HTTP-Session-Id",this.F),Vl(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(_F(s)))+"&"+e:this.o&&mw(t,this.o,s)),pw(this.i,i),this.bb&&ze(t,"TYPE","init"),this.P?(ze(t,"$req",e),ze(t,"SID","null"),i.aa=!0,dw(i,t,null)):dw(i,t,e),this.H=2}}else 3==this.H&&(n?IF(this,n):0==this.j.length||oF(this.i)||IF(this))},V.Ma=function(){if(this.u=null,wF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Tl(dn(this.jb,this),n)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),Fp(this),wF(this))},V.ib=function(){null!=this.v&&(this.v=null,Fp(this),yw(this),An(19))},V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=MF.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},Up.prototype.g=function(n,e){return new Qn(n,e)},jt(Qn,$t),Qn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;An(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=AF(n,null,n.Y),Vp(n)},Qn.prototype.close=function(){_w(this.g)},Qn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=nw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Vp(e)},Qn.prototype.N=function(){this.g.h=null,delete this.j,_w(this.g),delete this.g,Qn.$.N.call(this)},jt(PF,aw),jt(xF,uw),jt(Ha,MF),Ha.prototype.Ba=function(){Yt(this.g,"a")},Ha.prototype.Aa=function(n){Yt(this.g,new PF(n))},Ha.prototype.za=function(n){Yt(this.g,new xF)},Ha.prototype.ya=function(){Yt(this.g,"b")},jt(Ar,function NX(){this.blockSize=-1}),Ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ar.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)Iw(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){Iw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){Iw(this,r),i=0;break}}this.h=i,this.i+=e},Ar.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var FX={};function Ew(n){return-128<=n&&128>n?function GZ(n,e){var t=FX;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|n],0>n?-1:0)}function Yr(n){if(isNaN(n)||!isFinite(n))return Ga;if(0>n)return Jt(Yr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Cw;return new xe(e,0)}var Cw=4294967296,Ga=Ew(0),ww=Ew(1),kF=Ew(16777216);function Pi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hr(n){return-1==n.h}function Jt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new xe(t,~n.h).add(ww)}function Bp(n,e){return n.add(Jt(e))}function jp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ll(n,e){this.g=n,this.h=e}function $p(n,e){if(Pi(e))throw Error("division by zero");if(Pi(n))return new Ll(Ga,Ga);if(hr(n))return e=$p(Jt(n),e),new Ll(Jt(e.g),Jt(e.h));if(hr(e))return e=$p(n,Jt(e)),new Ll(Jt(e.g),e.h);if(30<n.g.length){if(hr(n)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=ww,r=e;0>=r.X(n);)t=OF(t),r=OF(r);var i=za(t,1),s=za(r,1);for(r=za(r,2),t=za(t,2);!Pi(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=za(r,1),t=za(t,1)}return e=Bp(n,i.R(e)),new Ll(i,e)}for(i=Ga;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Yr(t)).R(e);hr(o)||0<o.X(n);)o=(s=Yr(t-=r)).R(e);Pi(s)&&(s=ww),i=i.add(s),n=Bp(n,o)}return new Ll(i,n)}function OF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new xe(t,n.h)}function za(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new xe(i,n.h)}(V=xe.prototype).ea=function(){if(hr(this))return-Jt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Cw+r)*e,e*=Cw}return n},V.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pi(this))return"0";if(hr(this))return"-"+Jt(this).toString(n);for(var e=Yr(Math.pow(n,6)),t=this,r="";;){var i=$p(t,e).g,s=((0<(t=Bp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pi(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},V.X=function(n){return hr(n=Bp(this,n))?-1:Pi(n)?0:1},V.abs=function(){return hr(this)?Jt(this):this},V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new xe(t,-2147483648&t[t.length-1]?-1:0)},V.R=function(n){if(Pi(this)||Pi(n))return Ga;if(hr(this))return hr(n)?Jt(this).R(Jt(n)):Jt(Jt(this).R(n));if(hr(n))return Jt(this.R(Jt(n)));if(0>this.X(kF)&&0>n.X(kF))return Yr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,jp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,jp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,jp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,jp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new xe(t,0)},V.gb=function(n){return $p(this,n).h},V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new xe(t,this.h&n.h)},V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new xe(t,this.h|n.h)},V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new xe(t,this.h^n.h)},Up.prototype.createWebChannel=Up.prototype.g,Qn.prototype.send=Qn.prototype.u,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Ap.NO_ERROR=0,Ap.TIMEOUT=8,Ap.HTTP_ERROR=6,HN.COMPLETE="complete",zN.EventType=Dl,Dl.OPEN="a",Dl.CLOSE="b",Dl.ERROR="c",Dl.MESSAGE="d",$t.prototype.listen=$t.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Ar.prototype.digest=Ar.prototype.l,Ar.prototype.reset=Ar.prototype.reset,Ar.prototype.update=Ar.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=Yr,xe.fromString=function RF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Jt(RF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yr(Math.pow(e,8)),r=Ga,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Yr(Math.pow(e,s)),r=r.R(s).add(Yr(o))):r=(r=r.R(t)).add(Yr(o))}return r};var VX=Dr.createWebChannelTransport=function(){return new Up},LX=Dr.getStatEventTarget=function(){return Dp()},bw=Dr.ErrorCode=Ap,UX=Dr.EventType=HN,BX=Dr.Event=co,NF=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jX=Dr.FetchXmlHttpFactory=kl,Hp=Dr.WebChannel=zN,$X=Dr.XhrIo=at,HX=Dr.Md5=Ar,qa=Dr.Integer=xe;const FF="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Wa="10.11.1";const fs=new pI("@firebase/firestore");function Ka(){return fs.logLevel}function S(n,...e){if(fs.logLevel<=_e.DEBUG){const t=e.map(Tw);fs.debug(`Firestore (${Wa}): ${n}`,...t)}}function gt(n,...e){if(fs.logLevel<=_e.ERROR){const t=e.map(Tw);fs.error(`Firestore (${Wa}): ${n}`,...t)}}function Yn(n,...e){if(fs.logLevel<=_e.WARN){const t=e.map(Tw);fs.warn(`Firestore (${Wa}): ${n}`,...t)}}function Tw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+n;throw gt(e),new Error(e)}function G(n,e){n||$()}function O(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ft{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class VF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class zX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qX{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ft)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new VF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Ht(e)}}class WX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.R=t.token,new LF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class UF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function Qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class rt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new rt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new rt(0,0))}static max(){return new q(new rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ul{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ul.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ve extends Ul{construct(e,t,r){return new ve(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ve(t)}static emptyPath(){return new ve([])}}const JX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ul{construct(e,t,r){return new Ye(e,t,r)}static isValidIdentifier(e){return JX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(t)}static emptyPath(){return new Ye([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(ve.fromString(e))}static fromName(e){return new F(ve.fromString(e).popFirst(5))}static empty(){return new F(ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new ve(e.slice()))}}function $F(n){return new Jn(n.readTime,n.key,-1)}class Jn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jn(q.min(),F.empty(),-1)}static max(){return new Jn(q.max(),F.empty(),-1)}}function Aw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const HF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function ps(n){return Sw.apply(this,arguments)}function Sw(){return Sw=_(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==HF)throw n;S("LocalStore","Unexpectedly lost primary lease")}),Sw.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof I?t:I.resolve(t)}catch(t){return I.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):I.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):I.reject(t)}static resolve(e){return new I((t,r)=>{t(e)})}static reject(e){return new I((t,r)=>{r(e)})}static waitFor(e){return new I((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=I.resolve(!1);for(const r of e)t=t.next(i=>i?I.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new I((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function gs(n){return"IndexedDbTransactionError"===n.name}let Zn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function jl(n){return null==n}function $l(n){return 0===n&&1/n==-1/0}function XF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ms(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class je{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qp(this.root,e,this.comparator,!1)}getReverseIterator(){return new qp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qp(this.root,e,this.comparator,!0)}}class qp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Zt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tV(this.data.getIterator())}getIteratorFrom(e){return new tV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ke(this.comparator);return t.data=e,t}}class tV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new ke(Ye.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class nV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nV("Invalid base64 string: "+s):s}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const bee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(n){if(G(!!n),"string"==typeof n){let e=0;const t=bee.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ri(n){return"string"==typeof n?Vt.fromBase64String(n):Vt.fromUint8Array(n)}function Wp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Kp(n){const e=n.mapValue.fields.__previous_value__;return Wp(e)?Kp(e):e}function Hl(n){const e=xi(n.mapValue.fields.__local_write_time__.timestampValue);return new rt(e.seconds,e.nanos)}class Tee{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class _o{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new _o("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}const _s_mapValue={fields:{__type__:{stringValue:"__max__"}}};function ys(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wp(n)?4:oV(n)?9007199254740991:10:$()}function Xr(n,e){if(n===e)return!0;const t=ys(n);if(t!==ys(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hl(n).isEqual(Hl(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ri(n.bytesValue).isEqual(Ri(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ut(i.doubleValue),a=ut(s.doubleValue);return o===a?$l(o)===$l(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XF(o)!==XF(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Xr(o[u],a[u])))return!1;return!0}(n,e);default:return $()}var s}function Gl(n,e){return void 0!==(n.values||[]).find(t=>Xr(t,e))}function vs(n,e){if(n===e)return 0;const t=ys(n),r=ys(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ut(s.integerValue||s.doubleValue),u=ut(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return rV(n.timestampValue,e.timestampValue);case 4:return rV(Hl(n),Hl(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Ri(s),u=Ri(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=re(a[c],u[c]);if(0!==l)return l}return re(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(ut(s.latitude),ut(o.latitude));return 0!==a?a:re(ut(s.longitude),ut(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=vs(a[c],u[c]);if(l)return l}return re(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===_s_mapValue&&o===_s_mapValue)return 0;if(s===_s_mapValue)return 1;if(o===_s_mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=re(u[d],l[d]);if(0!==h)return h;const f=vs(a[u[d]],c[l[d]]);if(0!==f)return f}return re(u.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function rV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=xi(n),r=xi(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function Xa(n){return xw(n)}function xw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ri(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=xw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${xw(t.fields[o])}`;return i+"}"}(n.mapValue):$()}function Rw(n){return!!n&&"integerValue"in n}function zl(n){return!!n&&"arrayValue"in n}function iV(n){return!!n&&"nullValue"in n}function sV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Jp(n){return!!n&&"mapValue"in n}function ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ms(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ql(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Jp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ql(t)}setAll(e){let t=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ql(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Jp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Jp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ms(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(ql(this.value))}}function cV(n){const e=[];return ms(n.fields,(t,r)=>{const i=new Ye([t]);if(Jp(r)){const s=cV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}class qe{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,q.min(),q.min(),q.min(),Xt.empty(),0)}static newFoundDocument(e,t,r,i){return new qe(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new qe(e,2,t,q.min(),q.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new qe(e,3,t,q.min(),q.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Is{constructor(e,t){this.position=e,this.inclusive=t}}function lV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?F.comparator(F.fromName(o.referenceValue),t.key):vs(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function dV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}class Wl{constructor(e,t="asc"){this.field=e,this.dir=t}}function See(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hV{}class Ie extends hV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Mee(e,t,r):"array-contains"===t?new Ree(e,r):"in"===t?new yV(e,r):"not-in"===t?new kee(e,r):"array-contains-any"===t?new Oee(e,r):new Ie(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Pee(e,r):new xee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(vs(t,this.value)):null!==t&&ys(this.value)===ys(t)&&this.matchesComparison(vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends hV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Re(e,t)}matches(e){return eu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eu(n){return"and"===n.op}function Ow(n){return function fV(n){for(const e of n.filters)if(e instanceof Re)return!1;return!0}(n)&&eu(n)}function Nw(n){if(n instanceof Ie)return n.field.canonicalString()+n.op.toString()+Xa(n.value);if(Ow(n))return n.filters.map(e=>Nw(e)).join(",");{const e=n.filters.map(t=>Nw(t)).join(",");return`${n.op}(${e})`}}function pV(n,e){return n instanceof Ie?(r=n,(i=e)instanceof Ie&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)):n instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&pV(o,i.filters[a]),!0)}(n,e):void $();var r,i}function mV(n){return n instanceof Ie?`${(t=n).field.canonicalString()} ${t.op} ${Xa(t.value)}`:n instanceof Re?function(t){return t.op.toString()+" {"+t.getFilters().map(mV).join(" ,")+"}"}(n):"Filter";var t}class Mee extends Ie{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pee extends Ie{constructor(e,t){super(e,"in",t),this.keys=_V(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xee extends Ie{constructor(e,t){super(e,"not-in",t),this.keys=_V(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _V(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class Ree extends Ie{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zl(t)&&Gl(t.arrayValue,this.value)}}class yV extends Ie{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gl(this.value.arrayValue,t)}}class kee extends Ie{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gl(this.value.arrayValue,t)}}class Oee extends Ie{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gl(this.value.arrayValue,r))}}class Nee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Fw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Nee(n,e,t,r,i,s,o)}function vo(n){const e=O(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Nw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),jl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xa(r)).join(",")),e.ue=t}return e.ue}function Kl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!See(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dV(n.startAt,e.startAt)&&dV(n.endAt,e.endAt)}function Zp(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ki{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function tu(n){return new ki(n)}function CV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nu(n){const e=O(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ke(Ye.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wl(s,r))}),t.has(Ye.keyField().canonicalString())||e.ce.push(new Wl(Ye.keyField(),r))}return e.ce}function Sn(n){const e=O(n);return e.le||(e.le=function wV(n,e){if("F"===n.limitType)return Fw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Wl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Is(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Is(n.startAt.position,n.startAt.inclusive):null;return Fw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,nu(n))),e.le}function eg(n,e,t){return new ki(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ql(n,e){return Kl(Sn(n),Sn(e))&&n.limitType===e.limitType}function bV(n){return`${vo(Sn(n))}|lt:${n.limitType}`}function ru(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mV(i)).join(", ")}]`),jl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Xa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Xa(i)).join(",")),`Target(${r})`}(Sn(n))}; limitType=${n.limitType})`}function Yl(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of nu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const c=lV(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,nu(r),i)||r.endAt&&!function(o,a,u){const c=lV(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,nu(r),i)));var r,i}function DV(n){return(e,t)=>{let r=!1;for(const i of nu(n)){const s=Fee(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fee(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?vs(u,c):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class Oi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ms(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eV(this.inner)}size(){return this.innerSize}}const Vee=new je(F.comparator);function Vn(){return Vee}const AV=new je(F.comparator);function Jl(...n){let e=AV;for(const t of n)e=e.insert(t.key,t);return e}function SV(n){let e=AV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ei(){return Zl()}function MV(){return Zl()}function Zl(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lee=new je(F.comparator),Uee=new ke(F.comparator);function de(...n){let e=Uee;for(const t of n)e=e.add(t);return e}const Bee=new ke(re);function PV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$l(e)?"-0":e}}function xV(n){return{integerValue:""+n}}function RV(n,e){return function qF(n){return"number"==typeof n&&Number.isInteger(n)&&!$l(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?xV(e):PV(n,e)}class tg{constructor(){this._=void 0}}function jee(n,e,t){return n instanceof iu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wp(s)&&(s=Kp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Io?OV(n,e):n instanceof Eo?NV(n,e):function(i,s){const o=kV(i,s),a=FV(o)+FV(i.Pe);return Rw(o)&&Rw(i.Pe)?xV(a):PV(i.serializer,a)}(n,e)}function $ee(n,e,t){return n instanceof Io?OV(n,e):n instanceof Eo?NV(n,e):t}function kV(n,e){return n instanceof su?Rw(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class iu extends tg{}class Io extends tg{constructor(e){super(),this.elements=e}}function OV(n,e){const t=VV(e);for(const r of n.elements)t.some(i=>Xr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Eo extends tg{constructor(e){super(),this.elements=e}}function NV(n,e){let t=VV(e);for(const r of n.elements)t=t.filter(i=>!Xr(i,r));return{arrayValue:{values:t}}}class su extends tg{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function FV(n){return ut(n.integerValue||n.doubleValue)}function VV(n){return zl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gee{constructor(e,t){this.version=e,this.transformResults=t}}class Je{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ng(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rg{}function LV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new au(n.key,Je.none()):new ou(n.key,n.data,Je.none());{const t=n.data,r=Xt.empty();let i=new ke(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(n.key,r,new Fn(i.toArray()),Je.none())}}function zee(n,e,t){n instanceof ou?function(i,s,o){const a=i.value.clone(),u=jV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ni?function(i,s,o){if(!ng(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=jV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(BV(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function ed(n,e,t,r){return n instanceof ou?function(s,o,a,u){if(!ng(s.precondition,o))return a;const c=s.value.clone(),l=$V(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ni?function(s,o,a,u){if(!ng(s.precondition,o))return a;const c=$V(s.fieldTransforms,u,o),l=o.data;return l.setAll(BV(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,ng(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function qee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kV(r.transform,i||null);null!=s&&(null===t&&(t=Xt.empty()),t.set(r.field,s))}return t||null}function UV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Qa(r,i,(s,o)=>function Hee(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Io&&i instanceof Io||r instanceof Eo&&i instanceof Eo?Qa(r.elements,i.elements,Xr):r instanceof su&&i instanceof su?Xr(r.Pe,i.Pe):r instanceof iu&&i instanceof iu);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ou extends rg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends rg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jV(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$ee(o,a,t[i]))}return r}function $V(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,jee(s,o,e))}return r}class au extends rg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw extends rg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zee(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ed(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=LV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(t,r)=>UV(t,r))&&Qa(this.baseMutations,e.baseMutations,(t,r)=>UV(t,r))}}class $w{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=Lee;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new $w(e,t,r,i)}}class Hw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kee{constructor(e,t){this.count=e,this.unchangedNames=t}}var Tt,we;function HV(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function GV(n){if(void 0===n)return gt("GRPC error has no .code"),E.UNKNOWN;switch(n){case Tt.OK:return E.OK;case Tt.CANCELLED:return E.CANCELLED;case Tt.UNKNOWN:return E.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return E.INTERNAL;case Tt.UNAVAILABLE:return E.UNAVAILABLE;case Tt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case Tt.NOT_FOUND:return E.NOT_FOUND;case Tt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case Tt.ABORTED:return E.ABORTED;case Tt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case Tt.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(we=Tt||(Tt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";const Qee=new qa([4294967295,4294967295],0);function qV(n){const e=function zV(){return new TextEncoder}().encode(n),t=new HX;return t.update(e),new Uint8Array(t.digest())}function WV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qa([t,r],0),new qa([i,s],0)]}class Gw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new td(`Invalid padding: ${t}`);if(r<0)throw new td(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new td(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new td(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qa.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(qa.fromNumber(r)));return 1===i.compare(Qee)&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=qV(e),[r,i]=WV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Gw(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=qV(e),[r,i]=WV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class td extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nd(q.min(),i,new je(re),Vn(),de())}}class rd{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rd(r,t,de(),de(),de())}}class sg{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class KV{constructor(e,t){this.targetId=e,this.me=t}}class QV{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class YV{constructor(){this.fe=0,this.ge=ZV(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=de(),t=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new rd(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=ZV()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,G(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Yee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vn(),this.qe=JV(),this.Qe=new je(re)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Zp(s))if(0===r){const o=new F(s.path);this.Ue(t,o,qe.newNoDocument(o,q.min()))}else G(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Ri(r).toUint8Array()}catch(u){if(u instanceof nV)return Yn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Gw(o,i,s)}catch(u){return Yn(u instanceof td?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Zp(a.target)){const u=new F(a.target.path);null!==this.ke.get(u)||this.it(o,u)||this.Ue(o,u,qe.newNoDocument(u,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new nd(e,t,this.Qe,this.ke,r);return this.ke=Vn(),this.qe=JV(),this.Qe=new je(re),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new YV,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ke(re),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function JV(){return new je(F.comparator)}function ZV(){return new je(F.comparator)}const Jee={asc:"ASCENDING",desc:"DESCENDING"},Zee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xee={and:"AND",or:"OR"};class ete{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function zw(n,e){return n.useProto3Json||jl(e)?e:{value:e}}function uu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tte(n,e){return uu(n,e.toTimestamp())}function mt(n){return G(!!n),q.fromTimestamp(function(t){const r=xi(t);return new rt(r.seconds,r.nanos)}(n))}function qw(n,e){return Ww(n,e).canonicalString()}function Ww(n,e){const t=(i=n,new ve(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function eL(n){const e=ve.fromString(n);return G(lL(e)),e}function id(n,e){return qw(n.databaseId,e.path)}function ti(n,e){const t=eL(e);if(t.get(1)!==n.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(rL(t))}function tL(n,e){return qw(n.databaseId,e)}function Kw(n){return new ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rL(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iL(n,e,t){return{name:id(n,e),fields:t.value.mapValue.fields}}function oL(n,e){return{documents:[tL(n,e.path)]}}function Yw(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tL(n,i);const s=function(c){if(0!==c.length)return cL(Re.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Es((h=l).field),direction:ote(h.dir)};var h})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=zw(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function aL(n){let e=function nL(n){const e=eL(n);return 4===e.length?ve.emptyPath():rL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(d){const h=uL(d);return h instanceof Re&&Ow(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new Wl(cu((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,jl(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new Is((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Is(d.values||[],!d.before)}(t.endAt)),function EV(n,e,t,r,i,s,o,a){return new ki(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function uL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cu(t.unaryFilter.field);return Ie.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(t.unaryFilter.field);return Ie.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(t.unaryFilter.field);return Ie.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(t.unaryFilter.field);return Ie.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?Ie.create(cu((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Re.create(t.compositeFilter.filters.map(r=>uL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(t.compositeFilter.op))}(n):$();var t}function ote(n){return Jee[n]}function ate(n){return Zee[n]}function ute(n){return Xee[n]}function Es(n){return{fieldPath:n.canonicalString()}}function cu(n){return Ye.fromServerFormat(n.fieldPath)}function cL(n){return n instanceof Ie?function(t){if("=="===t.op){if(sV(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NAN"}};if(iV(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(sV(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NOT_NAN"}};if(iV(t.value))return{unaryFilter:{field:Es(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Es(t.field),op:ate(t.op),value:t.value}}}(n):n instanceof Re?function(t){const r=t.getFilters().map(i=>cL(i));return 1===r.length?r[0]:{compositeFilter:{op:ute(t.op),filters:r}}}(n):$()}function cte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fi{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dL{constructor(e){this.ut=e}}function Jw(n){const e=aL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eg(e,e.limit,"L"):e}class To{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(ut(e.integerValue));else if("doubleValue"in e){const r=ut(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),$l(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(t,20),"string"==typeof r&&(r=xi(r)),t.dt(`${r.seconds||""}`),t.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ri(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?oV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):$()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),F.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}To.St=new To;class _te{constructor(){this.on=new rb}addToCollectionParentIndex(e,t){return this.on.add(t),I.resolve()}getCollectionParents(e,t){return I.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return I.resolve()}deleteFieldIndex(e,t){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,t){return I.resolve()}getDocumentsMatchingTarget(e,t){return I.resolve(null)}getIndexType(e,t){return I.resolve(0)}getFieldIndexes(e,t){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,t){return I.resolve(Jn.min())}getMinOffsetFromCollectionGroup(e,t){return I.resolve(Jn.min())}updateCollectionGroup(e,t,r){return I.resolve()}updateIndexEntries(e,t){return I.resolve()}}class rb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ke(ve.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(ve.comparator)).toArray()}}new Uint8Array(0);class pn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(41943040,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);class Ao{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ao(0)}static Nn(){return new Ao(-1)}}class Dte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&ed(r.mutation,i,Fn.empty(),rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){const i=ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Jl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Vn();const o=Zl(),a=Zl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ni)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),ed(l.mutation,c,l.mutation.getFieldMask(),rt.now())):o.set(c.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new Dte(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Zl();let i=new je((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Fn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=MV();l.forEach(h=>{if(!s.has(h)){const f=LV(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return F.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Vw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):I.resolve(ei());let a=-1,u=s;return o.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,de())).next(l=>({batchId:a,changes:SV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=Jl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Jl();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,u=>{const c=(d=t,h=u.child(s),new ki(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,qe.newInvalidDocument(l)))});let a=Jl();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&ed(l.mutation,c,Fn.empty(),rt.now()),Yl(t,c)&&(a=a.insert(u,c))}),a})}}class Ate{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return I.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:mt(i.createTime)}),I.resolve();var i}getNamedQuery(e,t){return I.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Jw(i.bundledQuery),readTime:mt(i.readTime)}),I.resolve();var i}}class Ste{constructor(){this.overlays=new je(F.comparator),this.lr=new Map}getOverlay(e,t){return I.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ei();return I.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),I.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),I.resolve()}getOverlaysForCollection(e,t,r){const i=ei(),s=t.length+1,o=new F(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new je((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=ei(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=ei(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hw(t,r));let s=this.lr.get(t);void 0===s&&(s=de(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class ib{constructor(){this.hr=new ke(zt.Pr),this.Ir=new ke(zt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new zt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new F(new ve([])),r=new zt(t,e),i=new zt(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new F(new ve([])),r=new zt(t,e),i=new zt(t,e+1);let s=de();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new zt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return F.comparator(e.key,t.key)||re(e.gr,t.gr)}static Tr(e,t){return re(e.gr,t.gr)||F.comparator(e.key,t.key)}}class Mte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ke(zt.Pr)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new jw(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,t){return I.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),i=new zt(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ke(re);return t.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),I.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new zt(new F(s),0);let a=new ke(re);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},o),I.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return I.forEach(t.mutations,i=>{const s=new zt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new zt(t,0),i=this.yr.firstAfterOrEqual(r);return I.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pte{constructor(e){this.Cr=e,this.docs=new je(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return I.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(t))}getEntries(e,t){let r=Vn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qe.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vn();const o=t.path,a=new F(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Aw($F(l),r)<=0||(i.has(l.key)||Yl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$()}vr(e,t){return I.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xte(this)}getSize(e){return I.resolve(this.size)}}class xte extends class wte{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?I.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),I.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Rte{constructor(e){this.persistence=e,this.Fr=new Oi(t=>vo(t),Kl),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new ib,this.targetCount=0,this.Nr=Ao.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),I.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,I.resolve()}updateTargetData(e,t){return this.kn(t),I.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return I.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),I.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),I.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return I.resolve(r)}containsKey(e,t){return I.resolve(this.Or.containsKey(t))}}class sb{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Zn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rte(this),this.indexManager=new _te,this.remoteDocumentCache=new Pte(r=>this.referenceDelegate.Qr(r)),this.serializer=new dL(t),this.Kr=new Ate(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ste,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new Mte(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new kte(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return I.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class kte extends class eee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.Gr=new ib,this.zr=null}static jr(e){return new fg(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),I.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),I.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,r=>{const i=F.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return I.or([()=>I.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class cb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=de(),i=de();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cb(e,t.fromCache,r,i)}}class Nte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function yK(){return!function pK(){var n;const e=null===(n=Qf())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function GF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Nt())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Nte;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Ka()<=_e.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",ru(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(Ka()<=_e.DEBUG&&S("QueryEngine","Query:",ru(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ka()<=_e.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",ru(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(t))):I.resolve())}zi(e,t){if(CV(t))return I.resolve(null);let r=Sn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=eg(t,null,"F"),r=Sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,o,u.readTime)?this.zi(e,eg(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return CV(t)||i.isEqual(q.min())?I.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?I.resolve(null):(Ka()<=_e.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ru(t)),this.Xi(e,o,t,function jF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new rt(t+1,0):new rt(t,r));return new Jn(i,F.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new ke(DV(e));return t.forEach((i,s)=>{Yl(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Ka()<=_e.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",ru(t)),this.Gi.getDocumentsMatchingQuery(e,t,Jn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Fte{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new je(re),this.ns=new Oi(s=>vo(s),Kl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function $L(n,e){return lb.apply(this,arguments)}function lb(){return lb=_(function*(n,e){const t=O(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=de();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),lb.apply(this,arguments)}function Vte(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);G(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function HL(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Lte(n,e){const t=O(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,f))});let u=Vn(),c=de();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function GL(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(q.min())){const l=t.qr.getLastRemoteSnapshotVersion(s).next(d=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.ts=i,s))}function Ute(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pu(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function gu(n,e,t){return db.apply(this,arguments)}function db(){return db=_(function*(n,e,t){const r=O(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!gs(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),db.apply(this,arguments)}function mg(n,e,t){const r=O(n);let i=q.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=O(u),h=d.ns.get(l);return void 0!==h?I.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,o,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:de())).next(a=>(function WL(n,e,t){let r=n.rs.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function TV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class mb{constructor(){this.activeTargetIds=function Uw(){return Bee}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YL{constructor(){this.eo=new mb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new mb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $te{ro(e){}shutdown(){}}class JL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vg=null;function yb(){return null===vg?vg=268435456+Math.round(2147483648*Math.random()):vg++,"0x"+vg.toString(16)}const Hte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gte{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const gn="WebChannelConnection";class zte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+t.host,this.wo=`projects/${i}/databases/${s}`,this.So="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(t,r,i,s,o){const a=yb(),u=this.Co(t,r.toUriEncodedString());S("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,o),this.Fo(t,u,c,i).then(l=>(S("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Yn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Mo(t,r,i,s,o,a){return this.Do(t,r,i,s,o)}vo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Co(t,r){return`${this.yo}/v1/${r}:${Hte[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,r,i){const s=yb();return new Promise((o,a)=>{const u=new $X;u.setWithCredentials(!0),u.listenOnce(UX.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case bw.NO_ERROR:const l=u.getResponseJson();S(gn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case bw.TIMEOUT:S(gn,`RPC '${e}' ${s} timed out`),a(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case bw.HTTP_ERROR:const d=u.getStatus();if(S(gn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(v)>=0?v:E.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new M(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{S(gn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(gn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}xo(e,t,r){const i=yb(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VX(),a=LX(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new jX({})),this.vo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(gn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new Gte({co:m=>{f?S(gn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(gn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(gn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,v,C)=>{m.listen(v,y=>{try{C(y)}catch(P){setTimeout(()=>{throw P},0)}})};return g(d,Hp.EventType.OPEN,()=>{f||(S(gn,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),g(d,Hp.EventType.CLOSE,()=>{f||(f=!0,S(gn,`RPC '${e}' stream ${i} transport closed`),p.fo())}),g(d,Hp.EventType.ERROR,m=>{f||(f=!0,Yn(gn,`RPC '${e}' stream ${i} transport errored:`,m),p.fo(new M(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Hp.EventType.MESSAGE,m=>{var v;if(!f){const C=m.data[0];G(!!C);const y=C,P=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(P){S(gn,`RPC '${e}' stream ${i} received error:`,P);const H=P.status;let K=function(Ui){const Ms=Tt[Ui];if(void 0!==Ms)return GV(Ms)}(H),Se=P.message;void 0===K&&(K=E.INTERNAL,Se="Unknown error status: "+H+" with message "+P.message),f=!0,p.fo(new M(K,Se)),d.close()}else S(gn,`RPC '${e}' stream ${i} received:`,C),p.po(C)}}),g(a,BX.STAT_EVENT,m=>{m.stat===NF.PROXY?S(gn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===NF.NOPROXY&&S(gn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function Ig(){return typeof document<"u"?document:null}function fd(n){return new ete(n,!0)}class vb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class XL{constructor(e,t,r,i,s,o,a,u){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new vb(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return _(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return _(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var r=this;return _(function*(){r.i_(),r.s_(),r.Jo.cancel(),r.zo++,4!==e?r.Jo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(gt(t.toString()),gt("Using maximum backoff delay to prevent overloading the backend."),r.Jo.Qo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.o_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===t&&this.a_(r,i)},r=>{e(()=>{const i=new M(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,t){const r=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){var e=this;this.state=5,this.Jo.Ko(_(function*(){e.state=0,e.start()}))}u_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qte extends XL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function rte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(G(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(G(void 0===l||l instanceof Buffer||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?E.UNKNOWN:GV(c.code);return new M(l,c.message||"")}(o);t=new QV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ti(n,r.document.name),s=mt(r.document.updateTime),o=r.document.createTime?mt(r.document.createTime):q.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=qe.newFoundDocument(i,s,o,a);t=new sg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=ti(n,r.document),s=r.readTime?mt(r.readTime):q.min(),o=qe.newNoDocument(i,s);t=new sg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ti(n,r.document);t=new sg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Kee(i,s);t=new KV(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?mt(o.readTime):q.min()}(e);return this.listener.l_(t,r)}h_(e){const t={};t.database=Kw(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=Zp(u)?{documents:oL(s,u)}:{query:Yw(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XV(s,o.resumeToken);const c=zw(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=uu(s,o.snapshotVersion.toTimestamp());const c=zw(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function ste(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.r_(t)}P_(e){const t={};t.database=Kw(this.serializer),t.removeTarget=e,this.r_(t)}}class Wte extends XL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function ite(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(i,s){let o=mt(i.updateTime?i.updateTime:s);return o.isEqual(q.min())&&(o=mt(s)),new Gee(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mt(e.commitTime);return this.listener.d_(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Kw(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function sd(n,e){let t;if(e instanceof ou)t={update:iL(n,e.key,e.value)};else if(e instanceof au)t={delete:id(n,e.key)};else if(e instanceof Ni)t={update:iL(n,e.key,e.data),updateMask:cte(e.fieldMask)};else{if(!(e instanceof Bw))return $();t={verify:id(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof iu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Io)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof su)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:tte(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:$()),t;var s}(this.serializer,r))};this.r_(t)}}class Kte extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,Ww(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(E.UNKNOWN,s.toString())})}Mo(e,t,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Ww(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(E.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Yte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(gt(t),this.y_=!1):S("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Jte{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(a=>{r.enqueueAndForget(_(function*(){var u;Ts(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(l){const d=O(l);d.M_.add(4),yield mu(d),d.N_.set("Unknown"),d.M_.delete(4),yield pd(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.N_=new Yte(r,i)}}function pd(n){return Eb.apply(this,arguments)}function Eb(){return Eb=_(function*(n){if(Ts(n))for(const e of n.x_)yield e(!0)}),Eb.apply(this,arguments)}function mu(n){return Cb.apply(this,arguments)}function Cb(){return Cb=_(function*(n){for(const e of n.x_)yield e(!1)}),Cb.apply(this,arguments)}function Eg(n,e){const t=O(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Tb(t)?bb(t):vu(t).Zo()&&wb(t,e))}function _u(n,e){const t=O(n),r=vu(t);t.F_.delete(e),r.Zo()&&e2(t,e),0===t.F_.size&&(r.Zo()?r.t_():Ts(t)&&t.N_.set("Unknown"))}function wb(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vu(n).h_(e)}function e2(n,e){n.L_.xe(e),vu(n).P_(e)}function bb(n){n.L_=new Yee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),vu(n).start(),n.N_.w_()}function Tb(n){return Ts(n)&&!vu(n).Yo()&&n.F_.size>0}function Ts(n){return 0===O(n).M_.size}function t2(n){n.L_=void 0}function Zte(n){return Db.apply(this,arguments)}function Db(){return Db=_(function*(n){n.N_.set("Online")}),Db.apply(this,arguments)}function Xte(n){return Ab.apply(this,arguments)}function Ab(){return Ab=_(function*(n){n.F_.forEach((e,t)=>{wb(n,e)})}),Ab.apply(this,arguments)}function ene(n,e){return Sb.apply(this,arguments)}function Sb(){return Sb=_(function*(n,e){t2(n),Tb(n)?(n.N_.D_(e),bb(n)):n.N_.set("Unknown")}),Sb.apply(this,arguments)}function tne(n,e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=_(function*(n,e,t){if(n.N_.set("Online"),e instanceof QV&&2===e.state&&e.cause)try{yield(r=_(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.F_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.F_.delete(u),s.L_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cg(n,r)}else if(e instanceof sg?n.L_.Ke(e):e instanceof KV?n.L_.He(e):n.L_.We(e),!t.isEqual(q.min()))try{const r=yield HL(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.F_.get(c);l&&s.F_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.F_.get(u);if(!l)return;s.F_.set(u,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),e2(s,u);const d=new Fi(l.target,u,c,l.sequenceNumber);wb(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Cg(n,r)}var r}),Mb.apply(this,arguments)}function Cg(n,e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=_(function*(n,e,t){if(!gs(e))throw e;n.M_.add(1),yield mu(n),n.N_.set("Offline"),t||(t=()=>HL(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield pd(n)}))}),Pb.apply(this,arguments)}function n2(n,e){return e().catch(t=>Cg(n,t,e))}function yu(n){return xb.apply(this,arguments)}function xb(){return xb=_(function*(n){const e=O(n),t=Ds(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;nne(e);)try{const i=yield Ute(e.localStore,r);if(null===i){0===e.v_.length&&t.t_();break}r=i.batchId,rne(e,i)}catch(i){yield Cg(e,i)}r2(e)&&i2(e)}),xb.apply(this,arguments)}function nne(n){return Ts(n)&&n.v_.length<10}function rne(n,e){n.v_.push(e);const t=Ds(n);t.Zo()&&t.T_&&t.E_(e.mutations)}function r2(n){return Ts(n)&&!Ds(n).Yo()&&n.v_.length>0}function i2(n){Ds(n).start()}function ine(n){return Rb.apply(this,arguments)}function Rb(){return Rb=_(function*(n){Ds(n).R_()}),Rb.apply(this,arguments)}function sne(n){return kb.apply(this,arguments)}function kb(){return kb=_(function*(n){const e=Ds(n);for(const t of n.v_)e.E_(t.mutations)}),kb.apply(this,arguments)}function one(n,e,t){return Ob.apply(this,arguments)}function Ob(){return Ob=_(function*(n,e,t){const r=n.v_.shift(),i=$w.from(r,e,t);yield n2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yu(n)}),Ob.apply(this,arguments)}function ane(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=_(function*(n,e){var t;e&&Ds(n).T_&&(yield(t=_(function*(i,s){if(HV(a=s.code)&&a!==E.ABORTED){const o=i.v_.shift();Ds(i).e_(),yield n2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield yu(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),r2(n)&&i2(n)}),Nb.apply(this,arguments)}function s2(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=_(function*(n,e){const t=O(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ts(t);t.M_.add(3),yield mu(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield pd(t)}),Fb.apply(this,arguments)}function Lb(){return Lb=_(function*(n,e){const t=O(n);e?(t.M_.delete(2),yield pd(t)):e||(t.M_.add(2),yield mu(t),t.N_.set("Unknown"))}),Lb.apply(this,arguments)}function vu(n){return n.B_||(n.B_=function(t,r,i){const s=O(t);return s.m_(),new qte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Zte.bind(null,n),Io:Xte.bind(null,n),Eo:ene.bind(null,n),l_:tne.bind(null,n)}),n.x_.push(function(){var e=_(function*(t){t?(n.B_.e_(),Tb(n)?bb(n):n.N_.set("Unknown")):(yield n.B_.stop(),t2(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Ds(n){return n.k_||(n.k_=function(t,r,i){const s=O(t);return s.m_(),new Wte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:()=>Promise.resolve(),Io:ine.bind(null,n),Eo:ane.bind(null,n),A_:sne.bind(null,n),d_:one.bind(null,n)}),n.x_.push(function(){var e=_(function*(t){t?(n.k_.e_(),yield yu(n)):(yield n.k_.stop(),n.v_.length>0&&(S("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class Ub{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Ub(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(n,e){if(gt("AsyncQueue",`${e}: ${n}`),gs(n))return new M(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Eu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=Jl(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class o2{constructor(){this.q_=new je(F.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):$():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cu{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Cu(e,t,Eu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ql(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class une{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class cne{constructor(){this.queries=new Oi(e=>bV(e),Ql),this.onlineState="Unknown",this.z_=new Set}}function jb(){return jb=_(function*(n,e){const t=O(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new une,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=Iu(o,`Initialization of query '${ru(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&Gb(t)}),jb.apply(this,arguments)}function Hb(){return Hb=_(function*(n,e){const t=O(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),Hb.apply(this,arguments)}function lne(n,e){const t=O(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Gb(t)}function dne(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(t);r.queries.delete(e)}function Gb(n){n.z_.forEach(e=>{e.next()})}var zb,a2;(a2=zb||(zb={})).J_="default",a2.Cache="cache";class qb{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==zb.Cache}}class l2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class h2{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=de(),this.mutatedKeys=de(),this.Ia=DV(e),this.Ta=new Eu(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new o2,i=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Yl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.Ia(f,u)>0||c&&this.Ia(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(p)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],u=0===this.Pa.size&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,0!==o.length||c?{snapshot:new Cu(this.query,e.Ta,s,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new o2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=de(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new d2(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new l2(r))}),t}pa(e){this.la=e.ls,this.Pa=de();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Cu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class pne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gne{constructor(e){this.key=e,this.wa=!1}}class mne{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Oi(a=>bV(a),Ql),this.Da=new Map,this.Ca=new Set,this.va=new je(F.comparator),this.Fa=new Map,this.Ma=new ib,this.xa={},this.Oa=new Map,this.Na=Ao.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function _ne(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=_(function*(n,e,t=!0){const r=wg(n);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield f2(r,e,t,!0),i}),Wb.apply(this,arguments)}function yne(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=_(function*(n,e){const t=wg(n);yield f2(t,e,!0,!1)}),Kb.apply(this,arguments)}function f2(n,e,t,r){return Qb.apply(this,arguments)}function Qb(){return Qb=_(function*(n,e,t,r){const i=yield pu(n.localStore,Sn(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield Yb(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&Eg(n.remoteStore,i),a}),Qb.apply(this,arguments)}function Yb(n,e,t,r,i){return Jb.apply(this,arguments)}function Jb(){return Jb=_(function*(n,e,t,r,i){n.Ba=(d,h,f)=>{return(p=_(function*(m,v,C,y){let P=v.view.da(C);P.Zi&&(P=yield mg(m.localStore,v.query,!1).then(({documents:qt})=>v.view.da(qt,P)));const H=y&&y.targetChanges.get(v.targetId),K=y&&null!=y.targetMismatches.get(v.targetId),Se=v.view.applyChanges(P,m.isPrimaryClient,H,K);return uT(m,v.targetId,Se.fa),Se.snapshot}),function g(m,v,C,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield mg(n.localStore,e,!0),o=new h2(e,s.ls),a=o.da(s.documents),u=rd.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);uT(n,t,c.fa);const l=new pne(e,t,o);return n.ba.set(e,l),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot}),Jb.apply(this,arguments)}function vne(n,e,t){return Zb.apply(this,arguments)}function Zb(){return Zb=_(function*(n,e,t){const r=O(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Ql(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_u(r.remoteStore,i.targetId),wu(r,i.targetId)}).catch(ps))):(wu(r,i.targetId),yield gu(r.localStore,i.targetId,!0))}),Zb.apply(this,arguments)}function Ine(n,e){return Xb.apply(this,arguments)}function Xb(){return Xb=_(function*(n,e){const t=O(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_u(t.remoteStore,r.targetId))}),Xb.apply(this,arguments)}function eT(){return eT=_(function*(n,e,t){const r=vT(n);try{const i=yield function(o,a){const u=O(o),c=rt.now(),l=a.reduce((f,p)=>f.add(p.key),de());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Vn(),g=de();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((v,C)=>{C.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const C of a){const y=qee(C,d.get(C.key).overlayedDocument);null!=y&&v.push(new Ni(C.key,y,cV(y.value.mapValue),Je.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:SV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new je(re)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Vi(r,i.changes),yield yu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");t.reject(s)}}),eT.apply(this,arguments)}function p2(n,e){return tT.apply(this,arguments)}function tT(){return tT=_(function*(n,e){const t=O(n);try{const r=yield Lte(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Fa.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?G(o.wa):i.removedDocuments.size>0&&(G(o.wa),o.wa=!1))}),yield Vi(t,r,e)}catch(r){yield ps(r)}}),tT.apply(this,arguments)}function g2(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=O(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&Gb(u)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cne(n,e,t){return nT.apply(this,arguments)}function nT(){return nT=_(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new je(F.comparator);o=o.insert(s,qe.newNoDocument(s,q.min()));const a=de().add(s),u=new nd(q.min(),new Map,new je(re),o,a);yield p2(r,u),r.va=r.va.remove(s),r.Fa.delete(e),cT(r)}else yield gu(r.localStore,e,!1).then(()=>wu(r,e,t)).catch(ps)}),nT.apply(this,arguments)}function wne(n,e){return rT.apply(this,arguments)}function rT(){return rT=_(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield Vte(t.localStore,e);aT(t,r,null),oT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vi(t,i)}catch(i){yield ps(i)}}),rT.apply(this,arguments)}function bne(n,e,t){return iT.apply(this,arguments)}function iT(){return iT=_(function*(n,e,t){const r=O(n);try{const i=yield function(o,a){const u=O(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(G(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);aT(r,e,t),oT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vi(r,i)}catch(i){yield ps(i)}}),iT.apply(this,arguments)}function oT(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function aT(n,e,t){const r=O(n);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Rr(e).forEach(r=>{n.Ma.containsKey(r)||m2(n,r)})}function m2(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(_u(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),cT(n))}function uT(n,e,t){for(const r of t)r instanceof l2?(n.Ma.addReference(r.key,e),Dne(n,r)):r instanceof d2?(S("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||m2(n,r.key)):$()}function Dne(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(S("SyncEngine","New document in limbo: "+t),n.Ca.add(r),cT(n))}function cT(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new F(ve.fromString(e)),r=n.Na.next();n.Fa.set(r,new gne(t)),n.va=n.va.insert(t,r),Eg(n.remoteStore,new Fi(Sn(tu(t.path)),r,"TargetPurposeLimboResolution",Zn.oe))}}function Vi(n,e,t){return lT.apply(this,arguments)}function lT(){return lT=_(function*(n,e,t){const r=O(n),i=[],s=[],o=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=cb.Qi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield(a=_(function*(c,l){const d=O(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(l,f=>I.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!gs(h))throw h;S("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),lT.apply(this,arguments)}function Ane(n,e){return dT.apply(this,arguments)}function dT(){return dT=_(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield $L(t.localStore,e);t.currentUser=e,(s=t).Oa.forEach(a=>{a.forEach(u=>{u.reject(new M(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vi(t,r._s)}var s}),dT.apply(this,arguments)}function Sne(n,e){const t=O(n),r=t.Fa.get(e);if(r&&r.wa)return de().add(r.key);{let i=de();const s=t.Da.get(e);if(!s)return i;for(const o of s){const a=t.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function wg(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cne.bind(null,e),e.Sa.l_=lne.bind(null,e.eventManager),e.Sa.ka=dne.bind(null,e.eventManager),e}function vT(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bne.bind(null,e),e}class bg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=fd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function jL(n,e,t,r){return new Fte(n,e,t,r)}(this.persistence,new BL,e.initialUser,this.serializer)}createPersistence(e){return new sb(fg.jr,this.serializer)}createSharedClientState(e){return new YL}terminate(){var e=this;return _(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bu{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>g2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ane.bind(null,r.syncEngine),yield function Vb(n,e){return Lb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cne}createDatastore(e){const t=fd(e.databaseInfo.databaseId),r=new zte(e.databaseInfo);return new Kte(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>g2(this.syncEngine,t,0),a=JL.D()?new JL:new $te,new Jte(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,c,l){const d=new mne(i,s,o,a,u,c);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return _(function*(){var t,r;yield(r=_(function*(s){const o=O(s);S("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield mu(o),o.O_.shutdown(),o.N_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class Tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):gt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jne{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=UF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Iu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Dg(n,e){return IT.apply(this,arguments)}function IT(){return IT=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield $L(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),IT.apply(this,arguments)}function ET(n,e){return CT.apply(this,arguments)}function CT(){return CT=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield wT(n);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>s2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>s2(e.remoteStore,i)),n._onlineComponents=e}),CT.apply(this,arguments)}function C2(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function wT(n){return bT.apply(this,arguments)}function bT(){return bT=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Dg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!C2(t))throw t;Yn("Error using user provided cache. Falling back to memory cache: "+t),yield Dg(n,new bg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Dg(n,new bg);return n._offlineComponents}),bT.apply(this,arguments)}function Ag(n){return TT.apply(this,arguments)}function TT(){return TT=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield ET(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield ET(n,new bu))),n._onlineComponents}),TT.apply(this,arguments)}function AT(){return AT=_(function*(n){const e=yield Ag(n),t=e.eventManager;return t.onListen=_ne.bind(null,e.syncEngine),t.onUnlisten=vne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ine.bind(null,e.syncEngine),t}),AT.apply(this,arguments)}function A2(n,e,t={}){const r=new Ft;return n.asyncQueue.enqueueAndForget(_(function*(){return function(s,o,a,u,c){const l=new Tg({next:h=>{o.enqueueAndForget(()=>function $b(n,e){return Hb.apply(this,arguments)}(s,d)),h.fromCache&&"server"===u.source?c.reject(new M(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new qb(a,l,{includeMetadataChanges:!0,ra:!0});return function Bb(n,e){return jb.apply(this,arguments)}(s,d)}(yield function Du(n){return AT.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function S2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const M2=new Map;function ST(n,e,t){if(!t)throw new M(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P2(n){if(!F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function x2(n){if(F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Sg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":$()}function Ee(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sg(n);throw new M(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class k2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zne(n,e,t,r){if(!0===e&&!0===r)throw new M(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new GX;switch(r.type){case"firstParty":return new KX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=M2.get(t);r&&(S("ComponentProvider","Removing Datastore"),M2.delete(t),r.terminate())}(this),Promise.resolve()}}class en{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new en(this.firestore,e,this._query)}}class _t{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}}class ni extends en{constructor(e,t,r){super(e,t,tu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new F(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function O2(n,e,...t){if(n=Tn(n),ST("collection","path",e),n instanceof gd){const r=ve.fromString(e,...t);return x2(r),new ni(n,null,r)}{if(!(n instanceof _t||n instanceof ni))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return x2(r),new ni(n.firestore,null,r)}}function md(n,e,...t){if(n=Tn(n),1===arguments.length&&(e=UF.newId()),ST("doc","path",e),n instanceof gd){const r=ve.fromString(e,...t);return P2(r),new _t(n,null,new F(r))}{if(!(n instanceof _t||n instanceof ni))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ve.fromString(e,...t));return P2(r),new _t(n.firestore,n instanceof ni?n.converter:null,new F(r))}}class ere{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new vb(this,"async_queue_retry"),this.hu=()=>{const t=Ig();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=Ig();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Ig();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new Ft;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return _(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!gs(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,gt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=Ub.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&$()}verifyOperationInProgress(){}du(){var e=this;return _(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class $e extends gd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ere,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||F2(this),this._firestoreClient.terminate()}}function nre(n,e){const r="string"==typeof n?n:e||"(default)",i=tp("object"==typeof n?n:sO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=z1("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Xne(n,e,t,r={}){var i;const s=(n=Ee(n,gd))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Ht.MOCK_USER;else{a=function hK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wf(JSON.stringify({alg:"none",type:"JWT"})),Wf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ht(c)}n._authCredentials=new zX(new VF(a,u))}}(i,...s)}return i}function yt(n){return n._firestoreClient||F2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function F2(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tee(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,S2(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new jne(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Mo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mo(Vt.fromBase64String(e))}catch(t){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Mo(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class PT{constructor(e){this._methodName=e}}class xT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const ire=/^__.*__$/;class sre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}class U2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function B2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Mg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return xg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(B2(this.fu)&&ire.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ore{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fd(e)}Fu(e,t,r,i=!1){return new Mg({fu:e,methodName:t,vu:r,path:Ye.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(n){const e=n._freezeSettings(),t=fd(n._databaseId);return new ore(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RT(n,e,t,r,i,s={}){const o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);VT("Data must be an object, but it was:",o,r);const a=z2(r,o);let u,c;if(s.merge)u=new Fn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=vd(e,d,t);if(!o.contains(h))throw new M(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);W2(l,h)||l.push(h)}u=new Fn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new sre(new Xt(a),u,c)}class yd extends PT{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}function Po(n,e){if(q2(n=Tn(n)))return VT("Unsupported field value:",e,n),z2(n,e);if(n instanceof PT)return function(r,i){if(!B2(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=Po(a,i.bu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Tn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return RV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=rt.fromDate(r);return{timestampValue:uu(i.serializer,s)}}if(r instanceof rt){const s=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uu(i.serializer,s)}}if(r instanceof xT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mo)return{bytesValue:XV(i.serializer,r._byteString)};if(r instanceof _t){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Sg(r)}`)}(n,e)}function z2(n,e){const t={};return eV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ms(n,(r,i)=>{const s=Po(i,e.pu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function q2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof xT||n instanceof Mo||n instanceof _t||n instanceof PT)}function VT(n,e,t){if(!q2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Sg(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function vd(n,e,t){if((e=Tn(e))instanceof Au)return e._internalPath;if("string"==typeof e)return Pg(n,e);throw xg("Field path arguments must be of type string or ",n,!1,void 0,t)}const are=new RegExp("[~\\*/\\[\\]]");function Pg(n,e,t){if(e.search(are)>=0)throw xg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch{throw xg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new M(E.INVALID_ARGUMENT,a+n+u)}function W2(n,e){return n.some(t=>t.isEqual(e))}class LT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ure(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Rg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ure extends LT{data(){return super.data()}}function Rg(n,e){return"string"==typeof e?Pg(n,e):e instanceof Au?e._internalPath:e._delegate._internalPath}class xo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends LT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Fg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Rg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Fg extends Pu{data(e={}){return super.data(e)}}class xu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Fg(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Fg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new Fg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:hre(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class As extends class lre{convertValue(e,t="none"){switch(ys(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ms(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new xT(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Kp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const t=xi(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ve.fromString(e);G(lL(r));const i=new _o(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(t)||gt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function eU(n){n=Ee(n,en);const e=Ee(n.firestore,$e),t=yt(e),r=new As(e);return function K2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),A2(t,n._query).then(i=>new xu(e,r,n,i))}function tU(n,e,t,...r){n=Ee(n,_t);const i=Ee(n.firestore,$e),s=Su(i);let o;return o="string"==typeof(e=Tn(e))||e instanceof Au?function H2(n,e,t,r,i,s){const o=n.Fu(1,e,t),a=[vd(e,r,t)],u=[i];if(s.length%2!=0)throw new M(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(vd(e,s[h])),u.push(s[h+1]);const c=[],l=Xt.empty();for(let h=a.length-1;h>=0;--h)if(!W2(c,a[h])){const f=a[h];let p=u[h];p=Tn(p);const g=o.Su(f);if(p instanceof yd)c.push(f);else{const m=Po(p,g);null!=m&&(c.push(f),l.set(f,m))}}const d=new Fn(c);return new U2(l,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function $2(n,e,t,r){const i=n.Fu(1,e,t);VT("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();ms(r,(u,c)=>{const l=Pg(e,u,t);c=Tn(c);const d=i.Su(l);if(c instanceof yd)s.push(l);else{const h=Po(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Fn(s);return new U2(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),Ed(i,[o.toMutation(n._key,Je.exists(!0))])}function nU(n){return Ed(Ee(n.firestore,$e),[new au(n._key,Je.none())])}function rU(n,e){const t=Ee(n.firestore,$e),r=md(n),i=function BT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Ed(t,[RT(Su(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Je.exists(!1))]).then(()=>r)}function Ed(n,e){return function(r,i){const s=new Ft;return r.asyncQueue.enqueueAndForget(_(function*(){return function Ene(n,e,t){return eT.apply(this,arguments)}(yield function DT(n){return Ag(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(yt(n),e)}!function(e,t=!0){Wa="10.11.1",Na(new ro("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $e(new qX(r.getProvider("auth-internal")),new QX(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wi(FF,"4.6.1",e),wi(FF,"4.6.1","esm2017")}();class aU{}class uU{}class Li{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Li?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Li;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Li?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Tre{encodeKey(e){return cU(e)}encodeValue(e){return cU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Are=/%(\d[a-f0-9])/gi,Sre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function cU(n){return encodeURIComponent(n).replace(Are,(e,t)=>Sre[t]??e)}function Ug(n){return`${n}`}class Ss{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Ug):[Ug(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ss({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ug(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ug(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Mre{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dU(n){return typeof Blob<"u"&&n instanceof Blob}function hU(n){return typeof FormData<"u"&&n instanceof FormData}class Cd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Pre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Li),this.context||(this.context=new Mre),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ss,this.urlWithParams=t}serializeBody(){return null===this.body?null:lU(this.body)||dU(this.body)||hU(this.body)||function xre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ss?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hU(this.body)?null:dU(this.body)?this.body.type||null:lU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ss?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Cd(t,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var Dt=(()=>((Dt=Dt||{})[Dt.Sent=0]="Sent",Dt[Dt.UploadProgress=1]="UploadProgress",Dt[Dt.ResponseHeader=2]="ResponseHeader",Dt[Dt.DownloadProgress=3]="DownloadProgress",Dt[Dt.Response=4]="Response",Dt[Dt.User=5]="User",Dt))();class HT{constructor(e,t=200,r="OK"){this.headers=e.headers||new Li,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class GT extends HT{constructor(e={}){super(e),this.type=Dt.ResponseHeader}clone(e={}){return new GT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Bg extends HT{constructor(e={}){super(e),this.type=Dt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Bg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fU extends HT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function zT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let wd=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Cd)s=t;else{let u,c;u=i.headers instanceof Li?i.headers:new Li(i.headers),i.params&&(c=i.params instanceof Ss?i.params:new Ss({fromObject:i.params})),s=new Cd(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=W(s).pipe(ts(u=>this.handler.handle(u)));if(t instanceof Cd||"events"===i.observe)return o;const a=o.pipe($r(u=>u instanceof Bg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ue(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ue(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ue(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ue(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ss).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,zT(i,r))}post(t,r,i={}){return this.request("POST",t,zT(i,r))}put(t,r,i={}){return this.request("PUT",t,zT(i,r))}}return n.\u0275fac=function(t){return new(t||n)(N(aU))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class pU{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gU=new B("HTTP_INTERCEPTORS");let Rre=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const kre=/^\)\]\}',?\n/;let mU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ct(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Li(i.getAllResponseHeaders()),g=function Ore(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new GT({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const y=v;v=v.replace(kre,"");try{v=""!==v?JSON.parse(v):null}catch(P){v=y,C&&(C=!1,v={error:P,text:v})}}C?(r.next(new Bg({body:v,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new fU({error:v,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new fU({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:Dt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:Dt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:Dt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(N(Qx))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const qT=new B("XSRF_COOKIE_NAME"),WT=new B("XSRF_HEADER_NAME");class _U{}let Nre=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Lx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(N(et),N(Uh),N(qT))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),KT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(_U),N(WT))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Fre=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(gU,[]);this.chain=r.reduceRight((i,s)=>new pU(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(uU),N(Rn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Vre=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:KT,useClass:Rre}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:qT,useValue:t.cookieName}:[],t.headerName?{provide:WT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({providers:[KT,{provide:gU,useExisting:KT,multi:!0},{provide:_U,useClass:Nre},{provide:qT,useValue:"XSRF-TOKEN"},{provide:WT,useValue:"X-XSRF-TOKEN"}]}),n})(),Lre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({providers:[wd,{provide:aU,useClass:Fre},mU,{provide:uU,useExisting:mU}],imports:[Vre.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),QT=(()=>{class n{constructor(t){this.http=t,this.firebaseConfig={apiKey:Dn_apiKey,authDomain:"kokododoe-s.firebaseapp.com",projectId:"kokododoe-s",storageBucket:"kokododoe-s.appspot.com",messagingSenderId:"1001517841425",appId:Dn_appId,measurementId:"G-X8FCQKJM16"},this.headerInnerData=new Xn,this.LoginSubject=new ot(null),this.login$=this.LoginSubject.asObservable(),this.LoginErrorSubject=new ot(null),this.loginError$=this.LoginErrorSubject.asObservable(),this.afterLoginSubject=new ot(null!=sessionStorage.getItem("UserDataLogin")),this.afterlogin$=this.afterLoginSubject.asObservable(),this.http.get("assets/headerInnerDate.json").subscribe(r=>{this.headerInnerData.next(r)}),this.fbDataBase=iO(this.firebaseConfig),this.DataBaseApp=nre(this.fbDataBase)}setAfterLogin(){this.afterLoginSubject.next(null!=sessionStorage.getItem("UserDataLogin"))}getfbDataBase(){return this.fbDataBase}getDataBaseApp(){return this.DataBaseApp}createAccount(t,r){(function KY(n,e,t){return BE.apply(this,arguments)})(yN(),t,r).then(s=>{}).catch(s=>{})}signIn(t,r){(function QY(n,e,t){return qr(n.app)?Promise.reject(Bt(n)):function bE(n,e){return TE.apply(this,arguments)}(Tn(n),HO.credential(e,t)).catch(function(){var r=_(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&kE(n),i});return function(i){return r.apply(this,arguments)}}())})(yN(),t,r).then(s=>{this.LoginSubject.next(s?.user),this.setAfterLogin()}).catch(s=>{this.LoginErrorSubject.next(s.message)})}}return n.\u0275fac=function(t){return new(t||n)(N(wd))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ure=(()=>{class n{constructor(t,r){this.router=t,this.loginSrv=r,this.loginForm=new to({usenName:new ur("",{updateOn:"change",validators:[zr.required]}),password:new ur("",{updateOn:"change",validators:[zr.required]})}),this.errorMsg=null,this.Sub$=new tn,sessionStorage.getItem("UserDataLogin")&&this.router.navigate(["home"]),this.Sub$.add(this.loginSrv.login$.subscribe(i=>{null!=i&&(sessionStorage.setItem("UserDataLogin",JSON.stringify(i)),this.router.navigate(["/home"]))})),this.Sub$.add(this.loginSrv.loginError$.subscribe(i=>{this.errorMsg=null!=i?"Password or Email are Incorrect":null}))}ngOnInit(){}ngOnDestroy(){this.Sub$.unsubscribe()}onSubmit(){this.loginSrv.signIn(this.loginForm.controls.usenName.value,this.loginForm.controls.password.value)}}return n.\u0275fac=function(t){return new(t||n)(w(nt),w(QT))},n.\u0275cmp=mn({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"home"],[1,"wrap"],[1,"title"],[1,"login",3,"formGroup","ngSubmit"],["id","usenName","type","text","formControlName","usenName","placeholder"," ","autocomplete","current-password",1,"i-name"],["for","usenName",1,"l-name"],["id","password","type","password","formControlName","password","placeholder"," ","autocomplete","current-password",1,"i-pass"],["for","password",1,"l-pass"],["type","submit",3,"disabled"],[1,"coming-soon"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Login"),T()(),b(5,"form",3),ne("ngSubmit",function(){return r.onSubmit()}),Pt(6,"input",4),b(7,"label",5),x(8,"User Name: "),T(),Pt(9,"input",6),b(10,"label",7),x(11,"Password: "),T(),b(12,"button",8),x(13," Enter "),T()(),b(14,"div",9),x(15),T()()()),2&t&&(j(5),Q("formGroup",r.loginForm),j(7),Q("disabled","INVALID"==r.loginForm.status),j(3),kn(" ",r.errorMsg," "))},dependencies:[zf,Ra,Ff,Vf,Oa,Yc],styles:[".home[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;display:flex;justify-content:center;margin-top:8vh}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:relative;width:70%;height:60%;background-color:var(--c-grey);color:var(--c-dark-blue);box-shadow:0 0 1em var(--c-blue);overflow:hidden;border-radius:30px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:36px;font-weight:600;margin:30px auto}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:80%;margin:20px auto}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;font-weight:400;position:absolute;left:15px;transition:.5s all;pointer-events:none}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .l-name[_ngcontent-%COMP%]{top:23px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .l-pass[_ngcontent-%COMP%]{top:102px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin:10px 0 20px;padding:10px 15px;border-radius:30px;color:var(--c-blue);background-color:transparent;border:3px solid var(--c-blue)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-name[_ngcontent-%COMP%]:focus + .l-name[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-name[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-name[_ngcontent-%COMP%]{top:0;padding:5px;background-color:var(--c-grey);font-size:12px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-pass[_ngcontent-%COMP%]:focus + .l-pass[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-pass[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-pass[_ngcontent-%COMP%]{top:77px;padding:5px;background-color:var(--c-grey);font-size:12px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px;padding:20px 0;border-radius:30px;background-color:transparent;border:3px solid var(--c-blue);color:var(--c-blue);animation:3s infinite glowing}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{border:3px solid var(--c-silver);color:var(--c-silver);animation:none}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]{width:90%;font-size:16px;font-weight:500;line-height:normal;margin:10px auto;text-align:center}@keyframes glowing{0%{text-shadow:0em 0 0em var(--c-blue)}to{text-shadow:0em 0 5em var(--c-blue)}}"]}),n})(),Bre=(()=>{class n{constructor(t){this.http=t,this.homeInnerData=new Xn,this.getDataFromJson()}getDataFromJson(){this.http.get("assets/homeInnerDate.json").subscribe(t=>{this.homeInnerData.next(t)})}}return n.\u0275fac=function(t){return new(t||n)(N(wd))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jg=(()=>{class n{constructor(){this.lastClickedOn=new ot(null),this.activeMenu=new ot(null),this.settingsEdit=new ot(!1),this.lastMeasurement=new ot([])}setLastClickedOn(t){this.lastClickedOn.next(t)}getLastClickedOn(){return this.lastClickedOn?.value}setActiveMenu(t){this.activeMenu.next(t)}getActiveMenu(){return this.activeMenu?.value}setSettingsEdit(t){this.settingsEdit.next(t)}getSettingsEdit(){return this.settingsEdit?.value}setLastMeasurement(t){this.lastMeasurement.next(t)}getLastMeasurement(){return this.lastMeasurement?.value}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$g=(()=>{class n{constructor(t,r){this.router=r,this.mergedConfig=Object.assign({trackPageviews:!0},t),this.mergedConfig.trackPageviews&&r.events.pipe($r(i=>i instanceof rs),wt(i=>{this.pageview()})).subscribe()}event(t,r={}){try{gtag("event",t,r),this.debug("event",this.mergedConfig.trackingId,t,r)}catch(i){console.error("Google Analytics event error",i)}}pageview(t){try{const r={page_path:this.router.url,page_title:"Angular App",page_location:window.location.href};t=Object.assign({},r,t),gtag("config",this.mergedConfig.trackingId,t),this.debug("pageview",this.mergedConfig.trackingId,t)}catch(r){console.error("Google Analytics pageview error",r)}}config(t){try{gtag("config",this.mergedConfig.trackingId,{})}catch(r){console.error("Google Analytics config error",r)}}set(t){try{gtag("set",{})}catch(r){console.error("Google Analytics set error",r)}}debug(...t){this.mergedConfig.debug&&console.log("angular-gtag:",...t)}}return n.\u0275fac=function(t){return new(t||n)(N("config"),N(nt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),jre=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[$g,{provide:"config",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({}),n})(),YT=(()=>{class n{constructor(t){this.dataSavingSrv=t}onMouseclick(t){null!=this.dataSavingSrv.getLastClickedOn()||this.dataSavingSrv.setLastClickedOn(t),null!=this.dataSavingSrv.getActiveMenu()||this.dataSavingSrv.setActiveMenu(t.target?.classList[0]),this.clickedOn(t)}clickedOn(t){let r=this.dataSavingSrv.getLastClickedOn(),i=this.dataSavingSrv.getActiveMenu();i==t.target.classList[0]||this.closeMenu(i,r,t),this.closeMenu(i,r,t),this.dataSavingSrv.setActiveMenu(t.target.classList[0])}closeMenu(t,r,i){switch(t){case"translate":case"burger":i.target.closest(".open")&&r?.target.closest(".open")?this.dataSavingSrv.setLastClickedOn(i):(document.querySelectorAll(".open").forEach(s=>{s.classList.remove("open")}),this.dataSavingSrv.setLastClickedOn(null))}}}return n.\u0275fac=function(t){return new(t||n)(w(jg))},n.\u0275dir=X({type:n,selectors:[["","appClickOutside",""]],hostBindings:function(t,r){1&t&&ne("click",function(s){return r.onMouseclick(s)})}}),n})(),$re=(()=>{class n{constructor(t,r){this.gtag=t,this.dataSavingSrv=r,this.tmpValue="",this.maxAmout=1e4,this.lastmeasurement=[]}transform(t,r,i,s,o){if(!(r&&i&&s))return null;switch(this.gtag.event("measureEvent",{app_name:"SmartestAppes",screen_name:"Measurments Page",topic:r,measureFrom:i,measureTo:s,Density:o}),r){case"Kitchen":switch(i){case"quart":switch(s){case"teaspoons":this.tmpValue=(.95*+(t||1)*1e3*.2).toFixed(2);break;case"gallon":this.tmpValue=(.25*+(t||1)).toFixed(2);break;case"pint":this.tmpValue=(2*+(t||1)).toFixed(2);break;case"cup":this.tmpValue=(4*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(.95*+(t||1)*1e3*.06).toFixed(2);break;case"kilogram":this.tmpValue=o?(.95*+(t||1)*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(.95*+(t||1)*+o/1e3).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(.95*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(.95*+(t||1)*+o*2.204).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(.95*+(t||1)*1e3).toFixed(2);break;case"liter":this.tmpValue=(.95*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(8*+(t||1)*2*2*4).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"teaspoons":switch(s){case"quart":this.tmpValue=(+(t||1)/192).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/768).toFixed(2);break;case"pint":this.tmpValue=(+(t||1)/96).toFixed(2);break;case"cup":this.tmpValue=(+(t||1)/48).toFixed(2);break;case"tablespoons":this.tmpValue=(+(t||1)/3).toFixed(2);break;case"kilogram":this.tmpValue=o?(4.92*+(t||1)*+o/1e3).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(4.92*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(4.92*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(.00492*+(t||1)).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(2.204*+(t||1)*.00492).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(+(t||1)/4.92).toFixed(2);break;case"Oz":this.tmpValue=(1.5*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"gallon":switch(s){case"quart":this.tmpValue=(4*+(t||1)).toFixed(2);break;case"teaspoons":this.tmpValue=(768*+(t||1)).toFixed(2);break;case"pint":this.tmpValue=(8*+(t||1)).toFixed(2);break;case"cup":this.tmpValue=(16*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(256*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(3.78541*+(t||1)*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(3.78541*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(3.78541*+(t||1)*+o*1e6).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(3.78541*+(t||1)).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(3.78541*+(t||1)*2.204*+o).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(3785.41*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(128*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"pint":switch(s){case"quart":this.tmpValue=(+(t||1)/2).toFixed(2);break;case"teaspoons":this.tmpValue=(96*+(t||1)).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/8).toFixed(2);break;case"cup":this.tmpValue=(2*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(32*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(473.2*+(t||1)/1e3*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(473.2*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(473.2*+(t||1)*1e3*+o).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(473.2*+(t||1)/1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?"":"Choose Density";break;case"milliliter":this.tmpValue=(473.2*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(16*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"cup":switch(s){case"quart":this.tmpValue=(+(t||1)/4).toFixed(2);break;case"teaspoons":this.tmpValue=(16*+(t||1)*16*3).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/16).toFixed(2);break;case"pint":this.tmpValue=(+(t||1)/2).toFixed(2);break;case"tablespoons":this.tmpValue=(16*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(236.6*+(t||1)/1e3*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(236.6*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(236.6*+(t||1)*1e3*+o).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(236.6*+(t||1)/1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(236.6*+(t||1)/1e3*2.204*+o).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(236.6*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"tablespoons":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"pound":case"milliliter":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"kilogram":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"pound":case"milliliter":default:break;case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"pound":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"milliliter":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"milliliter":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"pound":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}}break;case"length":switch(i){case"c-meters":switch(s){case"meters":this.tmpValue=t?(+t/100).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e5).toFixed(2):1;break;case"inches":this.tmpValue=t?(.3937*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(+t/100*3.2808).toFixed(2):1;break;case"yards":this.tmpValue=t?(+t/100*1.0936).toFixed(2):1}break;case"meters":switch(s){case"c-meters":this.tmpValue=t?(100*+t).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e3*3.2808).toFixed(2):1;break;case"inches":this.tmpValue=t?(39.37*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(3.2808*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(1.0936*+t).toFixed(2):1}break;case"kilometers":switch(s){case"c-meters":this.tmpValue=t?(+t/1e5).toFixed(2):1;break;case"meters":this.tmpValue=t?(+t/1e3).toFixed(2):1;break;case"inches":this.tmpValue=t?(39374*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(.003281*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(.0011*+t).toFixed(2):1}break;case"inches":switch(s){case"c-meters":this.tmpValue=t?(+t/.3937).toFixed(2):1;break;case"meters":this.tmpValue=t?(+t/100/.3937).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e5/.3937).toFixed(2):1;break;case"feet":this.tmpValue=t?(.083334*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(.27778*+t).toFixed(2):1}break;case"feet":switch(s){case"c-meters":this.tmpValue=t?(.305/100*+t).toFixed(2):1;break;case"meters":this.tmpValue=t?(.305*+t).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(305e-8*+t).toFixed(2):1;break;case"inches":case"yards":this.tmpValue=t?(+t/.3937).toFixed(2):1}}}return this.lastmeasurement={value:t,topic:r,measureFrom:i,measureTo:s,Density:o,tmpValue:this.tmpValue>this.maxAmout?"N/A":this.tmpValue},this.dataSavingSrv.setLastMeasurement(this.lastmeasurement),this.tmpValue>this.maxAmout?"N/A":this.tmpValue}}return n.\u0275fac=function(t){return new(t||n)(w($g,16),w(jg,16))},n.\u0275pipe=rn({name:"measurments",type:n,pure:!0}),n})();function Hre(n,e){if(1&n&&(b(0,"option",14),x(1),T()),2&n){const t=e.$implicit;Gs("value",t),j(1),kn(" ",t," ")}}function Gre(n,e){if(1&n&&(b(0,"option",14),x(1),T()),2&n){const t=e.$implicit;Gs("value",t[1]),j(1),kn(" ",t[0]," ")}}function zre(n,e){if(1&n){const t=xt();b(0,"div",15)(1,"select",16),ne("change",function(i){lt(t);const s=ce();return s.onSubmitChage(),dt(s.selectedDensity(i.target))}),ye(2,Gre,2,2,"option",8),T()()}if(2&n){const t=ce();j(2),Q("ngForOf",t.desityData)}}function qre(n,e){if(1&n&&(b(0,"div",17),x(1),T()),2&n){const t=ce();j(1),kn(" density of this matarial is: ",t.textDensity,", please notice that there can be differences beetween calculators you use. ")}}const Wre=function(n,e,t,r,i){return[n,e,t,r,i]};function Kre(n,e){if(1&n&&(b(0,"li",18),x(1),va(2,"uppercase"),b(3,"div"),x(4),va(5,"measurments"),T()()),2&n){const t=e.$implicit,r=ce();j(1),kn(" ",hy(2,2,t),": "),j(3),kn(" ",IP(5,4,pP(10,Wre,r.amountMeasure,r.measureData[0].title,r.optionValueSelected,t,r.textDensity))," ")}}let Qre=(()=>{class n{constructor(){this.measureData=null,this.desityData=null,this.exitFromMeasure=new Xe,this.optionValueSelected="",this.amountMeasure="",this.measurmentsListFiltred=[],this.textDensity="",this.isCompReady=!1,this.measureForm=new to({measureNum:new ur("",zr.required),measurment:new ur("",zr.required),density:new ur("",zr.required)})}ngOnInit(){this.measurmentsListFiltred=this.measureData[0]?.measurements.slice()}ngAfterViewInit(){setTimeout(()=>{this.isCompReady=!0},500)}onClose(){this.measureData=null,this.exitFromMeasure.emit()}selectedDensity(t){this.textDensity=this.measureForm.controls.density.value?this.measureForm.controls.density.value:""}onSubmit(){this.measureForm.get("measurment")?.value&&this.measureForm.get("measureNum")?.value&&(this.measurmentsListFiltred=this.measureData[0]?.measurements.slice(),this.amountMeasure=this.measureForm.get("measureNum")?.value,this.optionValueSelected=this.measureForm.get("measurment")?.value,this.measurmentsListFiltred=this.measurmentsListFiltred.filter(t=>t!==this.measureForm.get("measurment")?.value))}onSubmitChage(){this.onSubmit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mn({type:n,selectors:[["app-measurements"]],inputs:{measureData:"measureData",desityData:"desityData"},outputs:{exitFromMeasure:"exitFromMeasure"},decls:18,vars:9,consts:[["appClickOutside",""],["id","titleAction",1,"titleAction"],[3,"click"],[1,"measureInput",3,"formGroup","ngSubmit"],[1,"amount"],["id","measureNum","pattern","[0-9]","maxlength","5","formControlName","measureNum","placeholder"," ","autocomplete","off",1,"i-number",3,"input"],["for","measureNum",1,"l-number"],["id","measurment","type","select","formControlName","measurment","placeholder"," ",1,"s-measur",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","density",4,"ngIf"],["class","textDensity",4,"ngIf"],[1,"listAction"],[1,"infoList",3,"ngClass"],["class","infoItem",4,"ngFor","ngForOf"],[3,"value"],[1,"density"],["id","density","type","select","formControlName","density","placeholder"," ",1,"s-density",3,"change"],[1,"textDensity"],[1,"infoItem"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1),x(2),va(3,"uppercase"),b(4,"button",2),ne("click",function(){return r.onClose()}),x(5,"Back"),T(),b(6,"form",3),ne("ngSubmit",function(){return r.onSubmit()}),b(7,"div",4)(8,"input",5),ne("input",function(){return r.onSubmitChage()}),T(),b(9,"label",6),x(10,"Amount:"),T(),b(11,"select",7),ne("change",function(){return r.onSubmitChage()}),ye(12,Hre,2,2,"option",8),T()(),ye(13,zre,3,1,"div",9),T()(),ye(14,qre,2,1,"div",10),b(15,"div",11)(16,"ul",12),ye(17,Kre,6,16,"li",13),T()()()),2&t&&(j(2),kn(" ",hy(3,7,r.measureData[0].title)," "),j(4),Q("formGroup",r.measureForm),j(6),Q("ngForOf",r.measureData[0].measurements),j(1),Q("ngIf",r.desityData),j(1),Q("ngIf",r.textDensity),j(2),Q("ngClass",r.isCompReady?"show":"hide"),j(1),Q("ngForOf",r.measurmentsListFiltred))},dependencies:[Ks,Sc,Qs,zf,x1,k1,Ra,qf,Ff,Vf,uI,cI,Oa,Yc,YT,Gx,$re],styles:[".titleAction[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:30px 0;background-color:var(--c-blue);border-bottom-left-radius:30px;border-bottom-right-radius:30px;border-bottom:15px solid var(--c-grey);border-left:15px solid var(--c-grey);border-right:15px solid var(--c-grey);box-shadow:inset 0 0 1em var(--c-dark);font-size:38px;font-weight:600}.titleAction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;text-decoration:none;font-weight:600;right:1em;top:.5em;border:0 transparent;background-color:transparent}@supports (-webkit-touch-callout: none){button[_ngcontent-%COMP%]{text-decoration:none;color:#000}}.measureInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;justify-content:center;align-items:center;gap:20px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{height:30px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]{background-color:transparent;width:10em;height:100%;padding-left:.5em;border:1px solid black;border-right:0;border-top-left-radius:30px;border-bottom-left-radius:30px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .l-number[_ngcontent-%COMP%]{top:1.2rem;left:.6rem;position:absolute;font-size:16px;font-weight:300;transition:.5s all}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]:focus + .l-number[_ngcontent-%COMP%], .measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-number[_ngcontent-%COMP%]{top:.3em;padding:0 2px;background-color:var(--c-blue);font-size:14px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .s-measur[_ngcontent-%COMP%]{background-color:var(--c-grey);border:1px solid black;border-left:0;height:110%;border-top-right-radius:30px;border-bottom-right-radius:30px;box-shadow:inset 0 0 1em var(--c-blue);color:var(--c-blue);transition:.5s all}.density[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.density[_ngcontent-%COMP%]   .s-density[_ngcontent-%COMP%]{background-color:var(--c-grey);border:1px solid black;border-left:0;border-radius:30px;height:30px;box-shadow:inset 0 0 1em var(--c-blue);color:var(--c-blue);transition:.5s all}.listAction[_ngcontent-%COMP%]{position:relative;margin:1em 2em}.listAction[_ngcontent-%COMP%]   .infoList[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.2em;justify-items:flex-start;font-size:1.2em;font-weight:600;color:var(--c-dark-blue)}.listAction[_ngcontent-%COMP%]   .infoList.show[_ngcontent-%COMP%]{transition:.5s opacity;opacity:1}.listAction[_ngcontent-%COMP%]   .infoList.hide[_ngcontent-%COMP%]{transition:.5s opacity;opacity:0}.listAction[_ngcontent-%COMP%]   .infoItem[_ngcontent-%COMP%]{width:7em}.listAction[_ngcontent-%COMP%]   .infoItem[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--c-grey);margin-top:5px}.textDensity[_ngcontent-%COMP%]{margin:1em auto 0;font-size:12px;width:85%;text-align:center}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),Yre=(()=>{class n{transform(t,r,...i){return t.length>r?t[0].toUpperCase()+t.slice(1,r).toLowerCase()+".":t[0].toUpperCase()+t.slice(1,t.length).toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=rn({name:"toDotLimit",type:n,pure:!0}),n})();function Jre(n,e){if(1&n){const t=xt();b(0,"li",8),ne("click",function(i){return lt(t),dt(ce(2).showMeasures(i))}),b(1,"span"),x(2),va(3,"toDotLimit"),T()()}if(2&n){const t=e.$implicit;Kn("id",e.index),j(2),Lr(fy(3,2,t.title,8))}}function Zre(n,e){if(1&n&&(b(0,"div",5)(1,"ul",6),ye(2,Jre,4,5,"li",7),T()()),2&n){const t=ce();j(2),Q("ngForOf",null==t.homeData?null:t.homeData.actions)}}function Xre(n,e){if(1&n&&(b(0,"span"),x(1),T()),2&n){const t=ce(2);j(1),kn("With Density of: ",null==t.lastMeasurement[0]?null:t.lastMeasurement[0].Density,"")}}function eie(n,e){if(1&n){const t=xt();b(0,"span",13),ne("click",function(){return lt(t),dt(ce(2).showLastResults())}),x(1,"click to see results..."),T()}}function tie(n,e){if(1&n&&(b(0,"div",17),x(1),T()),2&n){const t=e.$implicit;j(1),Ah(" ",null==t?null:t.measureTo,": ",null==t?null:t.tmpValue," ")}}function nie(n,e){if(1&n){const t=xt();b(0,"div",14),ye(1,tie,2,2,"div",15),T(),b(2,"div",16),ne("click",function(){return lt(t),dt(ce(2).showLastResults())}),x(3,"Close Result"),T()}if(2&n){const t=ce(2);j(1),Q("ngForOf",t.lastMeasurement)}}function rie(n,e){if(1&n&&(b(0,"div",9)(1,"h2"),x(2,"last measurment:"),T(),x(3),ye(4,Xre,2,1,"span",10),ye(5,eie,2,0,"span",11),ye(6,nie,4,1,"ng-template",null,12,Cc),T()),2&n){const t=hc(7),r=ce();j(3),Ah(" ",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].topic,", Measured from: ",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].measureFrom," "),j(1),Q("ngIf",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].Density),j(1),Q("ngIf",!r.showResults)("ngIfElse",t)}}function iie(n,e){if(1&n){const t=xt();b(0,"li",21),ne("click",function(i){const s=lt(t),o=s.$implicit,a=s.index,u=ce().$implicit;return dt(ce(2).addRemove(i,u.title,o,a))}),b(1,"span"),x(2),T()()}if(2&n){const t=e.$implicit;(function sM(n){Er(zn,Vr,n,!0)})(t),j(2),Lr(t)}}function sie(n,e){if(1&n&&(b(0,"div",24)(1,"div",25)(2,"span"),x(3),T()(),b(4,"div",26),ye(5,iie,3,3,"li",27),T()()),2&n){const t=e.$implicit;j(3),Lr(t.title),j(2),Q("ngForOf",t.measurements)}}function oie(n,e){if(1&n){const t=xt();b(0,"div",18)(1,"div",19)(2,"span"),x(3,"This selection with save automatically on you return to menu"),T()(),b(4,"div",20)(5,"span",21),ne("click",function(){return lt(t),dt(ce().exitToMenu())}),x(6,"< Return to Menu"),T()(),ye(7,sie,6,2,"div",22),b(8,"div",23)(9,"span",21),ne("click",function(){return lt(t),dt(ce().exitToMenu())}),x(10,"Return to Menu"),T()()()}if(2&n){const t=ce();j(7),Q("ngForOf",null==t.homeData?null:t.homeData.actions)}}function aie(n,e){if(1&n){const t=xt();b(0,"app-measurements",28),ne("exitFromMeasure",function(){return lt(t),dt(ce().returnToMenu())}),T()}if(2&n){const t=ce();Q("measureData",t.measureData)("desityData",null==t.selectedDesityList[0]?null:t.selectedDesityList[0].desity)}}let uie=(()=>{class n{constructor(t,r,i,s){this.generalDataSrvice=t,this.dataSavingSrv=r,this.router=i,this.gtag=s,this.menuAfterInitDone=!1,this.menuSettingEdit=!1,this.showResults=!1,this.lastMeasurement=[],this.$Subs=new tn,this.homeData=null,this.measureDataToShow=!1,this.measureData=null,this.actionsList=[],this.allDesityList=[],this.selectedDesityList=[],this.notInList=null}ngOnInit(){this.$Subs.add(this.generalDataSrvice.homeInnerData.subscribe(t=>{this.homeData=t,this.homeData.actions.forEach(r=>{this.actionsList.push(r.title),r.desity&&this.allDesityList.push({title:r.title,desity:[...r.desity]})})})),this.$Subs.add(this.dataSavingSrv.lastMeasurement.subscribe(t=>{t&&(this.lastMeasurement.length>0&&this.lastMeasurement[0].topic?(t.topic==this.lastMeasurement[this.lastMeasurement.length-1].topic&&t.value==this.lastMeasurement[this.lastMeasurement.length-1].value&&t.measureFrom==this.lastMeasurement[this.lastMeasurement.length-1].measureFrom&&t.Density==this.lastMeasurement[this.lastMeasurement.length-1].Density||(this.lastMeasurement=[]),Number(t.tmpValue)&&(this.lastMeasurement.push(t),sessionStorage.setItem("lastMeasure",JSON.stringify(this.lastMeasurement)))):(this.lastMeasurement=[],Number(t.tmpValue)&&(this.lastMeasurement.push(t),sessionStorage.setItem("lastMeasure",JSON.stringify(this.lastMeasurement)))))})),this.$Subs.add(this.dataSavingSrv.settingsEdit.subscribe(t=>{this.measureDataToShow=!1,this.menuAfterInitDone=!0,this.menuSettingEdit=t,this.menuSettingEdit&&this.initDisabledList()})),this.generalDataSrvice.getDataFromJson(),localStorage.getItem("notInList")&&(this.notInList=JSON.parse(localStorage.getItem("notInList"))),sessionStorage.getItem("lastMeasure")&&JSON.parse(sessionStorage.getItem("lastMeasure")).forEach(t=>this.dataSavingSrv.setLastMeasurement(t))}initDisabledList(){setTimeout(()=>{this.notInList?.actions.forEach(t=>{t.measurements.forEach(r=>{document.querySelector(`.measures > .${r}`)?.classList.add("disabled")})})},300)}showLastResults(){this.showResults=!this.showResults}showMeasures(t){this.showResults=!1,this.measureData=JSON.parse(JSON.stringify(this.homeData?.actions.filter(i=>i.title===this.actionsList[t?.target.attributes.id?.value]))),this.selectedDesityList=this.allDesityList.filter(i=>i.title==this.actionsList[t?.target.attributes.id?.value]);let r=this.notInList?.actions.findIndex(i=>i.title==this.actionsList[t?.target.attributes.id?.value]);null!=r&&(this.measureData[0].measurements=this.measureData[0].measurements.filter(i=>!this.notInList?.actions[r||0].measurements.includes(i))),this.menuAfterInitDone=!1,this.measureDataToShow=!0}addRemove(t,r,i,s){this.notInList||(this.notInList=JSON.parse(JSON.stringify(this.homeData)),this.notInList?.actions.map(o=>{o.measurements=[]}),localStorage.setItem("notInList",JSON.stringify(this.notInList))),t.target.classList.contains("disabled")?(t.target.classList.remove("disabled"),this.notInList.actions[this.notInList.actions.findIndex(o=>o.title==r)].measurements=this.notInList.actions[this.notInList.actions.findIndex(o=>o.title==r)].measurements.filter(o=>o!=i)):(t.target.classList.add("disabled"),this.notInList?.actions[this.notInList?.actions.findIndex(o=>o.title==r)].measurements.push(i)),localStorage.setItem("notInList",JSON.stringify(this.notInList))}exitToMenu(){this.dataSavingSrv.setSettingsEdit(!1)}ngAfterViewInit(){setTimeout(()=>{this.returnToMenu()})}returnToMenu(){this.menuAfterInitDone=!0,this.measureDataToShow=!1}ngOnDestroy(){this.$Subs.unsubscribe(),this.dataSavingSrv.setLastMeasurement([])}}return n.\u0275fac=function(t){return new(t||n)(w(Bre),w(jg),w(nt),w($g))},n.\u0275cmp=mn({type:n,selectors:[["app-home"]],decls:6,vars:5,consts:[["appClickOutside","",1,"main-menu",3,"ngClass"],["class","wrap-list",4,"ngIf","ngIfElse"],["class","last-measurement-result",4,"ngIf"],["settings",""],[3,"measureData","desityData","exitFromMeasure",4,"ngIf"],[1,"wrap-list"],[1,"list"],["class","action",3,"click",4,"ngFor","ngForOf"],[1,"action",3,"click"],[1,"last-measurement-result"],[4,"ngIf"],["class","moreInfo",3,"click",4,"ngIf","ngIfElse"],["results",""],[1,"moreInfo",3,"click"],[1,"last-results"],["class","result",4,"ngFor","ngForOf"],[1,"close","moreInfo",3,"click"],[1,"result"],[1,"settings"],[1,"msg-line"],[1,"exit-sign"],[3,"click"],["class","action",4,"ngFor","ngForOf"],[1,"exit"],[1,"action"],[1,"span-text"],[1,"measures"],[3,"class","click",4,"ngFor","ngForOf"],[3,"measureData","desityData","exitFromMeasure"]],template:function(t,r){if(1&t&&(b(0,"div",0),ye(1,Zre,3,1,"div",1),T(),ye(2,rie,8,5,"div",2),ye(3,oie,11,1,"ng-template",null,3,Cc),ye(5,aie,1,2,"app-measurements",4)),2&t){const i=hc(4);Q("ngClass",r.menuAfterInitDone?"inMenu":""),j(1),Q("ngIf",!r.menuSettingEdit)("ngIfElse",i),j(1),Q("ngIf",(null==r.lastMeasurement[0]?null:r.lastMeasurement[0].topic)&&!r.measureDataToShow),j(3),Q("ngIf",r.measureDataToShow)}},dependencies:[Ks,Sc,Qs,Qre,YT,Yre],styles:[".main-menu[_ngcontent-%COMP%]{position:absolute;width:-webkit-fill-available;top:-500vh;min-height:25%;background-color:var(--c-grey);border-bottom-right-radius:30px;border-bottom-left-radius:30px;transition:.5s all;border:15px solid var(--c-grey);box-shadow:inset 0 0 1em var(--c-dark);z-index:99}.main-menu.inMenu[_ngcontent-%COMP%]{position:unset}.main-menu[_ngcontent-%COMP%]   .measuresOpen[_ngcontent-%COMP%]:ng-deep{position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;display:flex}.main-menu[_ngcontent-%COMP%]   .measuresClose[_ngcontent-%COMP%]{display:none}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;height:-moz-fit-content;height:fit-content}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:wrap;width:80%;height:-moz-fit-content;height:fit-content;gap:2em;font-weight:600;justify-content:center;padding-bottom:30px}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:100px;height:100px;background-color:var(--c-blue);box-shadow:inset 0 0 2em var(--c-blue);box-shadow:inset 0 0 .5em var(--c-dark);box-shadow:0 0 1em var(--c-blue);border-radius:10px;font-size:18px;display:flex;justify-content:center;align-items:center}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{padding:16px 30px 50px;display:flex;flex-direction:column;gap:8px;color:var(--c-blue);margin-top:50px;max-height:350px;overflow-y:auto;overflow-x:hidden}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .span-text[_ngcontent-%COMP%]{pointer-events:none;text-decoration:underline;font-size:18px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .msg-line[_ngcontent-%COMP%]{text-align:center;padding:0 30px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;padding:3px 0 3px 5px;font-size:15px;cursor:pointer}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;border:1px solid var(--c-blue);padding:10px 15px;border-radius:13px;transition:all .3s}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{color:var(--c-dark);border:1px solid var(--c-dark)}.main-menu[_ngcontent-%COMP%]   .exit-sign[_ngcontent-%COMP%]{text-align:left;color:var(--c-blue);padding:0 0 15px;cursor:pointer}.main-menu[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:var(--c-blue);padding:0 0 15px;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin:20px auto;width:300px;padding:10px 30px;display:flex;flex-direction:column;border-radius:30px;background-color:var(--c-blue);box-shadow:1px 1px 15px var(--c-blue),inset 1px 1px 15px var(--c-silver);transition:.3s all ease-in-out}.last-measurement-result[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;font-size:18px;font-weight:600;margin:10px 0}.last-measurement-result[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{margin:10px;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]   .moreInfo.close[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]   .last-results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0}.last-measurement-result[_ngcontent-%COMP%]   .last-results[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{border:1px solid var(--c-dark);padding:10px 15px;border-radius:30px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:15px;background-color:transparent;border-top:230px solid var(--c-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent;border-radius:15px}"]}),n})(),cie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mn({type:n,selectors:[["app-policy"]],decls:55,vars:0,consts:[["href","../"],["href","http://www.smartestappes.com"],["href","https://tawk.to/MishaElifire"]],template:function(t,r){1&t&&(b(0,"section")(1,"a",0),x(2,"< back"),T(),b(3,"h1"),x(4,"Privacy Policy"),T(),b(5,"p"),x(6,"Last updated: 30/04/2024"),T(),b(7,"p"),x(8,' SmartestAppes ("us", "we", or "our") operates '),b(9,"a",1),x(10,"www.smartestappes.com"),T(),x(11,' (the "Site"). This page informs you of our policies regarding the collection, use, and disclosure of Personal Information we receive from users of the Site. '),T(),b(12,"p"),x(13," We use your Personal Information only for providing and improving the Site. By using the Site, you agree to the collection and use of information in accordance with this policy. "),T(),b(14,"h2"),x(15,"Information Collection And Use"),T(),b(16,"p"),x(17,' While using our Site, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you. Personally identifiable information may include, but is not limited to your name ("Personal Information"). '),T(),b(18,"h2"),x(19,"Log Data"),T(),b(20,"p"),x(21,' Like many site operators, we collect information that your browser sends whenever you visit our Site ("Log Data"). This Log Data may include information such as your computer\'s Internet Protocol ("IP") address, browser type, browser version, the pages of our Site that you visit, the time and date of your visit, the time spent on those pages and other statistics. '),T(),b(22,"h2"),x(23,"Cookies"),T(),b(24,"p"),x(25," Cookies are files with small amount of data, which may include an anonymous unique identifier. Cookies are sent to your browser from a web site and stored on your computer's hard drive. "),T(),b(26,"p"),x(27,' Like many sites, we use "cookies" to collect information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Site. '),T(),b(28,"h2"),x(29,"Ads"),T(),b(30,"p"),x(31," We may use third-party advertising companies to serve ads when you visit our website. These companies may use information (not including your name, address, email address, or telephone number) about your visits to this and other websites in order to provide advertisements about goods and services of interest to you. "),T(),b(32,"h2"),x(33,"Google Analytics"),T(),b(34,"p"),x(35," We use Google Analytics to collect, monitor, and analyze data about the use of our website. This helps us understand how users interact with our website and allows us to improve the user experience. "),T(),b(36,"h2"),x(37,"Security"),T(),b(38,"p"),x(39," The security of your Personal Information is important to us, but remember that no method of transmission over the Internet, or method of electronic storage, is 100% secure. While we strive to use commercially acceptable means to protect your Personal Information, we cannot guarantee its absolute security. "),T(),b(40,"h2"),x(41,"Changes To This Privacy Policy"),T(),b(42,"p"),x(43," This Privacy Policy is effective as of [Date] and will remain in effect except with respect to any changes in its provisions in the future, which will be in effect immediately after being posted on this page. "),T(),b(44,"p"),x(45," We reserve the right to update or change our Privacy Policy at any time and you should check this Privacy Policy periodically. Your continued use of the Service after we post any modifications to the Privacy Policy on this page will constitute your acknowledgment of the modifications and your consent to abide and be bound by the modified Privacy Policy. "),T(),b(46,"p"),x(47," If we make any material changes to this Privacy Policy, we will notify you either through the email address you have provided us, or by placing a prominent notice on our website. "),T(),b(48,"h2"),x(49,"Contact Us"),T(),b(50,"p"),x(51," If you have any questions about this Privacy Policy, please contact us at "),b(52,"a",2),x(53,"https://tawk.to/MishaElifire"),T(),x(54,". "),T()())},styles:["section[_ngcontent-%COMP%]{line-height:1.6;margin:20px;padding:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:30px;font-weight:600;font-size:large}a[_ngcontent-%COMP%]{color:var(--c-dark-blue);text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}p[_ngcontent-%COMP%]{margin-bottom:20px}"]}),n})(),bd=(()=>{class n{constructor(t,r){this.router=t,this.loginSrv=r,this.taskList=[],this.listId=[],this.selectedId=0,this.loginName="",this.todayDate="",this.firebaseConfig={apiKey:Dn_apiKey,authDomain:"kokododoe-s.firebaseapp.com",projectId:"kokododoe-s",storageBucket:"kokododoe-s.appspot.com",messagingSenderId:"1001517841425",appId:Dn_appId,measurementId:"G-X8FCQKJM16"},this.TaskListSubject=new ot([]),this.taskList$=this.TaskListSubject.asObservable(),this.ListIdSubject=new ot([]),this.ListId$=this.ListIdSubject.asObservable(),this.ListIdChgSubject=new ot(0),this.ListIdChg$=this.ListIdChgSubject.asObservable(),this.Sub$=new tn,sessionStorage.getItem("UserDataLogin")||this.router.navigate([""]),this.fbDataBase=this.loginSrv.getfbDataBase(),this.DataBaseApp=this.loginSrv.getDataBaseApp(),this.listIdRef=O2(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`),this.taskListRef=O2(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`),this.getListId(),this.getTaskList()}getLoginName(){return JSON.parse(sessionStorage.getItem("UserDataLogin")).email.split("@")[0]}setLoginName(t){this.loginName=t}getDateString(){return this.todayDate}setDateString(t){this.todayDate=t}getSelectedListId(){return this.selectedId}setSelectedListId(t){this.selectedId=t,this.ListIdChgSubject.next(t)}updateListId(t){const r={id:2*(new Date).valueOf(),name:t,editMode:!1};rU(this.listIdRef,r),this.listId.push(r),sessionStorage.setItem(`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,JSON.stringify(this.listId)),this.ListIdSubject.next(this.listId),this.getListId()}updateTaskList(t){t.id=(new Date).valueOf(),t.listID=this.selectedId,rU(this.taskListRef,t),this.taskList.push(t),this.TaskListSubject.next(this.taskList),this.ListIdChgSubject.next(this.selectedId)}deleteTask(t){const r=this.taskList.find(s=>s.id==t)?this.taskList.find(s=>s.id==t)?.dbId:"";nU(md(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r)),this.taskList=this.taskList.filter(s=>s.id!=t),this.TaskListSubject.next(this.taskList),this.ListIdChgSubject.next(this.selectedId)}deleteList(t,r){r.forEach(o=>this.deleteTask(o.id));const i=this.listId.find(o=>o.id==t)?this.listId.find(o=>o.id==t)?.dbId:"";nU(md(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+i)),this.listId=this.listId.filter(o=>o.id!=t),this.ListIdSubject.next(this.listId),this.ListIdChgSubject.next(this.selectedId)}getListId(){let t=[];eU(this.listIdRef).then(r=>{r.docs.forEach(i=>{t.push({...i.data(),dbId:i.id})})}).then(()=>{this.listId=t,this.ListIdSubject.next(this.listId),setTimeout(()=>{this.ListIdChgSubject.next(this.selectedId)})})}getTaskList(){let t=[];eU(this.taskListRef).then(r=>{r.docs.forEach(i=>{t.push({...i.data(),dbId:i.id})})}).then(()=>{this.taskList=t,this.TaskListSubject.next(this.taskList)})}updateTaskData(t){const r=this.taskList.find(s=>s.id==t.id)?this.taskList.find(s=>s.id==t.id)?.dbId:"";tU(md(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r),{...t})}updateListData(t){const r=this.listId.find(s=>s.id==t.id)?this.listId.find(s=>s.id==t.id)?.dbId:"";tU(md(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r),{...t})}}return n.\u0275fac=function(t){return new(t||n)(N(nt),N(QT))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lie=["dateString"];let die=(()=>{class n{constructor(t){this.dataSrv=t,this.todayDate=new Date,this.dayDate="",this.loginName=""}ngOnInit(){this.loginName=this.dataSrv.getLoginName()}ngAfterViewInit(){this.dataSrv.setDateString(this.dateString?.nativeElement.innerHTML)}}return n.\u0275fac=function(t){return new(t||n)(w(bd))},n.\u0275cmp=mn({type:n,selectors:[["user-header"]],viewQuery:function(t,r){if(1&t&&Oh(lie,5),2&t){let i;Ia(i=Ea())&&(r.dateString=i.first)}},decls:11,vars:5,consts:[[1,"header-panel"],[1,"date-info"],[1,"day"],[1,"date"],["dateString",""],[1,"user"],[1,"user-name"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1)(2,"div",2),x(3,"Today"),T(),b(4,"div",3,4),x(6),va(7,"date"),T()(),b(8,"div",5)(9,"div",6),x(10),T()()()),2&t&&(j(6),Lr(fy(7,2,r.todayDate,"dd.MM.yy")),j(4),Lr(r.loginName))},dependencies:[zx],styles:[".header-panel[_ngcontent-%COMP%]{display:flex;height:60px;align-items:center;justify-content:space-between;background-color:var(--offgreen);border-bottom:2px solid var(--green);box-shadow:1px 1px 3px var(--dark);padding:0 20px}.header-panel[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;height:60px}.header-panel[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--dark);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:16px;text-shadow:1px 1px 25px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{font-weight:600;color:var(--green);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-weight:600;color:var(--yellow);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;gap:5px}.header-panel[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-weight:600;color:var(--green);text-shadow:1px 1px 2px var(--dark)}"]}),n})();function hie(n,e){if(1&n&&(b(0,"span",10),x(1),T()),2&n){const t=ce().$implicit;j(1),Lr(t.task)}}function fie(n,e){if(1&n){const t=xt();b(0,"textarea",11),ne("blur",function(i){lt(t);const s=ce().$implicit;return dt(ce().subbmitChange(i,s))}),T()}2&n&&Q("value",ce().$implicit.task)}function pie(n,e){if(1&n){const t=xt();b(0,"span",12),ne("click",function(){lt(t);const i=ce().$implicit;return dt(ce().taskDone(i))}),x(1),T()}if(2&n){const t=ce().$implicit;j(1),Lr(t.status)}}function gie(n,e){if(1&n){const t=xt();b(0,"span",12),ne("click",function(){lt(t);const i=ce().$implicit;return dt(ce().taskDone(i))}),x(1,"In Progress"),T()}}function mie(n,e){if(1&n){const t=xt();b(0,"span",12),ne("click",function(){lt(t);const i=ce().$implicit;return dt(ce().taskDone(i))}),x(1,"Done"),T()}}function _ie(n,e){if(1&n){const t=xt();b(0,"span",12),ne("click",function(){lt(t);const i=ce().$implicit;return dt(ce().taskDone(i))}),x(1,"On Hold"),T()}}function yie(n,e){if(1&n){const t=xt();b(0,"section",1)(1,"div",2),ne("click",function(i){return lt(t),dt(ce().deleteTask(i))}),x(2," X "),T(),b(3,"div",3),ne("click",function(i){const o=lt(t).$implicit;return dt(ce().editTaskName(i,o))}),ye(4,hie,2,1,"span",4),T(),ye(5,fie,1,1,"ng-template",null,5,Cc),b(7,"div",6)(8,"div",7),x(9),T(),b(10,"div",8),ye(11,pie,2,1,"span",9),ye(12,gie,2,0,"span",9),ye(13,mie,2,0,"span",9),ye(14,_ie,2,0,"span",9),T()()()}if(2&n){const t=e.$implicit,r=e.index,i=hc(6);(function vM(n,e,t){Er(zn,Vr,ua(D(),n,e,t),!0)})("task extend ",t.id,""),Q("ngClass",r%2==1?"even":"odd"),j(1),Kn("taskId",t.id),j(3),Q("ngIf",!t.editMode)("ngIfElse",i),j(5),kn("due date: ",t.date,""),j(2),Q("ngIf",1==t.currentStatus),j(1),Q("ngIf",2==t.currentStatus),j(1),Q("ngIf",3==t.currentStatus),j(1),Q("ngIf",4==t.currentStatus)}}let vie=(()=>{class n{constructor(t){this.dataSrv=t,this.taskList=[],this.shownList=[],this.expandTask=!1,this.editTaskMode=!1,this.lastexpandTask=null,this.taskNameEdit=new to({taskEdit:new ur("",{updateOn:"blur",validators:[zr.required]})}),this.dataSrv.taskList$.subscribe(r=>{this.taskList=r}),this.dataSrv.ListIdChg$.subscribe(r=>{this.shownList=this.taskList.filter(i=>i.listID==r)})}ngOnInit(){}expand(t){}taskDone(t){t&&(t?.currentStatus>=4?t.currentStatus=1:t.currentStatus++)}deleteTask(t){this.dataSrv.deleteTask(t.target.attributes.taskId.value)}editTaskName(t,r){setTimeout(()=>{t.target.children[0].focus()},500),r.editMode=!0}subbmitChange(t,r){r.task!=t.target.value&&""!=t.target.value?(r.task=t.target.value,r.editMode=!1,this.dataSrv.updateTaskData(r)):r.editMode=!1}}return n.\u0275fac=function(t){return new(t||n)(w(bd))},n.\u0275cmp=mn({type:n,selectors:[["task"]],decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"close",3,"click"],[1,"task",3,"click"],["class","task-name",4,"ngIf","ngIfElse"],["editTaskInput",""],[1,"descripption-task"],[1,"date-task"],[1,"status-task"],["class","status-state",3,"click",4,"ngIf"],[1,"task-name"],["type","text",1,"edit","task-name",3,"value","blur"],[1,"status-state",3,"click"]],template:function(t,r){1&t&&ye(0,yie,15,12,"section",0),2&t&&Q("ngForOf",r.shownList)},dependencies:[Ks,Sc,Qs],styles:[".task[_ngcontent-%COMP%]{padding:6px 25px;margin:10px auto;min-width:150px;width:300px;height:max-content;overflow:hidden;transition:.3s height ease-in-out;position:relative;border-radius:6px;line-height:normal}.task.extend[_ngcontent-%COMP%]{height:max-content}.task[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:11px;right:15px;font-size:12px;font-weight:600;width:-moz-fit-content;width:fit-content;transition:.3s color ease-in-out;cursor:pointer}.task[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}.task[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{font-size:18px;padding:5px;margin-bottom:5px;letter-spacing:normal}.task[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{pointer-events:none}.task[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   .task-name.edit[_ngcontent-%COMP%]{font-size:18px;letter-spacing:normal;background-color:transparent;border:transparent;color:var(--c-gray);width:-webkit-fill-available}.task[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]{display:flex;font-size:12px;position:relative;bottom:0;margin-bottom:10px;width:-webkit-fill-available;justify-content:space-between}.task[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]{width:100px}.task[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s ease-in-out}.odd[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);border-top-left-radius:20px;border-bottom-left-radius:10px}.odd[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{color:var(--c-silver)}.even[_ngcontent-%COMP%]{background-color:var(--c-silver);border:1px solid var(--c-dark-blue);border-top-right-radius:20px;border-bottom-right-radius:10px}.even[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{color:var(--c-dark-blue)}"]}),n})();const Iie=["addInput"],Eie=["ListId"];function Cie(n,e){if(1&n&&(b(0,"span",13),x(1),T()),2&n){const t=ce().$implicit;j(1),Lr(t.name)}}function wie(n,e){if(1&n){const t=xt();b(0,"input",14),ne("blur",function(i){lt(t);const s=ce().$implicit;return dt(ce().updateListName(i,s))}),T()}2&n&&Q("value",ce().$implicit.name)}function bie(n,e){if(1&n){const t=xt();b(0,"div",10),ne("click",function(i){const o=lt(t).$implicit;return dt(ce().selectListId(i,o))}),ye(1,Cie,2,1,"span",11),ye(2,wie,1,1,"ng-template",null,12,Cc),T()}if(2&n){const t=e.$implicit,r=hc(3);Q("ngClass",ce().getSelectedListId()==+t.id?"selected":""),Kn("listId",t.id),j(1),Q("ngIf",!t.editMode)("ngIfElse",r)}}const yU=function(n){return{"new-add":n}};let Tie=(()=>{class n{constructor(t){this.dataSrv=t,this.listId=[],this.addActive=!1,this.listEdit=!1,this.movearound=0,this.dataSrv.ListId$.subscribe(r=>{this.listId=r})}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.dataSrv.setSelectedListId(Number(document.querySelector(".list-menu")?.children[0]?.attributes.getNamedItem("listid")?.value))},1e3)}addListId(t){this.addActive?(this.addActive=!1,""!=this.addInput.nativeElement.value&&this.dataSrv.updateListId(this.addInput.nativeElement.value)):(this.addInput.nativeElement.value="",this.addActive=!0)}getSelectedListId(){return this.dataSrv.getSelectedListId()}selectListId(t,r){t.target.attributes.listId?.value==this.getSelectedListId()?(r.editMode=!0,setTimeout(()=>{t.target.children[0].focus()},500)):this.dataSrv.setSelectedListId(t.target.attributes.listId?.value)}updateListName(t,r){r.name!=t.target.value&&""!=t.target.value?(r.name=t.target.value,r.editMode=!1,this.dataSrv.updateListData(r)):r.editMode=!1}deleteList(t){let r=this.getSelectedListId(),i=this.dataSrv.taskList.filter(s=>s.listID==r);this.dataSrv.deleteList(r,i)}moveAround(t){this.ListId?.nativeElement.setAttribute("style",`left: ${this.movearound+t>0?this.movearound:this.movearound+=t}px;`)}}return n.\u0275fac=function(t){return new(t||n)(w(bd))},n.\u0275cmp=mn({type:n,selectors:[["task-list"]],viewQuery:function(t,r){if(1&t&&(Oh(Iie,5),Oh(Eie,5)),2&t){let i;Ia(i=Ea())&&(r.addInput=i.first),Ia(i=Ea())&&(r.ListId=i.first)}},decls:13,vars:9,consts:[[1,"scroll-bar"],[1,"list-menu"],["ListId",""],["class","list",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"add-section",3,"ngClass"],["type","text",1,"add-list-input",3,"ngClass"],["addInput",""],[1,"add-list",3,"click"],[1,"tasks"],[1,"end-line"],[1,"list",3,"ngClass","click"],["class","list-name",4,"ngIf","ngIfElse"],["ListEditInput",""],[1,"list-name"],["type","text",1,"edit-list-name",3,"value","blur"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"section",1,2),ye(3,bie,4,4,"div",3),T(),b(4,"div",4),Pt(5,"input",5,6),b(7,"div",7),ne("click",function(s){return r.addListId(s)}),x(8),T(),b(9,"div",7),ne("click",function(s){return r.deleteList(s)}),x(10),T()()(),Pt(11,"task",8)(12,"div",9)),2&t&&(j(3),Q("ngForOf",r.listId),j(1),Q("ngClass",dy(5,yU,r.addActive)),j(1),Q("ngClass",dy(7,yU,r.addActive)),j(3),kn(" ",r.addActive?"Ok":"Add List"," "),j(2),kn(" ","Remove List"," "))},dependencies:[Ks,Sc,Qs,vie],styles:[".scroll-bar[_ngcontent-%COMP%]{position:sticky;top:75px;overflow:hidden;width:auto;padding:10px 35px 0;z-index:99;background:var(--c-silver)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;overflow-x:auto;transition:.6s left ease-in-out;border-bottom:2px solid var(--c-dark-blue)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list-name[_ngcontent-%COMP%]{pointer-events:none}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .edit-list-name[_ngcontent-%COMP%]{max-width:min-content;background-color:transparent;border:transparent;pointer-events:none}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{padding:10px;border-right:1px solid var(--c-silver);border-left:1px solid var(--c-silver);cursor:pointer;flex-shrink:0;transition:.3s all ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);border-top-left-radius:13px;border-top-right-radius:13px}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;width:-moz-fit-content;width:fit-content;height:40px;border-radius:30px}.scroll-bar[_ngcontent-%COMP%]   .add-section.new-add[_ngcontent-%COMP%]{border:1px solid var(--c-dark-blue);padding:0 5px;margin:5px 0}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list-input[_ngcontent-%COMP%]{pointer-events:none;width:0;opacity:0;background-color:transparent;padding-right:5px;transition:.3s all ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list-input.new-add[_ngcontent-%COMP%]{width:100px;height:20px;opacity:1;border:0px transparent;border-right:1px solid var(--c-dark-blue);pointer-events:all}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);padding:8px 20px;font-size:12px;margin:5px;width:max-content;border-radius:30px;font-weight:600;cursor:pointer;transition:.3s box-shadow ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 5px var(--c-dark-blue)}.scroll-bar[_ngcontent-%COMP%]   .btn-scroll[_ngcontent-%COMP%]{background-color:var(--c-dark);border:0;font-size:18px;color:var(--c-silver)}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows[_ngcontent-%COMP%]{position:absolute;height:100%;display:flex;justify-content:space-between;top:0;z-index:2}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows.left[_ngcontent-%COMP%]{left:0}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows.right[_ngcontent-%COMP%]{right:0}.end-line[_ngcontent-%COMP%]{height:110px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),vU=(()=>{class n{constructor(){this.addTaskSubject=new ot(!0),this.addTask$=this.addTaskSubject.asObservable()}addTaskOCPopUp(t){this.addTaskSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Die=(()=>{class n{constructor(t,r){this.popupSrv=t,this.dataSrv=r,this.listIdIsEmpty=!1}ngOnInit(){this.dataSrv.ListId$.subscribe(t=>{t.length>0&&(this.listIdIsEmpty=!0)})}openAddTask(){document.body.style.overflow="hidden",this.popupSrv.addTaskOCPopUp(!1)}}return n.\u0275fac=function(t){return new(t||n)(w(vU),w(bd))},n.\u0275cmp=mn({type:n,selectors:[["main-footer"]],decls:6,vars:1,consts:[[1,"footer-container"],[1,"copy-right"],[1,"fast-add-list",3,"disabled","click"],[1,"line"],[1,"line","rotate"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"section",1),x(2,"\xa9 Year 2024"),T(),b(3,"button",2),ne("click",function(){return r.openAddTask()}),Pt(4,"div",3)(5,"div",4),T()()),2&t&&(j(3),Q("disabled",!r.listIdIsEmpty))},styles:['.footer-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--c-grey);max-width:490px;position:fixed;bottom:0;z-index:99;width:-webkit-fill-available;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);transition:.3s all ease-in-out}.footer-container[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--c-blue);scale:1.1;box-shadow:1px 1px 10px;color:var(--c-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]{pointer-events:all;background-color:var(--c-silver);padding:30px 23px;position:relative;border-radius:50%;transition:all .3s ease-in-out;max-width:100%;border:0 transparent;top:-30px;z-index:99}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled   .line[_ngcontent-%COMP%]{background-color:var(--c-blue);opacity:.5}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled:hover{scale:1;box-shadow:1px 1px 10px var(--c-silver);color:var(--c-silver)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled:hover   .line[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);opacity:.5}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:hover{scale:1.2;box-shadow:1px 1px 10px var(--c-silver);color:var(--c-silver)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{background-color:var(--c-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:before{width:1200px;height:15px;border-top:10px solid var(--c-silver);border-right:10px solid var(--c-silver);border-bottom:10px solid transparent;border-left:10px solid transparent;content:"";position:absolute;top:20px;left:-1205px;z-index:-1;border-radius:0 30px 0 0;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:after{width:1200px;height:15px;border-top:10px solid var(--c-silver);border-right:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid var(--c-silver);content:"";position:absolute;top:20px;right:-1205px;z-index:-1;border-radius:30px 0 0;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;width:18px;height:3px;background-color:var(--c-dark);top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]   .line.rotate[_ngcontent-%COMP%]{position:relative;left:4%;width:19px;transform:rotate(90deg)}.footer-container[_ngcontent-%COMP%]   .copy-right[_ngcontent-%COMP%]{position:absolute;left:15px;color:var(--c-dark-blue)}.btn[_ngcontent-%COMP%]{padding:10px 30px;border:3px solid var(--dark);border-radius:30px;font-size:14px;font-weight:600}']}),n})();function Aie(n,e){1&n&&(b(0,"div",16),x(1," * task name input cannot be empty "),T())}function Sie(n,e){1&n&&(b(0,"div",16),x(1," * author name input cannot be empty "),T())}function Mie(n,e){1&n&&(b(0,"div",16),x(1," * date name input cannot be empty "),T())}function Pie(n,e){1&n&&(b(0,"div",16),x(1," * status name input cannot be empty "),T())}let xie=(()=>{class n{constructor(t,r){this.popupSrv=t,this.dataSrv=r,this.taskform=new to({task:new ur("",{updateOn:"change",validators:[zr.required]}),author:new ur("",{updateOn:"change",validators:[zr.required]}),date:new ur("",{updateOn:"change",validators:[zr.required]}),status:new ur("don't you forget",{updateOn:"change",validators:[zr.required]})}),this.hidden=!0,this.popupSrv.addTask$.subscribe(i=>{this.taskform.controls.date.setValue(this.dataSrv.getDateString()),this.taskform.controls.author.setValue(this.dataSrv.getLoginName()),this.onPopup(i)})}ngOnInit(){}addTask(t){this.dataSrv.updateTaskList(this.createTaskModel()),this.onPopup(!0)}onPopup(t){t&&(document.body.style.overflow=""),this.hidden=t}createTaskModel(){return{listID:0,id:0,task:this.taskform.value.task,author:this.taskform.value.author,date:this.taskform.value.date,status:this.taskform.value.status,currentStatus:1,editMode:!1}}}return n.\u0275fac=function(t){return new(t||n)(w(vU),w(bd))},n.\u0275cmp=mn({type:n,selectors:[["app-add-task-popup"]],decls:29,vars:7,consts:[[1,"popup-background",3,"ngClass"],[1,"popup"],[1,"close-btn",3,"click"],[1,"title"],[3,"formGroup","submit"],[1,"input-div"],["placeholder"," ","type","text","id","task","name","task","formControlName","task"],["for","task"],["class","error",4,"ngIf"],["placeholder"," ","type","text","id","author","name","author","formControlName","author"],["for","author"],["placeholder"," ","type","text","id","date","name","date","formControlName","date"],["for","date"],["placeholder"," ","type","text","id","status","name","status","formControlName","status"],["for","status"],["type","submit",1,"sbm-btn",3,"disabled"],[1,"error"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2),ne("click",function(){return r.onPopup(!0)}),x(3,"close"),T(),b(4,"div",3),x(5,"Add task to your list from here:"),T(),b(6,"form",4),ne("submit",function(s){return r.addTask(s)}),b(7,"div",5),Pt(8,"input",6),b(9,"label",7),x(10,"task"),T(),ye(11,Aie,2,0,"div",8),T(),b(12,"div",5),Pt(13,"input",9),b(14,"label",10),x(15,"author"),T(),ye(16,Sie,2,0,"div",8),T(),b(17,"div",5),Pt(18,"input",11),b(19,"label",12),x(20,"date"),T(),ye(21,Mie,2,0,"div",8),T(),b(22,"div",5),Pt(23,"input",13),b(24,"label",14),x(25,"status"),T(),ye(26,Pie,2,0,"div",8),T(),b(27,"button",15),x(28," Add task "),T()()()()),2&t&&(Q("ngClass",r.hidden?"hidden":""),j(6),Q("formGroup",r.taskform),j(5),Q("ngIf",r.taskform.controls.task.errors&&r.taskform.controls.task.touched),j(5),Q("ngIf",r.taskform.controls.author.errors&&r.taskform.controls.author.touched),j(5),Q("ngIf",r.taskform.controls.date.errors&&r.taskform.controls.date.touched),j(5),Q("ngIf",r.taskform.controls.status.errors&&r.taskform.controls.status.touched),j(1),Q("disabled",r.taskform.invalid))},dependencies:[Ks,Qs,zf,Ra,Ff,Vf,Oa,Yc],styles:[".popup-background[_ngcontent-%COMP%]{transition:.3s all ease-in-out;opacity:1;position:fixed;background-color:#00000062;top:0;height:100%;width:100%;max-width:490px;z-index:999}.popup-background.hidden[_ngcontent-%COMP%]{transition:.3s all ease-in-out;opacity:0;z-index:-1}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]{position:relative;margin:auto;background-color:var(--c-silver);top:100px;width:85%;height:60%;max-width:500px;border-radius:10px;box-shadow:1px 1px 15px #000;overflow:hidden;overflow-y:scroll;z-index:9999}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:sticky;top:0;padding:12px 0 0 12px;cursor:pointer;background:var(--c-silver);z-index:9}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--c-dark-blue);transition:.2s color ease-in-out}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin:20px auto;color:var(--c-dark-blue);font-size:22px;font-weight:600;width:200px;pointer-events:none}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:25px;padding-bottom:25px}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;transition:.3s all ease-in-out;pointer-events:none;left:15px;top:8px;background-color:var(--c-silver);text-shadow:1px 1px 1px var(--c-silver)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:30px;background-color:transparent;width:250px;height:30px;padding-left:15px;transition:.3s all ease-in-out}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{position:absolute;transition:.3s all ease-in-out;top:-8px;color:var(--c-dark-blue);font-weight:600}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;bottom:-15px;color:var(--c-dark-blue);font-size:12px;font-weight:600;left:15px}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]{background-color:var(--c-dark);border:0px transparent;border-radius:30px;padding:12px 30px;font-size:16px;transition:all .3s ease-in-out;color:var(--c-dark-blue)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:disabled{background-color:transparent;border:1px solid var(--c-dark-blue)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:disabled:hover{background-color:transparent;border:1px solid var(--c-dark-blue);box-shadow:1px 1px 15px transparent}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px var(--c-dark);transition:all .3s ease-in-out;color:var(--c-dark-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:15px;background-color:transparent;border-top:230px solid var(--c-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent;border-radius:15px}"]}),n})(),Rie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mn({type:n,selectors:[["app-lists"]],decls:5,vars:0,template:function(t,r){1&t&&(Pt(0,"user-header"),b(1,"section"),Pt(2,"task-list"),T(),Pt(3,"main-footer")(4,"app-add-task-popup"))},dependencies:[die,Tie,Die,xie]}),n})(),IU=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){return null!=sessionStorage.getItem("UserDataLogin")||(this.router.navigate(["./"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(N(nt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kie=[{path:"",component:Ure},{path:"home",component:uie,canActivate:[IU]},{path:"lists",component:Rie,canActivate:[IU]},{path:"policy",component:cie},{path:"**",redirectTo:""}];let Oie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({imports:[kk.forRoot(kie),kk]}),n})();function Nie(n,e){1&n&&(b(0,"h1",16),x(1,"Applications"),T())}function Fie(n,e){if(1&n){const t=xt();b(0,"li",17),ne("click",function(){return lt(t),dt(ce().close("measurements"))}),x(1," Measurements "),T()}}function Vie(n,e){if(1&n){const t=xt();b(0,"li",17),ne("click",function(){return lt(t),dt(ce().close("lists"))}),x(1," Todo List "),T()}}function Lie(n,e){1&n&&(b(0,"h1",16),x(1,"General"),T())}function Uie(n,e){if(1&n){const t=xt();b(0,"li",17),ne("click",function(){return lt(t),dt(ce().close("menu"))}),x(1," Add/Remove Measurements "),T()}}let JT,Bie=(()=>{class n{constructor(t,r,i){this.loginService=t,this.dataSavingSrv=r,this.router=i,this.isOpenTrans=!1,this.isOpenMenu=!1,this.isOpenAcc=!1,this.editMode=!1,this.$Subs=new tn,this.isAfterLogin=null!=sessionStorage.getItem("UserDataLogin"),this.editMode="true"==sessionStorage.getItem("editMode"),this.$Subs.add(this.loginService.afterlogin$.subscribe(s=>{this.isAfterLogin=s})),this.$Subs.add(this.loginService.headerInnerData.subscribe(s=>{this.innerHeaderData=s})),this.$Subs.add(this.dataSavingSrv.lastClickedOn.subscribe(s=>{null==s&&(this.isOpenAcc&&(this.isOpenAcc=!1),this.isOpenMenu&&(this.isOpenMenu=!1),this.isOpenTrans&&(this.isOpenTrans=!1))}))}close(t){switch(t){case"menu":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate([".."]),this.dataSavingSrv.setSettingsEdit(!0);break;case"policy":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/policy"]);break;case"measurements":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate([".."]);break;case"lists":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/lists"])}}ngOnInit(){}ngAfterViewInit(){this.functionScript=document.createElement("script"),this.functionScript.type="text/javascript",this.functionScript.innerHTML="\n    function googleTranslateElementInit() {\n      new google.translate.TranslateElement(\n          {pageLanguage: 'en'},\n          'google_translate_element'\n      );\n    }",this.stylesEl=document.createElement("style"),this.stylesEl.innerHTML="\n    #goog-gt-vt{\n      display: none !important;\n    }\n    #goog-gt-tt{\n      display: none;\n    }\n    .VIpgJd-yAWNEb-VIpgJd-fmcmS-sn54Q{\n      background: transparent;\n      box-shadow: 2px 2px 4px transparent;\n    }\n    .VIpgJd-yAWNEb-L7lbkb{\n      display: none !important;\n    }\n    body{\n      top: 0 !important;\n      position: relative;\n    }\n    .skiptranslate{\n      position: absolute;\n      z-index:1\n    }",this.jsSrvScript=document.createElement("script"),this.jsSrvScript.type="text/javascript",this.jsSrvScript.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(this.functionScript),document.body.appendChild(this.jsSrvScript),document.body.appendChild(this.stylesEl)}openTrans(){this.isOpenTrans=!this.isOpenTrans}openMenu(){this.isOpenMenu=!this.isOpenMenu}openAcc(){this.isOpenAcc=!this.isOpenAcc}ngOnDestroy(){this.$Subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(QT),w(jg),w(nt))},n.\u0275cmp=mn({type:n,selectors:[["app-header"]],decls:25,vars:17,consts:[["appClickOutside","",1,"header"],[1,"right"],[1,"translate",3,"src","ngClass","click"],[1,"acc",3,"src","ngClass","click"],[1,"logo"],["alt","",3,"src"],[1,"left"],[1,"burger",3,"ngClass","click"],[1,"line"],["appClickOutside","",1,"g-trans",3,"ngClass"],["id","google_translate_element"],["appClickOutside","",1,"menu-container",3,"ngClass"],[1,"options-list"],[1,"list"],["class","list-title",4,"ngIf"],["class","list-item",3,"click",4,"ngIf"],[1,"list-title"],[1,"list-item",3,"click"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1)(2,"img",2),ne("click",function(){return r.openTrans()}),T(),b(3,"img",3),ne("click",function(){return r.openAcc()}),T(),b(4,"div",4),Pt(5,"img",5),T()(),b(6,"div",6)(7,"div",7),ne("click",function(){return r.openMenu()}),Pt(8,"div",8)(9,"div",8)(10,"div",8),T()()(),b(11,"div",9),Pt(12,"div",10),T(),b(13,"div",11)(14,"div",12)(15,"ul",13),ye(16,Nie,2,0,"h1",14),ye(17,Fie,2,0,"li",15),ye(18,Vie,2,0,"li",15),ye(19,Lie,2,0,"h1",14),ye(20,Uie,2,0,"li",15),b(21,"h1",16),x(22,"Policies"),T(),b(23,"li",17),ne("click",function(){return r.close("policy")}),x(24,"Privacy Policy"),T()()()()),2&t&&(ty("--gtransIcon",null==r.innerHeaderData?null:r.innerHeaderData.gtransIcon)("--accIcon",null==r.innerHeaderData?null:r.innerHeaderData.accIcon),j(2),Gs("src",null==r.innerHeaderData?null:r.innerHeaderData.gtransIcon,ea),Q("ngClass",r.isOpenTrans?"open":""),j(1),Gs("src",null==r.innerHeaderData?null:r.innerHeaderData.accIcon,ea),Q("ngClass",r.isOpenAcc?"open":""),j(2),Gs("src",null==r.innerHeaderData?null:r.innerHeaderData.logoIcon,ea),j(2),Q("ngClass",r.isOpenMenu?"open":""),j(4),Q("ngClass",r.isOpenTrans?"open":""),j(2),Q("ngClass",r.isOpenMenu?"open":""),j(3),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin))},dependencies:[Ks,Qs,YT],styles:[".header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:999999;background-color:var(--c-grey);color:var(--c-dark-blue);padding:18px 35px;font-size:28px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 .5em var(--c-blue);overflow-x:auto}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.225rem;padding:15px 10px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:1px;width:15px;background-color:var(--c-blue);transition:.5s all}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(1){width:0;position:absolute}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg);margin-top:-5.6px;height:2px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(3){transform:rotate(45deg);height:2px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;filter:invert(264%) sepia(215%) saturate(207%) hue-rotate(89deg) saturate(475%) brightness(100%) contrast(304%)}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .translate[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .acc[_ngcontent-%COMP%]{width:30px;height:30px;filter:invert(91%) sepia(82%) saturate(2496%) hue-rotate(150deg) brightness(100%) contrast(98%)}.g-trans[_ngcontent-%COMP%]{position:fixed;top:-200px;z-index:99998;width:100%;max-width:490px;background-color:var(--c-grey);box-shadow:0 0 1em var(--c-blue);height:60px;transition:.5s top;border-bottom-left-radius:30px;border-bottom-right-radius:30px}.g-trans.open[_ngcontent-%COMP%]{top:75px}.g-trans[_ngcontent-%COMP%]   #google_translate_element[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:30px}.menu-container[_ngcontent-%COMP%]{position:fixed;top:-350px;z-index:99998;width:-webkit-fill-available;color:var(--c-blue);max-width:465px;background-color:var(--c-grey);box-shadow:0 0 1em var(--c-blue);transition:.5s top;overflow-x:hidden;overflow-y:auto;border-right:15px solid transparent;border-top:10px solid transparent;border-bottom:50px solid transparent;border-left:10px solid transparent;border-bottom-left-radius:30px;border-bottom-right-radius:30px;max-height:300px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{padding:16px 30px 50px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;margin-bottom:5px;pointer-events:none}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{padding:3px 0 3px 5px;font-size:15px;cursor:pointer}.menu-container.open[_ngcontent-%COMP%]{top:75px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),jie=(()=>{class n{constructor(){this.title="SmartestAppes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=mn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&Pt(0,"app-header")(1,"router-outlet")},dependencies:[Pv,Bie]}),n})();try{JT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{JT=!1}let Sr,Wie=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Eq(n){return n===Wx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!JT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(N(Uh))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Sr=typeof global<"u"?global:typeof window<"u"?window:{};const TU="cdk-high-contrast-black-on-white",DU="cdk-high-contrast-white-on-black",eD="cdk-high-contrast-active";let sse=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(eD),t.remove(TU),t.remove(DU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(eD),t.add(TU)):2===r&&(t.add(eD),t.add(DU))}}}return n.\u0275fac=function(t){return new(t||n)(N(Wie),N(et))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({}),n})();const SU=new Wi("13.0.0"),MU=new Wi("13.0.0"),use=new B("mat-sanity-checks",{providedIn:"root",factory:function ase(){return!0}});let PU=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!function Nz(){return fx=!0,hx}()||function Yie(){return typeof Sr.__karma__<"u"&&!!Sr.__karma__||typeof Sr.jasmine<"u"&&!!Sr.jasmine||typeof Sr.jest<"u"&&!!Sr.jest||typeof Sr.Mocha<"u"&&!!Sr.Mocha}())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&MU.full!==SU.full&&console.warn("The Angular Material version ("+MU.full+") does not match the Angular CDK version ("+SU.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(N(sse),N(use,8),N(et))},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({imports:[[AU],AU]}),n})(),vse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Kt({imports:[[PU],PU]}),n})(),Ise=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n,bootstrap:[jie]}),n.\u0275inj=Kt({providers:[{provide:Zi,useClass:Sx}],imports:[v9,jre.forRoot({trackingId:"G-726X1R2X45",trackPageviews:!0}),Oie,vse,X7,Lre]}),n})();(function Fz(){if(fx)throw new Error("Cannot enable prod mode after platform setup.");hx=!1})(),y9().bootstrapModule(Ise).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=854)}]);