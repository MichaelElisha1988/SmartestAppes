"use strict";(self.webpackChunkSmartestAppes=self.webpackChunkSmartestAppes||[]).push([[179],{898:()=>{function Fe(n){return"function"==typeof n}function Oc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const xd=Oc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Nc(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Wt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof xd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{hD(s)}catch(o){e=e??[],o instanceof xd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new xd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)hD(e);else{if(e instanceof Wt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Nc(t,e)}remove(e){const{_finalizers:t}=this;t&&Nc(t,e),e instanceof Wt&&e._removeParent(this)}}Wt.EMPTY=(()=>{const n=new Wt;return n.closed=!0,n})();const lD=Wt.EMPTY;function dD(n){return n instanceof Wt||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function hD(n){Fe(n)?n():n.unsubscribe()}const xs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Rd={setTimeout(n,e,...t){const{delegate:r}=Rd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Rd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function fD(n){Rd.setTimeout(()=>{const{onUnhandledError:e}=xs;if(!e)throw n;e(n)})}function pD(){}const LU=Wg("C",void 0,void 0);function Wg(n,e,t){return{kind:n,value:e,error:t}}let Rs=null;function kd(n){if(xs.useDeprecatedSynchronousErrorHandling){const e=!Rs;if(e&&(Rs={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Rs;if(Rs=null,t)throw r}}else n()}class Kg extends Wt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dD(e)&&e.add(this)):this.destination=zU}static create(e,t,r){return new Fc(e,t,r)}next(e){this.isStopped?Yg(function BU(n){return Wg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Yg(function UU(n){return Wg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yg(LU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $U=Function.prototype.bind;function Qg(n,e){return $U.call(n,e)}class HU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Od(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Od(r)}else Od(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Od(t)}}}class Fc extends Kg{constructor(e,t,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&xs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qg(e.next,s),error:e.error&&Qg(e.error,s),complete:e.complete&&Qg(e.complete,s)}):i=e}this.destination=new HU(i)}}function Od(n){xs.useDeprecatedSynchronousErrorHandling?function jU(n){xs.useDeprecatedSynchronousErrorHandling&&Rs&&(Rs.errorThrown=!0,Rs.error=n)}(n):fD(n)}function Yg(n,e){const{onStoppedNotification:t}=xs;t&&Rd.setTimeout(()=>t(n,e))}const zU={closed:!0,next:pD,error:function GU(n){throw n},complete:pD},Jg="function"==typeof Symbol&&Symbol.observable||"@@observable";function ks(n){return n}function gD(n){return 0===n.length?ks:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ht=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function KU(n){return n&&n instanceof Kg||function WU(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&dD(n)}(t)?t:new Fc(t,r,i);return kd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=mD(r))((i,s)=>{const o=new Fc({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Jg](){return this}pipe(...t){return gD(t)(this)}toPromise(t){return new(t=mD(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function mD(n){var e;return null!==(e=n??xs.Promise)&&void 0!==e?e:Promise}const QU=Oc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let er=(()=>{class n extends ht{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new _D(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new QU}next(t){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){kd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?lD:(this.currentObservers=null,s.push(t),new Wt(()=>{this.currentObservers=null,Nc(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ht;return t.source=this,t}}return n.create=(e,t)=>new _D(e,t),n})();class _D extends er{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:lD}}function yD(n){return Fe(n?.lift)}function Lt(n){return e=>{if(yD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,e,t,r,i){return new YU(n,e,t,r,i)}class YU extends Kg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(n,e){return Lt((t,r)=>{let i=0;t.subscribe(Mt(r,s=>{r.next(n.call(e,s,i++))}))})}function em(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function ED(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function c(h){h.value instanceof Bi?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function CD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function nm(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}const wD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function bD(n){return Fe(n?.then)}function TD(n){return Fe(n[Jg])}function DD(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function AD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const SD=function pB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function MD(n){return Fe(n?.[SD])}function PD(n){return ED(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function xD(n){return Fe(n?.getReader)}function fr(n){if(n instanceof ht)return n;if(null!=n){if(TD(n))return function gB(n){return new ht(e=>{const t=n[Jg]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(wD(n))return function mB(n){return new ht(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(bD(n))return function _B(n){return new ht(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,fD)})}(n);if(DD(n))return RD(n);if(MD(n))return function yB(n){return new ht(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(xD(n))return function vB(n){return RD(PD(n))}(n)}throw AD(n)}function RD(n){return new ht(e=>{(function IB(n,e){var t,r,i,s;return function vD(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=CD(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ri(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Kt(n,e,t=1/0){return Fe(e)?Kt((r,i)=>ue((s,o)=>e(r,s,i,o))(fr(n(r,i))),t):("number"==typeof e&&(t=e),Lt((r,i)=>function EB(n,e,t,r,i,s,o,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},f=g=>u<r?p(g):c.push(g),p=g=>{s&&e.next(g),u++;let m=!1;fr(t(g,l++)).subscribe(Mt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(u--;c.length&&u<r;){const v=c.shift();o?ri(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Mt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Vo(n=1/0){return Kt(ks,n)}const ii=new ht(n=>n.complete());function rm(n){return n[n.length-1]}function kD(n){return Fe(rm(n))?n.pop():void 0}function Vc(n){return function wB(n){return n&&Fe(n.schedule)}(rm(n))?n.pop():void 0}function OD(n,e=0){return Lt((t,r)=>{t.subscribe(Mt(r,i=>ri(r,n,()=>r.next(i),e),()=>ri(r,n,()=>r.complete(),e),i=>ri(r,n,()=>r.error(i),e)))})}function ND(n,e=0){return Lt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function FD(n,e){if(!n)throw new Error("Iterable cannot be null");return new ht(t=>{ri(t,e,()=>{const r=n[Symbol.asyncIterator]();ri(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function It(n,e){return e?function PB(n,e){if(null!=n){if(TD(n))return function TB(n,e){return fr(n).pipe(ND(e),OD(e))}(n,e);if(wD(n))return function AB(n,e){return new ht(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(bD(n))return function DB(n,e){return fr(n).pipe(ND(e),OD(e))}(n,e);if(DD(n))return FD(n,e);if(MD(n))return function SB(n,e){return new ht(t=>{let r;return ri(t,e,()=>{r=n[SD](),ri(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,e);if(xD(n))return function MB(n,e){return FD(PD(n),e)}(n,e)}throw AD(n)}(n,e):fr(n)}function im(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Fc({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function sm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function om(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const RB=Oe({__forward_ref__:Oe});function Ve(n){return n.__forward_ref__=Ve,n.toString=function(){return Ne(this())},n}function ne(n){return am(n)?n():n}function am(n){return"function"==typeof n&&n.hasOwnProperty(RB)&&n.__forward_ref__===Ve}class k extends Error{constructor(e,t){super(function Nd(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function Fd(n,e){throw new k(-201,!1)}function Un(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Vd(n){return LD(n,Ld)||LD(n,BD)}function LD(n,e){return n.hasOwnProperty(e)?n[e]:null}function UD(n){return n&&(n.hasOwnProperty(cm)||n.hasOwnProperty(jB))?n[cm]:null}const Ld=Oe({\u0275prov:Oe}),cm=Oe({\u0275inj:Oe}),BD=Oe({ngInjectableDef:Oe}),jB=Oe({ngInjectorDef:Oe});var J=(()=>((J=J||{})[J.Default=0]="Default",J[J.Host=1]="Host",J[J.Self=2]="Self",J[J.SkipSelf=4]="SkipSelf",J[J.Optional=8]="Optional",J))();let um;function tr(n){const e=um;return um=n,e}function jD(n,e,t){const r=Vd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&J.Optional?null:void 0!==e?e:void Fd(Ne(n))}function ji(n){return{toString:n}.toString()}var pr=(()=>((pr=pr||{})[pr.OnPush=0]="OnPush",pr[pr.Default=1]="Default",pr))(),Mr=(()=>{return(n=Mr||(Mr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mr;var n})();const Le=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Lo={},Te=[],Ud=Oe({\u0275cmp:Oe}),lm=Oe({\u0275dir:Oe}),dm=Oe({\u0275pipe:Oe}),$D=Oe({\u0275mod:Oe}),oi=Oe({\u0275fac:Oe}),Lc=Oe({__NG_ELEMENT_ID__:Oe});let HB=0;function nn(n){return ji(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===pr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Mr.Emulated,id:"c"+HB++,styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=zD(n.inputs,r),i.outputs=zD(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(HD).filter(GD):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(yn).filter(GD):null,i})}function HD(n){return Me(n)||_n(n)}function GD(n){return null!==n}function rn(n){return ji(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zD(n,e){if(null==n)return Lo;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const X=nn;function sn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Me(n){return n[Ud]||null}function _n(n){return n[lm]||null}function yn(n){return n[dm]||null}function Bn(n,e){const t=n[$D]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function Mn(n){return Array.isArray(n)&&"object"==typeof n[1]}function mr(n){return Array.isArray(n)&&!0===n[1]}function pm(n){return 0!=(8&n.flags)}function Hd(n){return 2==(2&n.flags)}function Gd(n){return 1==(1&n.flags)}function _r(n){return null!==n.template}function QB(n){return 0!=(256&n[2])}function Ls(n,e){return n.hasOwnProperty(oi)?n[oi]:null}class ZB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function rr(){return KD}function KD(n){return n.type.prototype.ngOnChanges&&(n.setInput=ej),XB}function XB(){const n=YD(this),e=n?.current;if(e){const t=n.previous;if(t===Lo)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ej(n,e,t,r){const i=YD(n)||function tj(n,e){return n[QD]=e}(n,{previous:Lo,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],c=o[a];s[a]=new ZB(c&&c.currentValue,e,o===Lo),n[r]=e}rr.ngInherit=!0;const QD="__ngSimpleChanges__";function YD(n){return n[QD]||null}function Et(n){for(;Array.isArray(n);)n=n[0];return n}function zd(n,e){return Et(e[n])}function $n(n,e){return Et(e[n.index])}function vm(n,e){return n.data[e]}function Ho(n,e){return n[e]}function Hn(n,e){const t=e[n];return Mn(t)?t:t[0]}function qd(n){return 64==(64&n[2])}function $i(n,e){return null==e?null:n[e]}function JD(n){n[18]=0}function Im(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ie={lFrame:c0(null),bindingsEnabled:!0};function XD(){return ie.bindingsEnabled}function D(){return ie.lFrame.lView}function Ee(){return ie.lFrame.tView}function ot(n){return ie.lFrame.contextLView=n,n[8]}function at(n){return ie.lFrame.contextLView=null,n}function Pt(){let n=e0();for(;null!==n&&64===n.type;)n=n.parent;return n}function e0(){return ie.lFrame.currentTNode}function Pr(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function Em(){return ie.lFrame.isParent}function vn(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Go(){return ie.lFrame.bindingIndex++}function ci(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function mj(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,wm(e)}function wm(n){ie.lFrame.currentDirectiveIndex=n}function s0(){return ie.lFrame.currentQueryIndex}function Tm(n){ie.lFrame.currentQueryIndex=n}function yj(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function o0(n,e,t){if(t&J.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&J.Host||(i=yj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=a0();return r.currentTNode=e,r.lView=n,!0}function Dm(n){const e=a0(),t=n[1];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function a0(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?c0(n):e}function c0(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function u0(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const l0=u0;function Am(){const n=u0();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function In(){return ie.lFrame.selectedIndex}function Hi(n){ie.lFrame.selectedIndex=n}function Xe(){const n=ie.lFrame;return vm(n.tView,n.selectedIndex)}function Wd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),c&&(n.viewHooks||(n.viewHooks=[])).push(-t,c),u&&((n.viewHooks||(n.viewHooks=[])).push(t,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,u)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function Kd(n,e,t){d0(n,e,3,t)}function Qd(n,e,t,r){(3&n[2])===t&&d0(n,e,t,r)}function Sm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function d0(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[18]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[18]+=65536),(a<s||-1==s)&&(Aj(n,t,e,c),n[18]=(4294901760&n[18])+c+2),c++}function Aj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Gc{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Yd(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];f0(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function h0(n){return 3===n||4===n||6===n}function f0(n){return 64===n.charCodeAt(0)}function Jd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||p0(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function p0(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function g0(n){return-1!==n}function zo(n){return 32767&n}function qo(n,e){let t=function Rj(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Pm=!0;function Zd(n){const e=Pm;return Pm=n,e}let kj=0;const xr={};function qc(n,e){const t=Rm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,xm(r.data,n),xm(e,null),xm(r.blueprint,null));const i=Xd(n,e),s=n.injectorIndex;if(g0(i)){const o=zo(i),a=qo(i,e),c=a[1].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function xm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Rm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Xd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=b0(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function eh(n,e,t){!function Oj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Lc)&&(r=t[Lc]),null==r&&(r=t[Lc]=kj++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function y0(n,e,t){if(t&J.Optional||void 0!==n)return n;Fd()}function v0(n,e,t,r){if(t&J.Optional&&void 0===r&&(r=null),0==(t&(J.Self|J.Host))){const i=n[9],s=tr(void 0);try{return i?i.get(e,r,t&J.Optional):jD(e,r,t&J.Optional)}finally{tr(s)}}return y0(r,0,t)}function I0(n,e,t,r=J.Default,i){if(null!==n){if(1024&e[2]){const o=function Uj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=E0(s,o,t,r|J.Self,xr);if(a!==xr)return a;let c=s.parent;if(!c){const u=o[21];if(u){const l=u.get(t,xr,r);if(l!==xr)return l}c=b0(o),o=o[15]}s=c}return i}(n,e,t,r,xr);if(o!==xr)return o}const s=E0(n,e,t,r,xr);if(s!==xr)return s}return v0(e,t,r,i)}function E0(n,e,t,r,i){const s=function Vj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Lc)?n[Lc]:void 0;return"number"==typeof e?e>=0?255&e:Lj:e}(t);if("function"==typeof s){if(!o0(e,n,r))return r&J.Host?y0(i,0,r):v0(e,t,r,i);try{const o=s(r);if(null!=o||r&J.Optional)return o;Fd()}finally{l0()}}else if("number"==typeof s){let o=null,a=Rm(n,e),c=-1,u=r&J.Host?e[16][6]:null;for((-1===a||r&J.SkipSelf)&&(c=-1===a?Xd(n,e):e[a+8],-1!==c&&w0(r,!1)?(o=e[1],a=zo(c),e=qo(c,e)):a=-1);-1!==a;){const l=e[1];if(C0(s,a,l.data)){const d=Fj(a,e,t,o,r,u);if(d!==xr)return d}c=e[a+8],-1!==c&&w0(r,e[1].data[a+8]===u)&&C0(s,a,e)?(o=l,a=zo(c),e=qo(c,e)):a=-1}}return i}function Fj(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=th(a,o,t,null==r?Hd(a)&&Pm:r!=o&&0!=(3&a.type),i&J.Host&&s===a);return null!==l?Wc(e,o,l,a):xr}function th(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<c&&t===p||f>=c&&p.type===t)return f}if(i){const f=o[c];if(f&&_r(f)&&f.type===t)return c}return null}function Wc(n,e,t,r){let i=n[t];const s=e.data;if(function Sj(n){return n instanceof Gc}(i)){const o=i;o.resolving&&function kB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}(s[t]));const a=Zd(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?tr(o.injectImpl):null;o0(n,r,J.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Dj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=KD(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==c&&tr(c),Zd(a),o.resolving=!1,l0()}}return i}function C0(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function w0(n,e){return!(n&J.Self||n&J.Host&&e)}class Wo{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return I0(this._tNode,this._lView,e,r,t)}}function Lj(){return new Wo(Pt(),D())}function cn(n){return ji(()=>{const e=n.prototype.constructor,t=e[oi]||km(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[oi]||km(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function km(n){return am(n)?()=>{const e=km(ne(n));return e&&e()}:Ls(n)}function b0(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const Qo="__parameters__";function Jo(n,e,t){return ji(()=>{const r=function Om(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,l){const d=c.hasOwnProperty(Qo)?c[Qo]:Object.defineProperty(c,Qo,{value:[]})[Qo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Gn(r,e)):e!==n&&e.push(r)}return e}function ui(n,e){n.forEach(t=>Array.isArray(t)?ui(t,e):e(t))}function D0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function nh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zn(n,e,t){let r=Zo(n,e);return r>=0?n[1|r]=t:(r=~r,function Hj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Fm(n,e){const t=Zo(n,e);if(t>=0)return n[1|t]}function Zo(n,e){return function M0(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Zc={},Lm="__NG_DI_FLAG__",ih="ngTempTokenPath",Jj=/\n/gm,P0="__source";let Xc;function Xo(n){const e=Xc;return Xc=n,e}function Xj(n,e=J.Default){if(void 0===Xc)throw new k(-203,!1);return null===Xc?jD(n,void 0,e):Xc.get(n,e&J.Optional?null:void 0,e)}function N(n,e=J.Default){return(function $B(){return um}()||Xj)(ne(n),e)}function Qe(n,e=J.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),N(n,e)}function Um(n){const e=[];for(let t=0;t<n.length;t++){const r=ne(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){const a=r[o],c=e$(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function eu(n,e){return n[Lm]=e,n.prototype[Lm]=e,n}function e$(n){return n[Lm]}const zi=eu(Jo("Optional"),8),ea=eu(Jo("SkipSelf"),4);var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();const Gm=new Map;let y$=0;const qm="__ngContext__";function un(n,e){Mn(e)?(n[qm]=e[20],function I$(n){Gm.set(n[20],n)}(e)):n[qm]=e}function Km(n,e){return undefined(n,e)}function iu(n){const e=n[3];return mr(e)?e[3]:e}function Qm(n){return J0(n[13])}function Ym(n){return J0(n[4])}function J0(n){for(;null!==n&&!mr(n);)n=n[4];return n}function na(n,e,t,r,i){if(null!=r){let s,o=!1;mr(r)?s=r:Mn(r)&&(o=!0,r=r[0]);const a=Et(r);0===n&&null!==t?null==i?rA(e,t,a):Us(e,t,a,i||null,!0):1===n&&null!==t?Us(e,t,a,i||null,!0):2===n?function r_(n,e,t){const r=ah(n,e);r&&function $$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function z$(n,e,t,r,i){const s=t[7];s!==Et(t)&&na(e,n,r,s,i);for(let a=10;a<t.length;a++){const c=t[a];su(c[1],c,n,e,r,s)}}(e,n,s,t,i)}}function Zm(n,e,t){return n.createElement(e,t)}function X0(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Im(i,-1)),t.splice(r,1)}function Xm(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&X0(i,r),e>0&&(n[t-1][4]=r[4]);const s=nh(n,10+e);!function O$(n,e){su(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function eA(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&su(n,e,t,3,null,null),function V$(n){let e=n[13];if(!e)return e_(n[1],n);for(;e;){let t=null;if(Mn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Mn(e)&&e_(e[1],e),e=e[3];null===e&&(e=n),Mn(e)&&e_(e[1],e),t=e&&e[4]}e=t}}(e)}}function e_(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function j$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Gc)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];try{c.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function B$(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Et(e[o]),c=r[i=t[s+2]],u=t[s+3];"boolean"==typeof u?a.removeEventListener(t[s],c,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&mr(e[3])){t!==e[3]&&X0(t,e);const r=e[19];null!==r&&r.detachView(n)}!function E$(n){Gm.delete(n[20])}(e)}}function tA(n,e,t){return function nA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Mr.None||i===Mr.Emulated)return null}return $n(r,t)}(n,e.parent,t)}function Us(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rA(n,e,t){n.appendChild(e,t)}function iA(n,e,t,r,i){null!==r?Us(n,e,t,r,i):rA(n,e,t)}function ah(n,e){return n.parentNode(e)}let a_,aA=function oA(n,e,t){return 40&n.type?$n(n,t):null};function ch(n,e,t,r){const i=tA(n,r,e),s=e[11],a=function sA(n,e,t){return aA(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)iA(s,i,t[c],a,!1);else iA(s,i,t,a,!1)}function uh(n,e){if(null!==e){const t=e.type;if(3&t)return $n(e,n);if(4&t)return n_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return uh(n,r);{const i=n[e.index];return mr(i)?n_(-1,i):Et(i)}}if(32&t)return Km(e,n)()||Et(n[e.index]);{const r=uA(n,e);return null!==r?Array.isArray(r)?r[0]:uh(iu(n[16]),r):uh(n,e.next)}}return null}function uA(n,e){return null!==e?n[16][6].projection[e.projection]:null}function n_(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return uh(r,i)}return e[7]}function i_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&un(Et(a),r),t.flags|=4),64!=(64&t.flags))if(8&c)i_(n,e,t.child,r,i,s,!1),na(e,n,i,a,s);else if(32&c){const u=Km(t,r);let l;for(;l=u();)na(e,n,i,l,s);na(e,n,i,a,s)}else 16&c?lA(n,e,r,t,i,s):na(e,n,i,a,s);t=o?t.projectionNext:t.next}}function su(n,e,t,r,i,s){i_(t,r,n.firstChild,e,i,s,!1)}function lA(n,e,t,r,i,s){const o=t[16],c=o[6].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)na(e,n,i,c[u],s);else i_(n,e,c,o[3],i,s,!0)}function dA(n,e,t){n.setAttribute(e,"style",t)}function s_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}class js{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function qn(n){return n instanceof js?n.changingThisBreaksApplicationSecurity:n}const dH=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function ra(n){const e=function au(){const n=D();return n&&n[12]}();return e?e.sanitize(De.URL,n)||"":function Rr(n,e){const t=function nH(n){return n instanceof js&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?qn(n):function hh(n){return(n=String(n)).match(dH)?n:"unsafe:"+n}(oe(n))}const h_=new B("ENVIRONMENT_INITIALIZER"),bA=new B("INJECTOR",-1),TA=new B("INJECTOR_DEF_TYPES");class DA{get(e,t=Zc){if(t===Zc){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}function bH(...n){return{\u0275providers:AA(0,n)}}function AA(n,...e){const t=[],r=new Set;let i;return ui(e,s=>{const o=s;f_(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&SA(i,t),t}function SA(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ui(i,s=>{e.push(s)})}}function f_(n,e,t,r){if(!(n=ne(n)))return!1;let i=null,s=UD(n);const o=!s&&Me(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=UD(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)f_(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{ui(s.imports,l=>{f_(l,e,t,r)&&(u||(u=[]),u.push(l))})}finally{}void 0!==u&&SA(u,e)}if(!a){const u=Ls(i)||(()=>new i);e.push({provide:i,useFactory:u,deps:Te},{provide:TA,useValue:i,multi:!0},{provide:h_,useValue:()=>N(i),multi:!0})}const c=s.providers;null==c||a||ui(c,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}const TH=Oe({provide:String,useValue:Oe});function p_(n){return null!==n&&"object"==typeof n&&TH in n}function $s(n){return"function"==typeof n}const g_=new B("Set Injector scope."),ph={},AH={};let m_;function gh(){return void 0===m_&&(m_=new DA),m_}class qi{}class xA extends qi{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,y_(e,o=>this.processProvider(o)),this.records.set(bA,ia(void 0,this)),i.has("environment")&&this.records.set(qi,ia(void 0,this));const s=this.records.get(g_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(TA.multi,Te,J.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Xo(this),r=tr(void 0);try{return e()}finally{Xo(t),tr(r)}}get(e,t=Zc,r=J.Default){this.assertNotDestroyed();const i=Xo(this),s=tr(void 0);try{if(!(r&J.SkipSelf)){let a=this.records.get(e);if(void 0===a){const c=function RH(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&Vd(e);a=c&&this.injectableDefInScope(c)?ia(__(e),ph):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&J.Self?gh():this.parent).get(e,t=r&J.Optional&&t===Zc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[ih]=o[ih]||[]).unshift(Ne(e)),i)throw o;return function t$(n,e,t,r){const i=n[ih];throw e[P0]&&i.unshift(e[P0]),n.message=function n$(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Jj,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[ih]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{tr(s),Xo(i)}}resolveInjectorInitializers(){const e=Xo(this),t=tr(void 0);try{const r=this.get(h_.multi,Te,J.Self);for(const i of r)i()}finally{Xo(e),tr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=$s(e=ne(e))?e:ne(e&&e.provide);const r=function MH(n){return p_(n)?ia(void 0,n.useValue):ia(RA(n),ph)}(e);if($s(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ia(void 0,ph,!0),i.factory=()=>Um(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===ph&&(t.value=AH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function xH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ne(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function __(n){const e=Vd(n),t=null!==e?e.factory:Ls(n);if(null!==t)return t;if(n instanceof B)throw new k(204,!1);if(n instanceof Function)return function SH(n){const e=n.length;if(e>0)throw function Jc(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new k(204,!1);const t=function UB(n){const e=n&&(n[Ld]||n[BD]);if(e){const t=function BB(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function RA(n,e,t){let r;if($s(n)){const i=ne(n);return Ls(i)||__(i)}if(p_(n))r=()=>ne(n.useValue);else if(function PA(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Um(n.deps||[]));else if(function MA(n){return!(!n||!n.useExisting)}(n))r=()=>N(ne(n.useExisting));else{const i=ne(n&&(n.useClass||n.provide));if(!function PH(n){return!!n.deps}(n))return Ls(i)||__(i);r=()=>new i(...Um(n.deps))}return r}function ia(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function kH(n){return!!n.\u0275providers}function y_(n,e){for(const t of n)Array.isArray(t)?y_(t,e):kH(t)?y_(t.\u0275providers,e):e(t)}class kA{}class FH{resolveComponentFactory(e){throw function NH(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let cu=(()=>{class n{}return n.NULL=new FH,n})();function VH(){return sa(Pt(),D())}function sa(n,e){return new xn($n(n,e))}let xn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=VH,n})();function LH(n){return n instanceof xn?n.nativeElement:n}class NA{}let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function UH(){const n=D(),t=Hn(Pt().index,n);return(Mn(t)?t:n)[11]}(),n})(),BH=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class Wi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const jH=new Wi("14.3.0"),v_={};function E_(n){return n.ngOriginalError}class Ki{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&E_(e);for(;t&&E_(t);)t=E_(t);return t||null}}function di(n){return n instanceof Function?n():n}function VA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const LA="ng-template";function ZH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==VA(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function UA(n){return 4===n.type&&n.value!==LA}function XH(n,e,t){return e===(4!==n.type||t?n.value:LA)}function e3(n,e,t){let r=4;const i=n.attrs||[],s=function r3(n){for(let e=0;e<n.length;e++)if(h0(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!XH(n,c,t)||""===c&&1===e.length){if(yr(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!ZH(n.attrs,u,t)){if(yr(r))return!1;o=!0}continue}const d=t3(8&r?"class":c,i,UA(n),t);if(-1===d){if(yr(r))return!1;o=!0;continue}if(""!==u){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==VA(f,u,0)||2&r&&u!==h){if(yr(r))return!1;o=!0}}}}else{if(!o&&!yr(r)&&!yr(c))return!1;if(o&&yr(c))continue;o=!1,r=c|1&r}}return yr(r)||o}function yr(n){return 0==(1&n)}function t3(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function s3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function BA(n,e,t=!1){for(let r=0;r<e.length;r++)if(e3(n,e[r],t))return!0;return!1}function jA(n,e){return n?":not("+e.trim()+")":e}function a3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!yr(o)&&(e+=jA(s,i),i=""),r=o,s=s||!yr(r);t++}return""!==i&&(e+=jA(s,i)),e}const ae={};function j(n){$A(Ee(),D(),In()+n,!1)}function $A(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Kd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Qd(e,s,0,t)}Hi(t)}function qA(n,e=null,t=null,r){const i=WA(n,e,t,r);return i.resolveInjectorInitializers(),i}function WA(n,e=null,t=null,r,i=new Set){const s=[t||Te,bH(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new xA(s,e||gh(),r||null,i)}let Rn=(()=>{class n{static create(t,r){if(Array.isArray(t))return qA({name:""},r,t,"");{const i=t.name??"";return qA({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Zc,n.NULL=new DA,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>N(bA)}),n.__NG_ELEMENT_ID__=-1,n})();function b(n,e=J.Default){const t=D();return null===t?N(n,e):I0(Pt(),t,ne(n),e)}function D_(){throw new Error("invalid")}function _h(n,e){return n<<17|e<<2}function vr(n){return n>>17&32767}function A_(n){return 2|n}function hi(n){return(131068&n)>>2}function S_(n,e){return-131069&n|e<<2}function M_(n){return 1|n}function lS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Tm(i),o.contentQueries(2,e[s],s)}}}function Ih(n,e,t,r,i,s,o,a,c,u,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||n&&1024&n[2])&&(d[2]|=1024),JD(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=c||n&&n[12]||null,d[9]=u||n&&n[9]||null,d[6]=s,d[20]=function v$(){return y$++}(),d[21]=l,d[16]=2==e.type?n[16]:d,d}function ca(n,e,t,r,i){let s=n.data[e];if(null===s)s=function V_(n,e,t,r,i){const s=e0(),o=Em(),c=n.data[e]=function H3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,e,t,r,i),function gj(){return ie.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Hc(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pr(s,!0),s}function ua(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function L_(n,e,t){Dm(e);try{const r=n.viewQuery;null!==r&&q_(1,r,t);const i=n.template;null!==i&&dS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lS(n,e),n.staticViewQueries&&q_(2,n.viewQuery,t);const s=n.components;null!==s&&function B3(n,e){for(let t=0;t<e.length;t++)s4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,Am()}}function Eh(n,e,t,r){const i=e[2];if(128!=(128&i)){Dm(e);try{JD(e),function n0(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&dS(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&Kd(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Qd(e,u,0,null),Sm(e,0)}if(function r4(n){for(let e=Qm(n);null!==e;e=Ym(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Im(s,1),i[2]|=512}}}(e),function n4(n){for(let e=Qm(n);null!==e;e=Ym(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];qd(r)&&Eh(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&lS(n,e),o){const u=n.contentCheckHooks;null!==u&&Kd(e,u)}else{const u=n.contentHooks;null!==u&&Qd(e,u,1),Sm(e,1)}!function L3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Hi(~i);else{const s=i,o=t[++r],a=t[++r];mj(o,s),a(2,e[s])}}}finally{Hi(-1)}}(n,e);const a=n.components;null!==a&&function U3(n,e){for(let t=0;t<e.length;t++)i4(n,e[t])}(e,a);const c=n.viewQuery;if(null!==c&&q_(2,c,r),o){const u=n.viewCheckHooks;null!==u&&Kd(e,u)}else{const u=n.viewHooks;null!==u&&Qd(e,u,2),Sm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Im(e[3],-1))}finally{Am()}}}function dS(n,e,t,r,i){const s=In(),o=2&r;try{Hi(-1),o&&e.length>22&&$A(n,e,22,!1),t(r,i)}finally{Hi(s)}}function U_(n,e,t){!XD()||(function K3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||qc(t,e),un(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],u=_r(c);u&&X3(e,t,c);const l=Wc(e,n,a,t);un(l,e),null!==o&&e4(0,a-i,l,c,0,o),u&&(Hn(t.index,e)[8]=l)}}(n,e,t,$n(t,e)),128==(128&t.flags)&&function Q3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function _j(){return ie.lFrame.currentDirectiveIndex}();try{Hi(s);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];wm(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&vS(c,u)}}finally{Hi(-1),wm(o)}}(n,e,t))}function B_(n,e,t=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function fS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=j_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function j_(n,e,t,r,i,s,o,a,c,u){const l=22+r,d=l+i,h=function j3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(l,d),f="function"==typeof u?u():u;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function pS(n,e,t,r){const i=bS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&TS(n).push(r,i.length-1))}function gS(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function mS(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,c=null;for(let u=e.directiveStart;u<r;u++){const l=i[u],d=l.inputs,h=null===s||UA(e)?null:t4(d,s);o.push(h),a=gS(d,u,a),c=gS(l.outputs,u,c)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=c}function Wn(n,e,t,r,i,s,o,a){const c=$n(e,t);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(W_(n,t,l,r,i),Hd(e)&&_S(t,e.index)):3&e.type&&(r=function G3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function _S(n,e){const t=Hn(e,n);16&t[2]||(t[2]|=32)}function $_(n,e,t,r){let i=!1;if(XD()){const s=function Y3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];BA(t,o.selectors,!1)&&(i||(i=[]),eh(qc(t,e),n,o.type),_r(o)?(IS(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,ES(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,c=!1,u=ua(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=Jd(t.mergedAttrs,d.hostAttrs),CS(n,t,e,u,d),Z3(u,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),c=!0),u++}mS(n,t)}o&&function J3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=Jd(t.mergedAttrs,t.attrs),i}function yS(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const c=~e.index;(function W3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=c&&a.push(c),a.push(r,i,o)}}function vS(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function IS(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function Z3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_r(e)&&(t[""]=n)}}function ES(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function CS(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Ls(i.type)),o=new Gc(s,_r(i),b);n.blueprint[r]=o,t[r]=o,yS(n,e,0,r,ua(n,t,i.hostVars,ae),i)}function X3(n,e,t){const r=$n(e,n),i=fS(t),s=n[10],o=Ch(n,Ih(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function Or(n,e,t,r,i,s){const o=$n(n,e);!function H_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?oe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function e4(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let c=0;c<o.length;){const u=o[c++],l=o[c++],d=o[c++];null!==a?r.setInput(t,d,u,l):t[l]=d}}}function t4(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function wS(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function i4(n,e){const t=Hn(e,n);if(qd(t)){const r=t[1];48&t[2]?Eh(r,t,r.template,t[8]):t[5]>0&&G_(t)}}function G_(n){for(let r=Qm(n);null!==r;r=Ym(r))for(let i=10;i<r.length;i++){const s=r[i];if(qd(s))if(512&s[2]){const o=s[1];Eh(o,s,o.template,s[8])}else s[5]>0&&G_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Hn(t[r],n);qd(i)&&i[5]>0&&G_(i)}}function s4(n,e){const t=Hn(e,n),r=t[1];(function o4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),L_(r,t,t[8])}function Ch(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function z_(n){for(;n;){n[2]|=32;const e=iu(n);if(QB(n)&&!e)return n;n=e}return null}function wh(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{Eh(n,e,n.template,t)}catch(o){throw r&&AS(e,o),o}finally{i.end&&i.end()}}function q_(n,e,t){Tm(0),e(n,t)}function bS(n){return n[7]||(n[7]=[])}function TS(n){return n.cleanup||(n.cleanup=[])}function AS(n,e){const t=n[9],r=t?t.get(Ki,null):null;r&&r.handleError(e)}function W_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],c=e[o],u=n.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function fi(n,e,t){const r=zd(e,n);!function Z0(n,e,t){n.setValue(e,t)}(n[11],r,t)}function bh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=om(i,a):2==s&&(r=om(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Th(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Et(s)),mr(s))for(let a=10;a<s.length;a++){const c=s[a],u=c[1].firstChild;null!==u&&Th(c[1],c,u,r)}const o=t.type;if(8&o)Th(n,e,t.child,r);else if(32&o){const a=Km(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=uA(e,t);if(Array.isArray(a))r.push(...a);else{const c=iu(e[16]);Th(c[1],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class uu{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Th(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Xm(e,r),nh(t,r))}this._attachedToViewContainer=!1}eA(this._lView[1],this._lView)}onDestroy(e){pS(this._lView[1],this._lView,null,e)}markForCheck(){z_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){wh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function F$(n,e){su(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class a4 extends uu{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;wh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class K_ extends cu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Me(e);return new lu(t,this.ngModule)}}function SS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class u4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,v_,r);return i!==v_||t===v_?i:this.parentInjector.get(e,t,r)}}class lu extends kA{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function c3(n){return n.map(a3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return SS(this.componentDef.inputs)}get outputs(){return SS(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof qi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new u4(e,s):e,a=o.get(NA,null);if(null===a)throw new k(407,!1);const c=o.get(BH,null),u=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function $3(n,e,t){return n.selectRootElement(e,t===Mr.ShadowDom)}(u,r,this.componentDef.encapsulation):Zm(u,l,function c4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=j_(0,null,null,1,0,null,null,null,null,null),p=Ih(null,f,null,h,null,null,a,u,c,o,null);let g,m;Dm(p);try{const v=function h4(n,e,t,r,i,s){const o=t[1];t[22]=n;const c=ca(o,22,2,"#host",null),u=c.mergedAttrs=e.hostAttrs;null!==u&&(bh(c,u,!0),null!==n&&(Yd(i,n,u),null!==c.classes&&s_(i,n,c.classes),null!==c.styles&&dA(i,n,c.styles)));const l=r.createRenderer(n,e),d=Ih(t,fS(e),null,e.onPush?32:16,t[22],c,r,l,s||null,null,null);return o.firstCreatePass&&(eh(qc(c,t),o,e.type),IS(o,c),ES(c,t.length,1)),Ch(t,d),t[22]=d}(d,this.componentDef,p,a,u);if(d)if(r)Yd(u,d,["ng-version",jH.full]);else{const{attrs:C,classes:y}=function u3(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!yr(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&Yd(u,d,C),y&&y.length>0&&s_(u,d,y.join(" "))}if(m=vm(f,22),void 0!==t){const C=m.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const P=t[y];C.push(null!=P?Array.from(P):null)}}g=function f4(n,e,t,r){const i=t[1],s=function q3(n,e,t){const r=Pt();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),CS(n,r,e,ua(n,e,1,null),t),mS(n,r));const i=Wc(e,n,r.directiveStart,r);un(i,e);const s=$n(r,e);return s&&un(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=Pt();e.contentQueries(1,s,a.directiveStart)}const o=Pt();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Hi(o.index),yS(t[1],o,0,o.directiveStart,o.directiveEnd,e),vS(e,s)),s}(v,this.componentDef,p,[p4]),L_(f,p,null)}finally{Am()}return new d4(this.componentType,g,sa(m,p),p,m)}}class d4 extends class OH{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new a4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;W_(s[1],s,i,e,t),_S(s,this._tNode.index)}}get injector(){return new Wo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function p4(){const n=Pt();Wd(D()[1],n)}function Pe(n){let e=function MS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(_r(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Q_(n.inputs),o.declaredInputs=Q_(n.declaredInputs),o.outputs=Q_(n.outputs);const a=i.hostBindings;a&&y4(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&m4(n,c),u&&_4(n,u),sm(n.inputs,i.inputs),sm(n.declaredInputs,i.declaredInputs),sm(n.outputs,i.outputs),_r(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Pe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function g4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Jd(i.hostAttrs,t=Jd(t,i.hostAttrs))}}(r)}function Q_(n){return n===Lo?{}:n===Te?[]:n}function m4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function _4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function y4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Dh=null;function Hs(){if(!Dh){const n=Le.Symbol;if(n&&n.iterator)Dh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Dh=r)}}}return Dh}function du(n){return!!Y_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Hs()in n)}function Y_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nr(n,e,t){return n[e]=t}function ln(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Gs(n,e,t,r){const i=ln(n,e,t);return ln(n,e+1,r)||i}function Kn(n,e,t,r){const i=D();return ln(i,Go(),e)&&(Ee(),Or(Xe(),i,n,e,t,r)),Kn}function da(n,e,t,r){return ln(n,Go(),t)?e+oe(t)+r:ae}function ha(n,e,t,r,i,s){const a=Gs(n,function ai(){return ie.lFrame.bindingIndex}(),t,i);return ci(2),a?e+oe(t)+r+oe(i)+s:ae}function Ce(n,e,t,r,i,s,o,a){const c=D(),u=Ee(),l=n+22,d=u.firstCreatePass?function D4(n,e,t,r,i,s,o,a,c){const u=e.consts,l=ca(e,n,4,o||null,$i(u,a));$_(e,t,l,$i(u,c)),Wd(e,l);const d=l.tViews=j_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,t,r,i,s,o):u.data[l];Pr(d,!1);const h=c[11].createComment("");ch(u,c,h,d),un(h,c),Ch(c,c[l]=wS(h,c,h,d)),Gd(d)&&U_(u,c,d),null!=o&&B_(c,d,a)}function fu(n){return Ho(function pj(){return ie.lFrame.contextLView}(),22+n)}function Q(n,e,t){const r=D();return ln(r,Go(),e)&&Wn(Ee(),Xe(),r,n,e,r[11],t,!1),Q}function J_(n,e,t,r,i){const o=i?"class":"style";W_(n,t,e.inputs[o],o,r)}function w(n,e,t,r){const i=D(),s=Ee(),o=22+n,a=i[11],c=i[o]=Zm(a,e,function Tj(){return ie.lFrame.currentNamespace}()),u=s.firstCreatePass?function S4(n,e,t,r,i,s,o){const a=e.consts,u=ca(e,n,2,i,$i(a,s));return $_(e,t,u,$i(a,o)),null!==u.attrs&&bh(u,u.attrs,!1),null!==u.mergedAttrs&&bh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,t,r):s.data[o];Pr(u,!0);const l=u.mergedAttrs;null!==l&&Yd(a,c,l);const d=u.classes;null!==d&&s_(a,c,d);const h=u.styles;return null!==h&&dA(a,c,h),64!=(64&u.flags)&&ch(s,i,c,u),0===function uj(){return ie.lFrame.elementDepthCount}()&&un(c,i),function lj(){ie.lFrame.elementDepthCount++}(),Gd(u)&&(U_(s,i,u),function hS(n,e,t){if(pm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,u,i)),null!==r&&B_(i,u),w}function T(){let n=Pt();Em()?function Cm(){ie.lFrame.isParent=!1}():(n=n.parent,Pr(n,!1));const e=n;!function dj(){ie.lFrame.elementDepthCount--}();const t=Ee();return t.firstCreatePass&&(Wd(t,n),pm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Pj(n){return 0!=(16&n.flags)}(e)&&J_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function xj(n){return 0!=(32&n.flags)}(e)&&J_(t,e,D(),e.stylesWithoutHost,!1),T}function He(n,e,t,r){return w(n,e,t,r),T(),He}function Ct(){return D()}function pu(n){return!!n&&"function"==typeof n.then}const ey=function BS(n){return!!n&&"function"==typeof n.subscribe};function ee(n,e,t,r){const i=D(),s=Ee(),o=Pt();return function $S(n,e,t,r,i,s,o,a){const c=Gd(r),l=n.firstCreatePass&&TS(n),d=e[8],h=bS(e);let f=!0;if(3&r.type||a){const m=$n(r,e),v=a?a(m):m,C=h.length,y=a?H=>a(Et(H[r.index])):r.index;let P=null;if(!a&&c&&(P=function P4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=GS(r,e,d,s,!1);const H=t.listen(v,i,s);h.push(s,H),l&&l.push(i,y,C,C+1)}}else s=GS(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const K=e[g[v]][g[v+1]].subscribe(s),Se=h.length;h.push(s,K),l&&l.push(i,r.index,Se,-(Se+1))}}}(s,i,i[11],o,n,e,0,r),ee}function HS(n,e,t,r){try{return!1!==t(r)}catch(i){return AS(n,i),!1}}function GS(n,e,t,r,i){return function s(o){if(o===Function)return r;z_(2&n.flags?Hn(n.index,e):e);let c=HS(e,0,r,o),u=s.__ngNextListenerFn__;for(;u;)c=HS(e,0,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function ce(n=1){return function vj(n){return(ie.lFrame.contextLView=function Ij(n,e){for(;n>0;)e=e[15],n--;return e}(n,ie.lFrame.contextLView))[8]}(n)}function zs(n,e,t){return ty(n,"",e,"",t),zs}function ty(n,e,t,r,i){const s=D(),o=da(s,e,t,r);return o!==ae&&Wn(Ee(),Xe(),s,n,o,s[11],i,!1),ty}function XS(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?vr(s):hi(s),c=!1;for(;0!==a&&(!1===c||o);){const l=n[a+1];F4(n[a],e)&&(c=!0,n[a+1]=r?M_(l):A_(l)),a=r?vr(l):hi(l)}c&&(n[t+1]=r?A_(s):M_(s))}function F4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Zo(n,e)>=0}const Rt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eM(n){return n.substring(Rt.key,Rt.keyEnd)}function tM(n,e){const t=Rt.textEnd;return t===e?-1:(e=Rt.keyEnd=function B4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Rt.key=e,t),va(n,e,t))}function va(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ny(n,e,t){return Ir(n,e,t,!1),ny}function Sh(n,e){return Ir(n,e,null,!0),Sh}function Vr(n,e){for(let t=function L4(n){return function rM(n){Rt.key=0,Rt.keyEnd=0,Rt.value=0,Rt.valueEnd=0,Rt.textEnd=n.length}(n),tM(n,va(n,0,Rt.textEnd))}(e);t>=0;t=tM(e,t))zn(n,eM(e),!0)}function Ir(n,e,t,r){const i=D(),s=Ee(),o=ci(2);s.firstUpdatePass&&cM(s,n,o,r),e!==ae&&ln(i,o,e)&&lM(s,s.data[In()],i,i[11],n,i[o+1]=function Y4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(qn(n)))),n}(e,t),r,o)}function Er(n,e,t,r){const i=Ee(),s=ci(2);i.firstUpdatePass&&cM(i,null,s,r);const o=D();if(t!==ae&&ln(o,s,t)){const a=i.data[In()];if(hM(a,r)&&!aM(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=om(c,t||"")),J_(i,a,o,t,r)}else!function Q4(n,e,t,r,i,s,o,a){i===ae&&(i=Te);let c=0,u=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let g,p=null;l===d?(c+=2,u+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(c+=2,p=l):(u+=2,p=d,g=f),null!==p&&lM(n,e,t,r,p,g,o,a),l=c<i.length?i[c]:null,d=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function K4(n,e,t){if(null==t||""===t)return Te;const r=[],i=qn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}function aM(n,e){return e>=n.expandoStartIndex}function cM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[In()],o=aM(n,t);hM(s,r)&&null===e&&!o&&(e=!1),e=function G4(n,e,t,r){const i=function bm(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=gu(t=ry(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=ry(i,n,e,t,r),null===s){let c=function z4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==hi(r))return n[vr(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=ry(null,n,e,c[1],r),c=gu(c,e.attrs,r),function q4(n,e,t,r){n[vr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function W4(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=gu(r,n[s].hostAttrs,t);return gu(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function O4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vr(o),c=hi(o);n[r]=t;let l,u=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||Zo(d,l)>0)&&(u=!0)}else l=t;if(i)if(0!==c){const h=vr(n[a+1]);n[r+1]=_h(h,a),0!==h&&(n[h+1]=S_(n[h+1],r)),n[a+1]=function S3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=_h(a,0),0!==a&&(n[a+1]=S_(n[a+1],r)),a=r;else n[r+1]=_h(c,0),0===a?a=r:n[c+1]=S_(n[c+1],r),c=r;u&&(n[r+1]=A_(n[r+1])),XS(n,l,r,!0),XS(n,l,r,!1),function N4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Zo(s,e)>=0&&(t[r+1]=M_(t[r+1]))}(e,l,n,r,s),o=_h(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function ry(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=gu(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function gu(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zn(n,o,!!t||e[++s]))}return void 0===n?null:n}function lM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,u=c[a+1];Mh(function nS(n){return 1==(1&n)}(u)?dM(c,e,t,i,hi(u),o):void 0)||(Mh(s)||function tS(n){return 2==(2&n)}(u)&&(s=dM(c,null,t,i,a,o)),function q$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Pn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),n.setStyle(t,r,i,s))}}(r,o,zd(In(),t),i,s))}function dM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=t[i+1];h===ae&&(h=d?Te:void 0);let f=d?Fm(h,r):l===r?h:void 0;if(u&&!Mh(f)&&(f=Fm(c,r)),Mh(f)&&(a=f,o))return a;const p=n[i+1];i=o?vr(p):hi(p)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Fm(c,r))}return a}function Mh(n){return void 0!==n}function hM(n,e){return 0!=(n.flags&(e?16:32))}function x(n,e=""){const t=D(),r=Ee(),i=n+22,s=r.firstCreatePass?ca(r,i,1,e,null):r.data[i],o=t[i]=function Jm(n,e){return n.createText(e)}(t[11],e);ch(r,t,o,s),Pr(s,!1)}function Lr(n){return kn("",n,""),Lr}function kn(n,e,t){const r=D(),i=da(r,n,e,t);return i!==ae&&fi(r,In(),i),kn}function Ph(n,e,t,r,i){const s=D(),o=ha(s,n,e,t,r,i);return o!==ae&&fi(s,In(),o),Ph}const qs=void 0;var gG=["en",[["a","p"],["AM","PM"],qs],[["AM","PM"],qs,qs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qs,"{1} 'at' {0}",qs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pG(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Ia={};function Cn(n){const e=function mG(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=kM(e);if(t)return t;const r=e.split("-")[0];if(t=kM(r),t)return t;if("en"===r)return gG;throw new k(701,!1)}function kM(n){return n in Ia||(Ia[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),Ia[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const Ea="en-US";let OM=Ea;function oy(n,e,t,r,i){if(n=ne(n),Array.isArray(n))for(let s=0;s<n.length;s++)oy(n[s],e,t,r,i);else{const s=Ee(),o=D();let a=$s(n)?n:ne(n.provide),c=RA(n);const u=Pt(),l=1048575&u.providerIndexes,d=u.directiveStart,h=u.providerIndexes>>20;if($s(n)||!n.multi){const f=new Gc(c,i,b),p=cy(a,e,i?l:l+h,d);-1===p?(eh(qc(u,o),s,a),ay(s,n,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=cy(a,e,l+h,d),p=cy(a,e,l,l+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){eh(qc(u,o),s,a);const v=function f5(n,e,t,r,i){const s=new Gc(n,t,b);return s.multi=[],s.index=e,s.componentProviders=0,sP(s,i,r&&!t),s}(i?h5:d5,t.length,i,r,c);!i&&m&&(t[p].providerFactory=v),ay(s,n,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),t.push(v),o.push(v)}else ay(s,n,f>-1?f:p,sP(t[i?p:f],c,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function ay(n,e,t,r){const i=$s(e),s=function DH(n){return!!n.useClass}(e);if(i||s){const c=(s?ne(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(t);-1===l?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function sP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function cy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function d5(n,e,t,r){return uy(this.multi,[])}function h5(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Wc(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),uy(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],uy(i,s);return s}function uy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ye(n,e=[]){return t=>{t.providersResolver=(r,i)=>function l5(n,e,t){const r=Ee();if(r.firstCreatePass){const i=_r(n);oy(t,r.data,r.blueprint,i,!0),oy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Ws{}class oP{}class aP extends Ws{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new K_(this);const r=Bn(e);this._bootstrapComponents=di(r.bootstrap),this._r3Injector=WA(e,t,[{provide:Ws,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ly extends oP{constructor(e){super(),this.moduleType=e}create(e){return new aP(this.moduleType,e)}}class g5 extends Ws{constructor(e,t,r){super(),this.componentFactoryResolver=new K_(this),this.instance=null;const i=new xA([...e,{provide:Ws,useValue:this},{provide:cu,useValue:this.componentFactoryResolver}],t||gh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Nh(n,e,t=null){return new g5(n,e,t).injector}let m5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=AA(0,t.type),i=r.length>0?Nh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(N(qi))}),n})();function cP(n){n.getStandaloneInjector=e=>e.get(m5).getOrCreateStandaloneInjector(n)}function hy(n,e,t,r){return mP(D(),vn(),n,e,t,r)}function gP(n,e,t,r,i,s,o,a){const c=vn()+n,u=D(),l=function sr(n,e,t,r,i,s){const o=Gs(n,e,t,r);return Gs(n,e+2,i,s)||o}(u,c,t,r,i,s);return ln(u,c+4,o)||l?Nr(u,c+5,a?e.call(a,t,r,i,s,o):e(t,r,i,s,o)):function hu(n,e){return n[e]}(u,c+5)}function Eu(n,e){const t=n[e];return t===ae?void 0:t}function mP(n,e,t,r,i,s){const o=e+t;return ln(n,o,i)?Nr(n,o+1,s?r.call(s,i):r(i)):Eu(n,o+1)}function Ks(n,e){const t=Ee();let r;const i=n+22;t.firstCreatePass?(r=function k5(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Ls(r.type)),o=tr(b);try{const a=Zd(!1),c=s();return Zd(a),function A4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,c),c}finally{tr(o)}}function fy(n,e,t){const r=n+22,i=D(),s=Ho(i,r);return Cu(i,r)?mP(i,vn(),e,s.transform,t,s):s.transform(t)}function Fh(n,e,t,r){const i=n+22,s=D(),o=Ho(s,i);return Cu(s,i)?function _P(n,e,t,r,i,s,o){const a=e+t;return Gs(n,a,i,s)?Nr(n,a+2,o?r.call(o,i,s):r(i,s)):Eu(n,a+2)}(s,vn(),e,o.transform,t,r,o):o.transform(t,r)}function EP(n,e,t){const r=n+22,i=D(),s=Ho(i,r);return Cu(i,r)?function IP(n,e,t,r,i,s){let o=e+t,a=!1;for(let c=0;c<i.length;c++)ln(n,o++,i[c])&&(a=!0);return a?Nr(n,o,r.apply(s,i)):Eu(n,o)}(i,vn(),e,s.transform,t,s):s.transform.apply(s,t)}function Cu(n,e){return n[1].data[e].pure}function py(n){return e=>{setTimeout(n,void 0,e)}}const et=class F5 extends er{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=py(s),i&&(i=py(i)),o&&(o=py(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Wt&&e.add(a),a}};function V5(){return this._results[Hs()]()}class gy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Hs(),r=gy.prototype;r[t]||(r[t]=V5)}get changes(){return this._changes||(this._changes=new et)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Gn(e);(this._changesDetected=!function jj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=B5,n})();const L5=pi,U5=class extends L5{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=Ih(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),L_(r,i,e),new uu(i)}};function B5(){return Vh(Pt(),D())}function Vh(n,e){return 4&n.type?new U5(e,n,sa(n,e)):null}let Cr=(()=>{class n{}return n.__NG_ELEMENT_ID__=j5,n})();function j5(){return bP(Pt(),D())}const $5=Cr,CP=class extends $5{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Wo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Xd(this._hostTNode,this._hostLView);if(g0(e)){const t=qo(e,this._hostLView),r=zo(e);return new Wo(t[1].data[r+8],t)}return new Wo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=wP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Yc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const c=o?e:new lu(Me(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const h=(o?u:this.parentInjector).get(qi,null);h&&(s=h)}const l=c.create(u,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function cj(n){return mr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new CP(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function L$(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],D0(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function U$(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=n_(s,o),c=r[11],u=ah(c,o[7]);return null!==u&&function N$(n,e,t,r,i,s){r[0]=i,r[6]=e,su(n,r,t,1,i,s)}(i,o[6],c,r,u,a),e.attachToViewContainerRef(),D0(my(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=wP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Xm(this._lContainer,t);r&&(nh(my(this._lContainer),t),eA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Xm(this._lContainer,t);return r&&null!=nh(my(this._lContainer),t)?new uu(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function wP(n){return n[8]}function my(n){return n[8]||(n[8]=[])}function bP(n,e){let t;const r=e[n.index];if(mr(r))t=r;else{let i;if(8&n.type)i=Et(r);else{const s=e[11];i=s.createComment("");const o=$n(n,e);Us(s,ah(s,o),i,function H$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=wS(r,e,i,n),Ch(e,t)}return new CP(t,n,e)}class _y{constructor(e){this.queryList=e,this.matches=null}clone(){return new _y(this.queryList)}setDirty(){this.queryList.setDirty()}}class yy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new yy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==MP(e,t).matches&&this.queries[t].setDirty()}}class TP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class vy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new vy(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Iy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Iy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,z5(t,s)),this.matchTNodeWithReadOption(e,t,th(t,e,s,!1,!1))}else r===pi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,th(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xn||i===Cr||i===pi&&4&t.type)this.addMatch(t.index,-2);else{const s=th(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function z5(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function W5(n,e,t,r){return-1===t?function q5(n,e){return 11&n.type?sa(n,e):4&n.type?Vh(n,e):null}(e,n):-2===t?function K5(n,e,t){return t===xn?sa(e,n):t===pi?Vh(e,n):t===Cr?bP(e,n):void 0}(n,e,r):Wc(n,n[1],t,e)}function DP(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:W5(e,s[u],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function Ey(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=DP(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],l=e[-c];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&Ey(h[1],h,u,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];Ey(f[1],f,u,r)}}}}}return r}function Ca(n){const e=D(),t=Ee(),r=s0();Tm(r+1);const i=MP(t,r);if(n.dirty&&function aj(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Ey(t,e,r,[]):DP(t,e,i,r);n.reset(s,LH),n.notifyOnChanges()}return!0}return!1}function Lh(n,e,t){const r=Ee();r.firstCreatePass&&(function SP(n,e,t){null===n.queries&&(n.queries=new vy),n.queries.track(new Iy(e,t))}(r,new TP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function AP(n,e,t){const r=new gy(4==(4&t));pS(n,e,r,r.destroy),null===e[19]&&(e[19]=new yy),e[19].queries.push(new _y(r))}(r,D(),e)}function wa(){return function Q5(n,e){return n[19].queries[e].queryList}(D(),s0())}function MP(n,e){return n.queries.getByIndex(e)}function wu(n,e){return Vh(n,e)}function Bh(...n){}const jh=new B("Application Initializer");let $h=(()=>{class n{constructor(t){this.appInits=t,this.resolve=Bh,this.reject=Bh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(pu(s))t.push(s);else if(ey(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(N(jh,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tu=new B("AppId",{providedIn:"root",factory:function KP(){return`${Ay()}${Ay()}${Ay()}`}});function Ay(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const QP=new B("Platform Initializer"),Hh=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),YP=new B("appBootstrapListener");let mz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ur=new B("LocaleId",{providedIn:"root",factory:()=>Qe(Ur,J.Optional|J.SkipSelf)||function _z(){return typeof $localize<"u"&&$localize.locale||Ea}()});class vz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Sy=(()=>{class n{compileModuleSync(t){return new ly(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=di(Bn(t).declarations).reduce((o,a)=>{const c=Me(a);return c&&o.push(new lu(c)),o},[]);return new vz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cz=(()=>Promise.resolve(0))();function My(n){typeof Zone>"u"?Cz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class kt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new et(!1),this.onMicrotaskEmpty=new et(!1),this.onStable=new et(!1),this.onError=new et(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function wz(){let n=Le.requestAnimationFrame,e=Le.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Dz(n){const e=()=>{!function Tz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xy(n),n.isCheckStableRunning=!0,Py(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return XP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),ex(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return XP(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),ex(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,xy(n),Py(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kt.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(kt.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,bz,Bh,Bh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const bz={};function Py(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function XP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ex(n){n._nesting--,Py(n)}class Az{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new et,this.onMicrotaskEmpty=new et,this.onStable=new et,this.onError=new et}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const tx=new B(""),Gh=new B("");let Oy,Ry=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Oy||(function Sz(n){Oy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kt.assertNotInAngularZone(),My(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())My(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(N(kt),N(ky),N(Gh))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),ky=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Oy?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ji=null;const nx=new B("AllowMultipleToken"),Ny=new B("PlatformDestroyListeners");class rx{constructor(e,t){this.name=e,this.token=t}}function sx(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Fy();if(!o||o.injector.get(nx,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function xz(n){if(Ji&&!Ji.get(nx,!1))throw new k(400,!1);Ji=n;const e=n.get(ax);(function ix(n){const e=n.get(QP,null);e&&e.forEach(t=>t())})(n)}(function ox(n=[],e){return Rn.create({name:e,providers:[{provide:g_,useValue:"platform"},{provide:Ny,useValue:new Set([()=>Ji=null])},...n]})}(a,r))}return function kz(n){const e=Fy();if(!e)throw new k(401,!1);return e}()}}function Fy(){return Ji?.get(ax)??null}let ax=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function ux(n,e){let t;return t="noop"===n?new Az:("zone.js"===n?void 0:n)||new kt(e),t}(r?.ngZone,function cx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:kt,useValue:i}];return i.run(()=>{const o=Rn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),c=a.injector.get(Ki,null);if(!c)throw new k(402,!1);return i.runOutsideAngular(()=>{const u=i.onError.subscribe({next:l=>{c.handleError(l)}});a.onDestroy(()=>{qh(this._modules,a),u.unsubscribe()})}),function lx(n,e,t){try{const r=t();return pu(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(c,i,()=>{const u=a.injector.get($h);return u.runInitializers(),u.donePromise.then(()=>(function NM(n){Un(n,"Expected localeId to be defined"),"string"==typeof n&&(OM=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ur,Ea)||Ea),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=dx({},r);return function Mz(n,e,t){const r=new ly(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(zh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Ny,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(N(Rn))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function dx(n,e){return Array.isArray(e)?e.reduce(dx,n):{...n,...e}}let zh=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ht(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ht(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{kt.assertNotInAngularZone(),My(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const u=this._zone.onUnstable.subscribe(()=>{kt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),u.unsubscribe()}});this.isStable=function xB(...n){const e=Vc(n),t=function bB(n,e){return"number"==typeof rm(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?fr(r[0]):Vo(t)(It(r,e)):ii}(s,o.pipe(function VD(n={}){const{connector:e=(()=>new er),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=c=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Lt((g,m)=>{u++,!d&&!l&&h();const v=c=c??e();m.add(()=>{u--,0===u&&!d&&!l&&(a=im(p,i))}),v.subscribe(m),!o&&u>0&&(o=new Fc({next:C=>v.next(C),error:C=>{d=!0,h(),a=im(f,t,C),v.error(C)},complete:()=>{l=!0,h(),a=im(f,r),v.complete()}}),fr(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof kA;if(!this._injector.get($h).done)throw!i&&function Uo(n){const e=Me(n)||_n(n)||yn(n);return null!==e&&e.standalone}(t),new k(405,false);let o;o=i?t:this._injector.get(cu).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Pz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ws),u=o.create(Rn.NULL,[],r||o.selector,a),l=u.location.nativeElement,d=u.injector.get(tx,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),qh(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;qh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(YP,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>qh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(N(kt),N(qi),N(Ki))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let fx=!0,px=!1,Wh=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vz,n})();function Vz(n){return function Lz(n,e,t){if(Hd(n)&&!t){const r=Hn(n.index,e);return new uu(r,r)}return 47&n.type?new uu(e[16],e):null}(Pt(),D(),16==(16&n))}class yx{constructor(){}supports(e){return du(e)}create(e){return new Gz(e)}}const Hz=(n,e)=>e;class Gz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Hz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Ix(r,i,s)?t:r,a=Ix(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<u&&(s[h]=f+1)}s[o.previousIndex]=l-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!du(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function w4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Hs()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new zz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class zz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class vx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new qz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ix(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Ex{constructor(){}supports(e){return e instanceof Map||Y_(e)}create(){return new Wz}}class Wz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Y_(e)))throw new k(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Kz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Kz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cx(){return new Yh([new yx])}let Yh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Cx()),deps:[[n,new ea,new zi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:Cx}),n})();function wx(){return new Du([new Ex])}let Du=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||wx()),deps:[[n,new ea,new zi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new k(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:wx}),n})();const Jz=sx(null,"core",[]);let Zz=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(N(zh))},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({}),n})(),Jh=null;function Br(){return Jh}const tt=new B("DocumentToken");let jy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return function n6(){return N(bx)}()},providedIn:"platform"}),n})();const r6=new B("Location Initialized");let bx=(()=>{class n extends jy{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Br().getBaseHref(this._doc)}onPopState(t){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Br().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Tx()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Tx()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(N(tt))},n.\u0275prov=z({token:n,factory:function(){return function i6(){return new bx(N(tt))}()},providedIn:"platform"}),n})();function Tx(){return!!window.history.pushState}function $y(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Dx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function _i(n){return n&&"?"!==n[0]?"?"+n:n}let Zi=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return Qe(Sx)},providedIn:"root"}),n})();const Ax=new B("appBaseHref");let Sx=(()=>{class n extends Zi{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Qe(tt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return $y(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+_i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+_i(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(jy),N(Ax,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mx=(()=>{class n extends Zi{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=$y(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+_i(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(jy),N(Ax,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Hy=(()=>{class n{constructor(t){this._subject=new et,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Dx(Px(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+_i(r))}normalize(t){return n.stripTrailingSlash(function o6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Px(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+_i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=_i,n.joinWithSlash=$y,n.stripTrailingSlash=Dx,n.\u0275fac=function(t){return new(t||n)(N(Zi))},n.\u0275prov=z({token:n,factory:function(){return function s6(){return new Hy(N(Zi))}()},providedIn:"root"}),n})();function Px(n){return n.replace(/\/index.html$/,"")}var ft=(()=>((ft=ft||{})[ft.Format=0]="Format",ft[ft.Standalone=1]="Standalone",ft))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.Medium=1]="Medium",nt[nt.Long=2]="Long",nt[nt.Full=3]="Full",nt))(),Y=(()=>((Y=Y||{})[Y.Decimal=0]="Decimal",Y[Y.Group=1]="Group",Y[Y.List=2]="List",Y[Y.PercentSign=3]="PercentSign",Y[Y.PlusSign=4]="PlusSign",Y[Y.MinusSign=5]="MinusSign",Y[Y.Exponential=6]="Exponential",Y[Y.SuperscriptingExponent=7]="SuperscriptingExponent",Y[Y.PerMille=8]="PerMille",Y[Y.Infinity=9]="Infinity",Y[Y.NaN=10]="NaN",Y[Y.TimeSeparator=11]="TimeSeparator",Y[Y.CurrencyDecimal=12]="CurrencyDecimal",Y[Y.CurrencyGroup=13]="CurrencyGroup",Y))();function Zh(n,e){return ar(Cn(n)[U.DateFormat],e)}function Xh(n,e){return ar(Cn(n)[U.TimeFormat],e)}function ef(n,e){return ar(Cn(n)[U.DateTimeFormat],e)}function or(n,e){const t=Cn(n),r=t[U.NumberSymbols][e];if(typeof r>"u"){if(e===Y.CurrencyDecimal)return t[U.NumberSymbols][Y.Decimal];if(e===Y.CurrencyGroup)return t[U.NumberSymbols][Y.Group]}return r}function Rx(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ar(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function zy(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const v6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Au={},I6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ot=(()=>((Ot=Ot||{})[Ot.Short=0]="Short",Ot[Ot.ShortGMT=1]="ShortGMT",Ot[Ot.Long=2]="Long",Ot[Ot.Extended=3]="Extended",Ot))(),te=(()=>((te=te||{})[te.FullYear=0]="FullYear",te[te.Month=1]="Month",te[te.Date=2]="Date",te[te.Hours=3]="Hours",te[te.Minutes=4]="Minutes",te[te.Seconds=5]="Seconds",te[te.FractionalSeconds=6]="FractionalSeconds",te[te.Day=7]="Day",te))(),fe=(()=>((fe=fe||{})[fe.DayPeriods=0]="DayPeriods",fe[fe.Days=1]="Days",fe[fe.Months=2]="Months",fe[fe.Eras=3]="Eras",fe))();function E6(n,e,t,r){let i=function P6(n){if(Nx(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return tf(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(v6))return function x6(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,c,u),e}(r)}const e=new Date(n);if(!Nx(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=yi(t,e)||e;let a,o=[];for(;e;){if(a=I6.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let c=i.getTimezoneOffset();r&&(c=Ox(r,c),i=function M6(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function S6(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Ox(e,i)-i))}(i,r,!0));let u="";return o.forEach(l=>{const d=function A6(n){if(Wy[n])return Wy[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(fe.Eras,me.Abbreviated);break;case"GGGG":e=Be(fe.Eras,me.Wide);break;case"GGGGG":e=Be(fe.Eras,me.Narrow);break;case"y":e=bt(te.FullYear,1,0,!1,!0);break;case"yy":e=bt(te.FullYear,2,0,!0,!0);break;case"yyy":e=bt(te.FullYear,3,0,!1,!0);break;case"yyyy":e=bt(te.FullYear,4,0,!1,!0);break;case"Y":e=af(1);break;case"YY":e=af(2,!0);break;case"YYY":e=af(3);break;case"YYYY":e=af(4);break;case"M":case"L":e=bt(te.Month,1,1);break;case"MM":case"LL":e=bt(te.Month,2,1);break;case"MMM":e=Be(fe.Months,me.Abbreviated);break;case"MMMM":e=Be(fe.Months,me.Wide);break;case"MMMMM":e=Be(fe.Months,me.Narrow);break;case"LLL":e=Be(fe.Months,me.Abbreviated,ft.Standalone);break;case"LLLL":e=Be(fe.Months,me.Wide,ft.Standalone);break;case"LLLLL":e=Be(fe.Months,me.Narrow,ft.Standalone);break;case"w":e=qy(1);break;case"ww":e=qy(2);break;case"W":e=qy(1,!0);break;case"d":e=bt(te.Date,1);break;case"dd":e=bt(te.Date,2);break;case"c":case"cc":e=bt(te.Day,1);break;case"ccc":e=Be(fe.Days,me.Abbreviated,ft.Standalone);break;case"cccc":e=Be(fe.Days,me.Wide,ft.Standalone);break;case"ccccc":e=Be(fe.Days,me.Narrow,ft.Standalone);break;case"cccccc":e=Be(fe.Days,me.Short,ft.Standalone);break;case"E":case"EE":case"EEE":e=Be(fe.Days,me.Abbreviated);break;case"EEEE":e=Be(fe.Days,me.Wide);break;case"EEEEE":e=Be(fe.Days,me.Narrow);break;case"EEEEEE":e=Be(fe.Days,me.Short);break;case"a":case"aa":case"aaa":e=Be(fe.DayPeriods,me.Abbreviated);break;case"aaaa":e=Be(fe.DayPeriods,me.Wide);break;case"aaaaa":e=Be(fe.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":e=Be(fe.DayPeriods,me.Abbreviated,ft.Standalone,!0);break;case"bbbb":e=Be(fe.DayPeriods,me.Wide,ft.Standalone,!0);break;case"bbbbb":e=Be(fe.DayPeriods,me.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(fe.DayPeriods,me.Abbreviated,ft.Format,!0);break;case"BBBB":e=Be(fe.DayPeriods,me.Wide,ft.Format,!0);break;case"BBBBB":e=Be(fe.DayPeriods,me.Narrow,ft.Format,!0);break;case"h":e=bt(te.Hours,1,-12);break;case"hh":e=bt(te.Hours,2,-12);break;case"H":e=bt(te.Hours,1);break;case"HH":e=bt(te.Hours,2);break;case"m":e=bt(te.Minutes,1);break;case"mm":e=bt(te.Minutes,2);break;case"s":e=bt(te.Seconds,1);break;case"ss":e=bt(te.Seconds,2);break;case"S":e=bt(te.FractionalSeconds,1);break;case"SS":e=bt(te.FractionalSeconds,2);break;case"SSS":e=bt(te.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=rf(Ot.Short);break;case"ZZZZZ":e=rf(Ot.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=rf(Ot.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=rf(Ot.Long);break;default:return null}return Wy[n]=e,e}(l);u+=d?d(i,t,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function tf(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function yi(n,e){const t=function a6(n){return Cn(n)[U.LocaleId]}(n);if(Au[t]=Au[t]||{},Au[t][e])return Au[t][e];let r="";switch(e){case"shortDate":r=Zh(n,nt.Short);break;case"mediumDate":r=Zh(n,nt.Medium);break;case"longDate":r=Zh(n,nt.Long);break;case"fullDate":r=Zh(n,nt.Full);break;case"shortTime":r=Xh(n,nt.Short);break;case"mediumTime":r=Xh(n,nt.Medium);break;case"longTime":r=Xh(n,nt.Long);break;case"fullTime":r=Xh(n,nt.Full);break;case"short":const i=yi(n,"shortTime"),s=yi(n,"shortDate");r=nf(ef(n,nt.Short),[i,s]);break;case"medium":const o=yi(n,"mediumTime"),a=yi(n,"mediumDate");r=nf(ef(n,nt.Medium),[o,a]);break;case"long":const c=yi(n,"longTime"),u=yi(n,"longDate");r=nf(ef(n,nt.Long),[c,u]);break;case"full":const l=yi(n,"fullTime"),d=yi(n,"fullDate");r=nf(ef(n,nt.Full),[l,d])}return r&&(Au[t][e]=r),r}function nf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function br(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function bt(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function w6(n,e){switch(n){case te.FullYear:return e.getFullYear();case te.Month:return e.getMonth();case te.Date:return e.getDate();case te.Hours:return e.getHours();case te.Minutes:return e.getMinutes();case te.Seconds:return e.getSeconds();case te.FractionalSeconds:return e.getMilliseconds();case te.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===te.Hours)0===a&&-12===t&&(a=12);else if(n===te.FractionalSeconds)return function C6(n,e){return br(n,3).substring(0,e)}(a,e);const c=or(o,Y.MinusSign);return br(a,e,c,r,i)}}function Be(n,e,t=ft.Format,r=!1){return function(i,s){return function b6(n,e,t,r,i,s){switch(t){case fe.Months:return function l6(n,e,t){const r=Cn(n),s=ar([r[U.MonthsFormat],r[U.MonthsStandalone]],e);return ar(s,t)}(e,i,r)[n.getMonth()];case fe.Days:return function u6(n,e,t){const r=Cn(n),s=ar([r[U.DaysFormat],r[U.DaysStandalone]],e);return ar(s,t)}(e,i,r)[n.getDay()];case fe.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const u=function p6(n){const e=Cn(n);return Rx(e),(e[U.ExtraData][2]||[]).map(r=>"string"==typeof r?zy(r):[zy(r[0]),zy(r[1])])}(e),l=function g6(n,e,t){const r=Cn(n);Rx(r);const s=ar([r[U.ExtraData][0],r[U.ExtraData][1]],e)||[];return ar(s,t)||[]}(e,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function c6(n,e,t){const r=Cn(n),s=ar([r[U.DayPeriodsFormat],r[U.DayPeriodsStandalone]],e);return ar(s,t)}(e,i,r)[o<12?0:1];case fe.Eras:return function d6(n,e){return ar(Cn(n)[U.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function rf(n){return function(e,t,r){const i=-1*r,s=or(t,Y.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case Ot.Short:return(i>=0?"+":"")+br(o,2,s)+br(Math.abs(i%60),2,s);case Ot.ShortGMT:return"GMT"+(i>=0?"+":"")+br(o,1,s);case Ot.Long:return"GMT"+(i>=0?"+":"")+br(o,2,s)+":"+br(Math.abs(i%60),2,s);case Ot.Extended:return 0===r?"Z":(i>=0?"+":"")+br(o,2,s)+":"+br(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function kx(n){return tf(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function qy(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=kx(t),o=function D6(n){const e=tf(n,0,1).getDay();return tf(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return br(i,n,or(r,Y.MinusSign))}}function af(n,e=!1){return function(t,r){return br(kx(t).getFullYear(),n,or(r,Y.MinusSign),e)}}const Wy={};function Ox(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Nx(n){return n instanceof Date&&!isNaN(n.valueOf())}function Ux(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Ys=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(du(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ne(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(b(Yh),b(Du),b(xn),b(kr))},n.\u0275dir=X({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class G6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mu=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new G6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),$x(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{$x(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Cr),b(pi),b(Yh))},n.\u0275dir=X({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $x(n,e){n.context.$implicit=e.item}let Js=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new q6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Hx("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Hx("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(b(Cr),b(pi))},n.\u0275dir=X({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class q6{constructor(){this.$implicit=null,this.ngIf=null}}function Hx(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}function Tr(n,e){return new k(2100,!1)}let zx=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Tr();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=sn({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const oq=new B("DATE_PIPE_DEFAULT_TIMEZONE");let tv=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){if(null==t||""===t||t!=t)return null;try{return E6(t,r,s||this.locale,i??this.defaultTimezone??void 0)}catch(o){throw Tr()}}}return n.\u0275fac=function(t){return new(t||n)(b(Ur,16),b(oq,24))},n.\u0275pipe=sn({name:"date",type:n,pure:!0,standalone:!0}),n})(),_q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({}),n})();const Wx="browser";let Cq=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new wq(N(tt),window)}),n})();class wq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function bq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Kx(this.window.history)||Kx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Kx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qx{}class ov extends class Jq extends class t6{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function e6(n){Jh||(Jh=n)}(new ov)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zq(){return xu=xu||document.querySelector("base"),xu?xu.getAttribute("href"):null}();return null==t?null:function Xq(n){df=df||document.createElement("a"),df.setAttribute("href",n);const e=df.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ux(document.cookie,e)}}let df,xu=null;const eR=new B("TRANSITION_ID"),t9=[{provide:jh,useFactory:function e9(n,e,t){return()=>{t.get($h).donePromise.then(()=>{const r=Br(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[eR,tt,Rn],multi:!0}];let r9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const hf=new B("EventManagerPlugins");let ff=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(N(hf),N(kt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class tR{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Br().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let nR=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Ru=(()=>{class n extends nR{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(rR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rR))}}return n.\u0275fac=function(t){return new(t||n)(N(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function rR(n){Br().remove(n)}const av={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},cv=/%COMP%/g;function pf(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pf(n,i,t):(i=i.replace(cv,n),t.push(i))}return t}function oR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let uv=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new lv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Mr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new u9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Mr.ShadowDom:return new l9(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=pf(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(N(ff),N(Ru),N(Tu))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class lv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(av[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(cR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(cR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=av[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=av[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(t,r,i&Pn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,oR(r)):this.eventManager.addEventListener(e,t,oR(r))}}function cR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class u9 extends lv{constructor(e,t,r,i){super(e),this.component=r;const s=pf(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function o9(n){return"_ngcontent-%COMP%".replace(cv,n)}(i+"-"+r.id),this.hostAttr=function a9(n){return"_nghost-%COMP%".replace(cv,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class l9 extends lv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=pf(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let d9=(()=>{class n extends tR{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(N(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const uR=["alt","control","meta","shift"],h9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},f9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let p9=(()=>{class n extends tR{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Br().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),uR.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=h9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uR.forEach(o=>{o!==i&&(0,f9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(N(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const dR=[{provide:Hh,useValue:Wx},{provide:QP,useValue:function g9(){ov.makeCurrent()},multi:!0},{provide:tt,useFactory:function _9(){return function Y$(n){a_=n}(document),document},deps:[]}],y9=sx(Jz,"browser",dR),hR=new B(""),fR=[{provide:Gh,useClass:class n9{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Br().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:tx,useClass:Ry,deps:[kt,ky,Gh]},{provide:Ry,useClass:Ry,deps:[kt,ky,Gh]}],pR=[{provide:g_,useValue:"root"},{provide:Ki,useFactory:function m9(){return new Ki},deps:[]},{provide:hf,useClass:d9,multi:!0,deps:[tt,kt,Hh]},{provide:hf,useClass:p9,multi:!0,deps:[tt]},{provide:uv,useClass:uv,deps:[ff,Ru,Tu]},{provide:NA,useExisting:uv},{provide:nR,useExisting:Ru},{provide:Ru,useClass:Ru,deps:[tt]},{provide:ff,useClass:ff,deps:[hf,kt]},{provide:Qx,useClass:r9,deps:[]},[]];let v9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Tu,useValue:t.appId},{provide:eR,useExisting:Tu},t9]}}}return n.\u0275fac=function(t){return new(t||n)(N(hR,12))},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({providers:[...pR,...fR],imports:[_q,Zz]}),n})(),gR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(N(tt))},n.\u0275prov=z({token:n,factory:function(t){let r=null;return r=t?new t:function E9(){return new gR(N(tt))}(),r},providedIn:"root"}),n})();function W(...n){return It(n,Vc(n))}typeof window<"u"&&window;class ut extends er{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const gf=Oc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:M9}=Array,{getPrototypeOf:P9,prototype:x9,keys:R9}=Object;function vR(n){if(1===n.length){const e=n[0];if(M9(e))return{args:e,keys:null};if(function k9(n){return n&&"object"==typeof n&&P9(n)===x9}(e)){const t=R9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:O9}=Array;function IR(n){return ue(e=>function N9(n,e){return O9(e)?n(...e):n(e)}(n,e))}function ER(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function CR(...n){const e=Vc(n),t=kD(n),{args:r,keys:i}=vR(n);if(0===r.length)return It([],e);const s=new ht(function F9(n,e,t=ks){return r=>{wR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)wR(e,()=>{const u=It(n[c],e);let l=!1;u.subscribe(Mt(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>ER(i,o):ks));return t?s.pipe(IR(t)):s}function wR(n,e,t){n?ri(t,n,e):e()}function pv(...n){return function V9(){return Vo(1)}()(It(n,Vc(n)))}function bR(n){return new ht(e=>{fr(n()).subscribe(e)})}function Da(n,e){const t=Fe(n)?n:()=>n,r=i=>i.error(t());return new ht(e?i=>e.schedule(r,0,i):r)}function gv(){return Lt((n,e)=>{let t=null;n._refCount++;const r=Mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class TR extends ht{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,yD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Wt;const t=this.getSubject();e.add(this.source.subscribe(Mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Wt.EMPTY)}return e}refCount(){return gv()(this)}}function jr(n,e){return Lt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Mt(r,c=>{i?.unsubscribe();let u=0;const l=s++;fr(n(c,l)).subscribe(i=Mt(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function ku(n){return n<=0?()=>ii:Lt((e,t)=>{let r=0;e.subscribe(Mt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $r(n,e){return Lt((t,r)=>{let i=0;t.subscribe(Mt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function mf(n){return Lt((e,t)=>{let r=!1;e.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function DR(n=U9){return Lt((e,t)=>{let r=!1;e.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function U9(){return new gf}function es(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((i,s)=>n(i,s,r)):ks,ku(1),t?mf(e):DR(()=>new gf))}function ts(n,e){return Fe(e)?Kt(n,e,1):Kt(n,1)}function Tt(n,e,t){const r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Lt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Mt(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ks}function vi(n){return Lt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Mt(t,void 0,void 0,o=>{s=fr(n(o,vi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function B9(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(Mt(o,l=>{const d=u++;c=a?n(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function AR(n,e){return Lt(B9(n,e,arguments.length>=2,!0))}function mv(n){return n<=0?()=>ii:Lt((e,t)=>{let r=[];e.subscribe(Mt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function SR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$r((i,s)=>n(i,s,r)):ks,mv(1),t?mf(e):DR(()=>new gf))}function _f(n){return Lt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const pe="primary",Ou=Symbol("RouteTitle");class H9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Aa(n){return new H9(n)}function G9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Hr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!MR(n[i],e[i]))return!1;return!0}function MR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function PR(n){return Array.prototype.concat.apply([],n)}function xR(n){return n.length>0?n[n.length-1]:null}function Yt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ns(n){return ey(n)?n:pu(n)?It(Promise.resolve(n)):W(n)}const W9={exact:function OR(n,e,t){if(!Xs(n.segments,e.segments)||!yf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!OR(n.children[r],e.children[r],t))return!1;return!0},subset:NR},RR={exact:function K9(n,e){return Hr(n,e)},subset:function Q9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MR(n[t],e[t]))},ignored:()=>!0};function kR(n,e,t){return W9[t.paths](n.root,e.root,t.matrixParams)&&RR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function NR(n,e,t){return FR(n,e,e.segments,t)}function FR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Xs(i,t)||e.hasChildren()||!yf(i,t,r))}if(n.segments.length===t.length){if(!Xs(n.segments,t)||!yf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!NR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Xs(n.segments,i)&&yf(n.segments,i,r)&&n.children[pe])&&FR(n.children[pe],e,s,r)}}function yf(n,e,t){return e.every((r,i)=>RR[t](n[i].parameters,r.parameters))}class Zs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Aa(this.queryParams)),this._queryParamMap}toString(){return Z9.serialize(this)}}class ge{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vf(this)}}class Nu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Aa(this.parameters)),this._parameterMap}toString(){return BR(this)}}function Xs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let VR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return new yv},providedIn:"root"}),n})();class yv{parse(e){const t=new a8(e);return new Zs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fu(e.root,!0)}`,r=function t8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${If(t)}=${If(i)}`).join("&"):`${If(t)}=${If(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function X9(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Z9=new yv;function vf(n){return n.segments.map(e=>BR(e)).join("/")}function Fu(n,e){if(!n.hasChildren())return vf(n);if(e){const t=n.children[pe]?Fu(n.children[pe],!1):"",r=[];return Yt(n.children,(i,s)=>{s!==pe&&r.push(`${s}:${Fu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function J9(n,e){let t=[];return Yt(n.children,(r,i)=>{i===pe&&(t=t.concat(e(r,i)))}),Yt(n.children,(r,i)=>{i!==pe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===pe?[Fu(n.children[pe],!1)]:[`${i}:${Fu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pe]?`${vf(n)}/${t[0]}`:`${vf(n)}/(${t.join("//")})`}}function LR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function If(n){return LR(n).replace(/%3B/gi,";")}function vv(n){return LR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ef(n){return decodeURIComponent(n)}function UR(n){return Ef(n.replace(/\+/g,"%20"))}function BR(n){return`${vv(n.path)}${function e8(n){return Object.keys(n).map(e=>`;${vv(e)}=${vv(n[e])}`).join("")}(n.parameters)}`}const n8=/^[^\/()?;=#]+/;function Cf(n){const e=n.match(n8);return e?e[0]:""}const r8=/^[^=?&#]+/,s8=/^[^&#]+/;class a8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ge([],{}):new ge([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new ge(e,t)),r}parseSegment(){const e=Cf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Nu(Ef(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cf(this.remaining);i&&(r=i,this.capture(r))}e[Ef(t)]=Ef(r)}parseQueryParam(e){const t=function i8(n){const e=n.match(r8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function o8(n){const e=n.match(s8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=UR(t),s=UR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[pe]:new ge([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function Iv(n){return n.segments.length>0?new ge([],{[pe]:n}):n}function wf(n){const e={};for(const r of Object.keys(n.children)){const s=wf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function c8(n){if(1===n.numberOfChildren&&n.children[pe]){const e=n.children[pe];return new ge(n.segments.concat(e.segments),e.children)}return n}(new ge(n.segments,e))}function eo(n){return n instanceof Zs}function d8(n,e,t,r,i){if(0===t.length)return Sa(e.root,e.root,e.root,r,i);const s=function HR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $R(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Yt(s.outlets,(c,u)=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new $R(t,e,r)}(t);return s.toRoot()?Sa(e.root,e.root,new ge([],{}),r,i):function o(c){const u=function f8(n,e,t,r){if(n.isAbsolute)return new Ma(e.root,!0,0);if(-1===r)return new Ma(t,t===e.root,0);return function GR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Ma(r,!1,i-s)}(t,r+(Vu(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,c),l=u.processChildren?Uu(u.segmentGroup,u.index,s.commands):Cv(u.segmentGroup,u.index,s.commands);return Sa(e.root,u.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Vu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lu(n){return"object"==typeof n&&null!=n&&n.outlets}function Sa(n,e,t,r,i){let o,s={};r&&Yt(r,(c,u)=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`}),o=n===e?t:jR(n,e,t);const a=Iv(wf(o));return new Zs(a,s,i)}function jR(n,e,t){const r={};return Yt(n.children,(i,s)=>{r[s]=i===e?t:jR(i,e,t)}),new ge(n.segments,r)}class $R{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Vu(r[0]))throw new k(4003,!1);const i=r.find(Lu);if(i&&i!==xR(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ma{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Cv(n,e,t){if(n||(n=new ge([],{})),0===n.segments.length&&n.hasChildren())return Uu(n,e,t);const r=function g8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Lu(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!qR(c,u,o))return s;r+=2}else{if(!qR(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new ge(n.segments.slice(0,r.pathIndex),{});return s.children[pe]=new ge(n.segments.slice(r.pathIndex),n.children),Uu(s,0,i)}return r.match&&0===i.length?new ge(n.segments,{}):r.match&&!n.hasChildren()?wv(n,e,t):r.match?Uu(n,0,i):wv(n,e,t)}function Uu(n,e,t){if(0===t.length)return new ge(n.segments,{});{const r=function p8(n){return Lu(n[0])?n[0].outlets:{[pe]:n}}(t),i={};return Yt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Cv(n.children[o],e,s))}),Yt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new ge(n.segments,i)}}function wv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Lu(s)){const c=m8(s.outlets);return new ge(r,c)}if(0===i&&Vu(t[0])){r.push(new Nu(n.segments[e].path,zR(t[0]))),i++;continue}const o=Lu(s)?s.outlets[pe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Vu(a)?(r.push(new Nu(o,zR(a))),i+=2):(r.push(new Nu(o,{})),i++)}return new ge(r,{})}function m8(n){const e={};return Yt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=wv(new ge([],{}),0,t))}),e}function zR(n){const e={};return Yt(n,(t,r)=>e[r]=`${t}`),e}function qR(n,e,t){return n==t.path&&Hr(e,t.parameters)}class Ii{constructor(e,t){this.id=e,this.url=t}}class bv extends Ii{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rs extends Ii{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bf extends Ii{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WR extends Ii{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v8 extends Ii{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E8 extends Ii{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class w8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class b8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class KR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class QR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Tv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Tv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Dv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Dv(e,this._root).map(t=>t.value)}}function Tv(n,e){if(n===e.value)return e;for(const t of e.children){const r=Tv(n,t);if(r)return r}return null}function Dv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Dv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ei{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class YR extends QR{constructor(e,t){super(e),this.snapshot=t,Av(this,e)}toString(){return this.snapshot.toString()}}function JR(n,e){const t=function M8(n,e){const o=new Tf([],{},{},"",{},pe,e,null,n.root,-1,{});return new XR("",new Ei(o,[]))}(n,e),r=new ut([new Nu("",{})]),i=new ut({}),s=new ut({}),o=new ut({}),a=new ut(""),c=new to(r,i,o,a,s,pe,e,t.root);return c.snapshot=t.root,new YR(new Ei(c,[]),t)}class to{constructor(e,t,r,i,s,o,a,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(u=>u[Ou]))??W(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>Aa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>Aa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function P8(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tf{constructor(e,t,r,i,s,o,a,c,u,l,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[Ou],this.routeConfig=c,this._urlSegment=u,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Aa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Aa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class XR extends QR{constructor(e,t){super(t),this.url=e,Av(this,t)}toString(){return e1(this._root)}}function Av(n,e){e.value._routerState=n,e.children.forEach(t=>Av(n,t))}function e1(n){const e=n.children.length>0?` { ${n.children.map(e1).join(", ")} } `:"";return`${n.value}${e}`}function Sv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Hr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Hr(e.params,t.params)||n.params.next(t.params),function z9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Hr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Hr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mv(n,e){const t=Hr(n.params,e.params)&&function Y9(n,e){return Xs(n,e)&&n.every((t,r)=>Hr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mv(n.parent,e.parent))}function Bu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function R8(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bu(n,r,i);return Bu(n,r)})}(n,e,t);return new Ei(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Bu(n,a)),o}}const r=function k8(n){return new to(new ut(n.url),new ut(n.params),new ut(n.queryParams),new ut(n.fragment),new ut(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Bu(n,s));return new Ei(r,i)}}const Pv="ngNavigationCancelingError";function t1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=n1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function n1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Pv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function r1(n){return s1(n)&&eo(n.url)}function s1(n){return n&&n[Pv]}class O8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ju,this.attachRef=null}}let ju=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new O8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Df=!1;let xv=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new et,this.deactivateEvents=new et,this.attachEvents=new et,this.detachEvents=new et,this.name=i||pe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,Df);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,Df);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,Df);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,Df);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new N8(t,a,i.injector);if(r&&function F8(n){return!!n.resolveComponentFactory}(r)){const u=r.resolveComponentFactory(o);this.activated=i.createComponent(u,i.length,c)}else this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(b(ju),b(Cr),function Kc(n){return function Nj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(h0(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Pt(),n)}("name"),b(Wh),b(qi))},n.\u0275dir=X({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class N8{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===to?this.route:e===ju?this.childContexts:this.parent.get(e,t)}}let Rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["ng-component"]],standalone:!0,features:[cP],decls:1,vars:0,template:function(t,r){1&t&&He(0,"router-outlet")},dependencies:[xv],encapsulation:2}),n})();function o1(n,e){return n.providers&&!n._injector&&(n._injector=Nh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ov(n){const e=n.children&&n.children.map(Ov),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=Rv),t}function cr(n){return n.outlet||pe}function a1(n,e){const t=n.filter(r=>cr(r)===e);return t.push(...n.filter(r=>cr(r)!==e)),t}function $u(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class j8{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Sv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Pa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Yt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Pa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Pa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Pa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new A8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new T8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Sv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=$u(i.snapshot),c=a?.get(cu)??null;o.attachRef=null,o.route=i,o.resolver=c,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class c1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Af{constructor(e,t){this.component=e,this.route=t}}function $8(n,e,t){const r=n._root;return Hu(r,e?e._root:null,t,[r.value])}function xa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function LB(n){return null!==Vd(n)}(n)?e.get(n):n:r}function Hu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Pa(e);return n.children.forEach(o=>{(function G8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function z8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Xs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Xs(n.url,e.url)||!Hr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(n,e)||!Hr(n.queryParams,e.queryParams);default:return!Mv(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new c1(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Hu(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Af(a.outlet.component,o))}else o&&Gu(e,a,i),i.canActivateChecks.push(new c1(r)),Hu(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Yt(s,(o,a)=>Gu(o,t.getContext(a),i)),i}function Gu(n,e,t){const r=Pa(n),i=n.value;Yt(r,(s,o)=>{Gu(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Af(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zu(n){return"function"==typeof n}function Nv(n){return n instanceof gf||"EmptyError"===n?.name}const Sf=Symbol("INITIAL_VALUE");function Ra(){return jr(n=>CR(n.map(e=>e.pipe(ku(1),function L9(...n){const e=Vc(n);return Lt((t,r)=>{(e?pv(n,t,e):pv(n,t)).subscribe(r)})}(Sf)))).pipe(ue(e=>{for(const t of e)if(!0!==t){if(t===Sf)return Sf;if(!1===t||t instanceof Zs)return t}return!0}),$r(e=>e!==Sf),ku(1)))}function u1(n){return function qU(...n){return gD(n)}(Tt(e=>{if(eo(e))throw t1(0,e)}),ue(e=>!0===e))}const Fv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function l1(n,e,t,r,i){const s=Vv(n,e,t);return s.matched?function cW(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=xa(o,n);return ns(function J8(n){return n&&zu(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),u1()):W(!0)}(r=o1(e,r),e,t).pipe(ue(o=>!0===o?s:{...Fv})):W(s)}function Vv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Fv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||G9)(t,n,e);if(!i)return{...Fv};const s={};Yt(i.posParams,(a,c)=>{s[c]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Mf(n,e,t,r,i="corrected"){if(t.length>0&&function dW(n,e,t){return t.some(r=>Pf(n,e,r)&&cr(r)!==pe)}(n,t,r)){const o=new ge(e,function lW(n,e,t,r){const i={};i[pe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&cr(s)!==pe){const o=new ge([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[cr(s)]=o}return i}(n,e,r,new ge(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function hW(n,e,t){return t.some(r=>Pf(n,e,r))}(n,t,r)){const o=new ge(n.segments,function uW(n,e,t,r,i,s){const o={};for(const a of r)if(Pf(n,t,a)&&!i[cr(a)]){const c=new ge([],{});c._sourceSegment=n,c._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[cr(a)]=c}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new ge(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Pf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function d1(n,e,t,r){return!!(cr(n)===r||r!==pe&&Pf(e,t,n))&&("**"===n.path||Vv(e,n,t).matched)}function h1(n,e,t){return 0===e.length&&!n.children[t]}const xf=!1;class Rf{constructor(e){this.segmentGroup=e||null}}class f1{constructor(e){this.urlTree=e}}function qu(n){return Da(new Rf(n))}function p1(n){return Da(new f1(n))}class mW{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Mf(this.urlTree.root,[],[],this.config).segmentGroup,t=new ge(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,pe).pipe(ue(s=>this.createUrlTree(wf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(vi(s=>{if(s instanceof f1)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,pe).pipe(ue(i=>this.createUrlTree(wf(i),e.queryParams,e.fragment))).pipe(vi(i=>{throw i instanceof Rf?this.noMatchError(i):i}))}noMatchError(e){return new k(4002,xf)}createUrlTree(e,t,r){const i=Iv(e);return new Zs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ue(s=>new ge([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return It(i).pipe(ts(s=>{const o=r.children[s],a=a1(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(c=>({segment:c,outlet:s})))}),AR((s,o)=>(s[o.outlet]=o.segment,s),{}),SR())}expandSegment(e,t,r,i,s,o){return It(r).pipe(ts(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(vi(u=>{if(u instanceof Rf)return W(null);throw u}))),es(a=>!!a),vi((a,c)=>{if(Nv(a))return h1(t,i,s)?W(new ge([],{})):qu(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return d1(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):qu(t):qu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?p1(s):this.lineralizeSegments(r,s).pipe(Kt(o=>{const a=new ge(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=Vv(t,i,s);if(!a)return qu(t);const d=this.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?p1(d):this.lineralizeSegments(i,d).pipe(Kt(h=>this.expandSegment(e,t,r,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=o1(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new ge(i,{})))):W(new ge(i,{}))):l1(t,r,i,e).pipe(jr(({matched:o,consumedSegments:a,remainingSegments:c})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Kt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Mf(t,a,c,h),g=new ge(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ue(y=>new ge(a,y)));if(0===h.length&&0===p.length)return W(new ge(a,{}));const m=cr(r)===s;return this.expandSegment(d,g,h,p,m?pe:s,!0).pipe(ue(C=>new ge(a.concat(C.segments),C.children)))})):qu(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function aW(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=xa(o,n);return ns(function W8(n){return n&&zu(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ra(),u1())}(e,t,r).pipe(Kt(i=>i?this.configLoader.loadChildren(e,t).pipe(Tt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function pW(n){return Da(n1(xf,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[pe])return Da(new k(4e3,xf));i=i.children[pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Zs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Yt(t.children,(a,c)=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new ge(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,xf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class yW{}class EW{constructor(e,t,r,i,s,o,a,c){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=c}recognize(){const e=Mf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pe).pipe(ue(t=>{if(null===t)return null;const r=new Tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ei(r,t),s=new XR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=ZR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return It(Object.keys(r.children)).pipe(ts(i=>{const s=r.children[i],o=a1(t,i);return this.processSegmentGroup(e,o,s,i)}),AR((i,s)=>i&&s?(i.push(...s),i):null),function j9(n,e=!1){return Lt((t,r)=>{let i=0;t.subscribe(Mt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),mf(null),SR(),ue(i=>{if(null===i)return null;const s=g1(i);return function CW(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return It(t).pipe(ts(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),es(o=>!!o),vi(o=>{if(Nv(o))return h1(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!d1(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?xR(i).parameters:{},c=_1(r)+i.length;o=W({snapshot:new Tf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v1(t),cr(t),t.component??t._loadedComponent??null,t,m1(r),c,I1(t),c),consumedSegments:[],remainingSegments:[]})}else o=l1(r,t,i,e).pipe(ue(({matched:a,consumedSegments:c,remainingSegments:u,parameters:l})=>{if(!a)return null;const d=_1(r)+c.length;return{snapshot:new Tf(c,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v1(t),cr(t),t.component??t._loadedComponent??null,t,m1(r),d,I1(t),d),consumedSegments:c,remainingSegments:u}}));return o.pipe(jr(a=>{if(null===a)return W(null);const{snapshot:c,consumedSegments:u,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function wW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Mf(r,u,l,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(m=>null===m?null:[new Ei(c,m)]));if(0===h.length&&0===p.length)return W([new Ei(c,[])]);const g=cr(t)===s;return this.processSegment(d,h,f,p,g?pe:s).pipe(ue(m=>null===m?null:[new Ei(c,m)]))}))}}function bW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function g1(n){const e=[],t=new Set;for(const r of n){if(!bW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=g1(r.children);e.push(new Ei(r.value,i))}return e.filter(r=>!t.has(r))}function m1(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _1(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function v1(n){return n.data||{}}function I1(n){return n.resolve||{}}function E1(n){return"string"==typeof n.title||null===n.title}function Lv(n){return jr(e=>{const t=n(e);return t?It(t).pipe(ue(()=>e)):W(e)})}let C1=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Ou]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return Qe(w1)},providedIn:"root"}),n})(),w1=(()=>{class n extends C1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(N(gR))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class RW{}class OW extends class kW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Of=new B("",{providedIn:"root",factory:()=>({})}),Uv=new B("ROUTES");let Bv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ns(t.loadComponent()).pipe(Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),_f(()=>{this.componentLoaders.delete(t)})),i=new TR(r,()=>new er).pipe(gv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,u,l=!1;Array.isArray(a)?u=a:(c=a.create(t).injector,u=PR(c.get(Uv,[],J.Self|J.Optional)));return{routes:u.map(Ov),injector:c}}),_f(()=>{this.childrenLoaders.delete(r)})),o=new TR(s,()=>new er).pipe(gv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ns(t()).pipe(Kt(r=>r instanceof oP||Array.isArray(r)?W(r):It(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(N(Rn),N(Sy))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class FW{}class VW{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function LW(n){throw n}function UW(n,e,t){return e.parse("/")}const BW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function T1(){const n=Qe(VR),e=Qe(ju),t=Qe(Hy),r=Qe(Rn),i=Qe(Sy),s=Qe(Uv,{optional:!0})??[],o=Qe(Of,{optional:!0})??{},a=Qe(w1),c=Qe(C1,{optional:!0}),u=Qe(FW,{optional:!0}),l=Qe(RW,{optional:!0}),d=new rt(null,n,e,t,r,i,PR(s));return u&&(d.urlHandlingStrategy=u),l&&(d.routeReuseStrategy=l),d.titleStrategy=c??a,function $W(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let rt=(()=>{class n{constructor(t,r,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new er,this.errorHandler=LW,this.malformedUriErrorHandler=UW,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new VW,this.routeReuseStrategy=new OW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Bv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new w8(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new C8(h)),this.ngModule=o.get(Ws),this.console=o.get(mz);const d=o.get(kt);this.isNgZoneEnabled=d instanceof kt&&kt.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=function q9(){return new Zs(new ge([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=JR(this.currentUrlTree,this.rootComponentType),this.transitions=new ut({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe($r(i=>0!==i.id),ue(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),jr(i=>{let s=!1,o=!1;return W(i).pipe(Tt(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(a=>{const c=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==c||c!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return D1(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(jr(d=>{const h=this.transitions.getValue();return r.next(new bv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ii:Promise.resolve(d)}),function _W(n,e,t,r){return jr(i=>function gW(n,e,t,r,i){return new mW(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Tt(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function DW(n,e,t,r,i,s){return Kt(o=>function IW(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new EW(n,e,t,r,i,o,a,s).recognize().pipe(jr(c=>null===c?function vW(n){return new ht(e=>e.error(n))}(new yW):W(c)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ue(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Tt(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new _8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new bv(h,this.serializeUrl(f),p,g);r.next(v);const C=JR(f,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:C,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ii}),Tt(a=>{const c=new y8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(c)}),ue(a=>i={...a,guards:$8(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function X8(n,e){return Kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function eW(n,e,t,r){return It(n).pipe(Kt(i=>function oW(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const c=$u(e)??i,u=xa(a,c);return ns(function Y8(n){return n&&zu(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(es())})).pipe(Ra()):W(!0)}(i.component,i.route,t,e,r)),es(i=>!0!==i,!0))}(o,r,i,n).pipe(Kt(a=>a&&function q8(n){return"boolean"==typeof n}(a)?function tW(n,e,t,r){return It(e).pipe(ts(i=>pv(function rW(n,e){return null!==n&&e&&e(new b8(n)),W(!0)}(i.route.parent,r),function nW(n,e){return null!==n&&e&&e(new D8(n)),W(!0)}(i.route,r),function sW(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function H8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>bR(()=>W(o.guards.map(c=>{const u=$u(o.node)??t,l=xa(c,u);return ns(function Q8(n){return n&&zu(n.canActivateChild)}(l)?l.canActivateChild(r,n):u.runInContext(()=>l(r,n))).pipe(es())})).pipe(Ra())));return W(s).pipe(Ra())}(n,i.path,t),function iW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>bR(()=>{const o=$u(e)??t,a=xa(s,o);return ns(function K8(n){return n&&zu(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(es())}));return W(i).pipe(Ra())}(n,i.route,t))),es(i=>!0!==i,!0))}(r,s,n,e):W(a)),ue(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Tt(a=>{if(i.guardsResult=a.guardsResult,eo(a.guardsResult))throw t1(0,a.guardsResult);const c=new v8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(c)}),$r(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Lv(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(Tt(c=>{const u=new I8(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}),jr(c=>{let u=!1;return W(c).pipe(function AW(n,e){return Kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return It(i).pipe(ts(o=>function SW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!E1(i)&&(s[Ou]=i.title),function MW(n,e,t,r){const i=function PW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return It(i).pipe(Kt(o=>function xW(n,e,t,r){const i=$u(e)??r,s=xa(n,i);return ns(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(es(),Tt(a=>{s[o]=a}))),mv(1),function $9(n){return ue(()=>n)}(s),vi(o=>Nv(o)?ii:Da(o)))}(s,n,e,r).pipe(ue(o=>(n._resolvedData=o,n.data=ZR(n,t).resolve,i&&E1(i)&&(n.data[Ou]=i.title),null)))}(o.route,r,n,e)),Tt(()=>s++),mv(1),Kt(o=>s===i.length?W(t):ii))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Tt({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(c),this.cancelNavigationTransition(c,"",2))}}))}),Tt(c=>{const u=new E8(c.id,this.serializeUrl(c.extractedUrl),this.serializeUrl(c.urlAfterRedirects),c.targetSnapshot);this.triggerEvent(u)}))}),Lv(a=>{const c=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(Tt(d=>{u.component=d}),ue(()=>{})));for(const d of u.children)l.push(...c(d));return l};return CR(c(a.targetSnapshot.root)).pipe(mf(),ku(1))}),Lv(()=>this.afterPreactivation()),ue(a=>{const c=function x8(n,e,t){const r=Bu(n,e._root,t?t._root:void 0);return new YR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:c}}),Tt(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ue(r=>(new j8(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Tt({next(){s=!0},complete(){s=!0}}),_f(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),vi(a=>{if(o=!0,s1(a)){r1(a)||(this.navigated=!0,this.restoreHistory(i,!0));const c=new bf(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(c),r1(a)){const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||D1(i.source)};this.scheduleNavigation(u,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const c=new WR(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(c);try{i.resolve(this.errorHandler(a))}catch(u){i.reject(u)}}return ii}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ov),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=i||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),d8(u,this.currentUrlTree,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=eo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function HW(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new k(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...BW}:!1===r?{...jW}:r,eo(t))return kR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return kR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new rs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((h,f)=>{a=h,c=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new bf(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){D_()},n.\u0275prov=z({token:n,factory:function(){return T1()},providedIn:"root"}),n})();function D1(n){return"imperative"!==n}class A1{}let qW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe($r(t=>t instanceof rs),ts(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Nh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return It(i).pipe(Vo())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(Kt(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?It([s,this.loader.loadComponent(r)]).pipe(Vo()):s})}}return n.\u0275fac=function(t){return new(t||n)(N(rt),N(Sy),N(qi),N(A1),N(Bv))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Hv=new B("");let S1=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof rs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof KR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new KR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){D_()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function ka(n,e){return{\u0275kind:n,\u0275providers:e}}function Gv(n){return[{provide:Uv,multi:!0,useValue:n}]}function P1(){const n=Qe(Rn);return e=>{const t=n.get(zh);if(e!==t.components[0])return;const r=n.get(rt),i=n.get(x1);1===n.get(zv)&&r.initialNavigation(),n.get(R1,null,J.Optional)?.setUpPreloading(),n.get(Hv,null,J.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const x1=new B("",{factory:()=>new er}),zv=new B("",{providedIn:"root",factory:()=>1});const R1=new B("");function YW(n){return ka(0,[{provide:R1,useExisting:qW},{provide:A1,useExisting:n}])}const k1=new B("ROUTER_FORROOT_GUARD"),JW=[Hy,{provide:VR,useClass:yv},{provide:rt,useFactory:T1},ju,{provide:to,useFactory:function M1(n){return n.routerState.root},deps:[rt]},Bv];function ZW(){return new rx("Router",rt)}let O1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[JW,[],Gv(t),{provide:k1,useFactory:n7,deps:[[rt,new zi,new ea]]},{provide:Of,useValue:r||{}},r?.useHash?{provide:Zi,useClass:Mx}:{provide:Zi,useClass:Sx},{provide:Hv,useFactory:()=>{const n=Qe(rt),e=Qe(Cq),t=Qe(Of);return t.scrollOffset&&e.setOffset(t.scrollOffset),new S1(n,e,t)}},r?.preloadingStrategy?YW(r.preloadingStrategy).\u0275providers:[],{provide:rx,multi:!0,useFactory:ZW},r?.initialNavigation?r7(r):[],[{provide:N1,useFactory:P1},{provide:YP,multi:!0,useExisting:N1}]]}}static forChild(t){return{ngModule:n,providers:[Gv(t)]}}}return n.\u0275fac=function(t){return new(t||n)(N(k1,8))},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({imports:[Rv]}),n})();function n7(n){return"guarded"}function r7(n){return["disabled"===n.initialNavigation?ka(3,[{provide:jh,multi:!0,useFactory:()=>{const e=Qe(rt);return()=>{e.setUpLocationChangeListener()}}},{provide:zv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ka(2,[{provide:zv,useValue:0},{provide:jh,multi:!0,deps:[Rn],useFactory:e=>{const t=e.get(r6,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(rt),a=e.get(x1);(function i(s){e.get(rt).events.pipe($r(a=>a instanceof rs||a instanceof bf||a instanceof WR),ue(a=>a instanceof rs||a instanceof bf&&(0===a.code||1===a.code)&&null),$r(a=>null!==a),ku(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?W(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const N1=new B("");let V1=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(b(kr),b(xn))},n.\u0275dir=X({type:n}),n})(),no=(()=>{class n extends V1{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cn(n)))(r||n)}}(),n.\u0275dir=X({type:n,features:[Pe]}),n})();const Gr=new B("NgValueAccessor"),o7={provide:Gr,useExisting:Ve(()=>ro),multi:!0},c7=new B("CompositionEventMode");let ro=(()=>{class n extends V1{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function a7(){const n=Br()?Br().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(b(kr),b(xn),b(c7,8))},n.\u0275dir=X({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ee("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ye([o7]),Pe]}),n})();function is(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function U1(n){return null!=n&&"number"==typeof n.length}const dn=new B("NgValidators"),ss=new B("NgAsyncValidators"),l7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class zr{static min(e){return function B1(n){return e=>{if(is(e.value)||is(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function j1(n){return e=>{if(is(e.value)||is(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function $1(n){return is(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function H1(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function G1(n){return is(n.value)||l7.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function z1(n){return e=>is(e.value)||!U1(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return q1(e)}static pattern(e){return W1(e)}static nullValidator(e){return null}static compose(e){return X1(e)}static composeAsync(e){return ek(e)}}function q1(n){return e=>U1(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function W1(n){if(!n)return Lf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(is(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Lf(n){return null}function K1(n){return null!=n}function Q1(n){return pu(n)?It(n):n}function Y1(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function J1(n,e){return e.map(t=>t(n))}function Z1(n){return n.map(e=>function d7(n){return!n.validate}(e)?e:t=>e.validate(t))}function X1(n){if(!n)return null;const e=n.filter(K1);return 0==e.length?null:function(t){return Y1(J1(t,e))}}function qv(n){return null!=n?X1(Z1(n)):null}function ek(n){if(!n)return null;const e=n.filter(K1);return 0==e.length?null:function(t){return function F1(...n){const e=kD(n),{args:t,keys:r}=vR(n),i=new ht(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let l=0;l<o;l++){let d=!1;fr(t[l]).subscribe(Mt(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?ER(r,a):a),s.complete())}))}});return e?i.pipe(IR(e)):i}(J1(t,e).map(Q1)).pipe(ue(Y1))}}function Wv(n){return null!=n?ek(Z1(n)):null}function tk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function nk(n){return n._rawValidators}function rk(n){return n._rawAsyncValidators}function Kv(n){return n?Array.isArray(n)?n:[n]:[]}function Uf(n,e){return Array.isArray(n)?n.includes(e):n===e}function ik(n,e){const t=Kv(e);return Kv(n).forEach(i=>{Uf(t,i)||t.push(i)}),t}function sk(n,e){return Kv(e).filter(t=>!Uf(n,t))}class ok{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class bn extends ok{get formDirective(){return null}get path(){return null}}class os extends ok{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ak{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wu=(()=>{class n extends ak{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(os,2))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Sh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Pe]}),n})(),Ku=(()=>{class n extends ak{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(b(bn,10))},n.\u0275dir=X({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Sh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Pe]}),n})();const Qu="VALID",jf="INVALID",Oa="PENDING",Yu="DISABLED";function Zv(n){return($f(n)?n.validators:n)||null}function uk(n){return Array.isArray(n)?qv(n):n||null}function Xv(n,e){return($f(e)?e.asyncValidators:n)||null}function lk(n){return Array.isArray(n)?Wv(n):n||null}function $f(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class fk{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=uk(this._rawValidators),this._composedAsyncValidatorFn=lk(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Qu}get invalid(){return this.status===jf}get pending(){return this.status==Oa}get disabled(){return this.status===Yu}get enabled(){return this.status!==Yu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=uk(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=lk(e)}addValidators(e){this.setValidators(ik(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ik(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sk(e,this._rawAsyncValidators))}hasValidator(e){return Uf(this._rawValidators,e)}hasAsyncValidator(e){return Uf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Oa,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yu,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qu,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qu||this.status===Oa)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yu:Qu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Oa,this._hasOwnPendingAsyncValidator=!0;const t=Q1(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new et,this.statusChanges=new et}_calculateStatus(){return this._allControlsDisabled()?Yu:this.errors?jf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oa)?Oa:this._anyControlsHaveStatus(jf)?jf:Qu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$f(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class as extends fk{constructor(e,t,r){super(Zv(t),Xv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function hk(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new k(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function dk(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Ju(n,e){eI(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function I7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pk(n,e)})}(n,e),function C7(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function E7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pk(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function v7(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Gf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),qf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function eI(n,e){const t=nk(n);null!==e.validator?n.setValidators(tk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=rk(n);null!==e.asyncValidator?n.setAsyncValidators(tk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zf(e._rawValidators,i),zf(e._rawAsyncValidators,i)}function qf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=nk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=rk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return zf(e._rawValidators,r),zf(e._rawAsyncValidators,r),t}function pk(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yk(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function vk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Qn=class extends fk{constructor(e=null,t,r){super(Zv(t),Xv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$f(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=vk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){vk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Tk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({}),n})();const iI=new B("NgModelWithFormControlWarning"),F7={provide:bn,useExisting:Ve(()=>io)};let io=(()=>{class n extends bn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new et,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(qf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Ju(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Gf(t.control||null,t,!1),function D7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function _k(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Gf(r||null,t),(n=>n instanceof Qn)(i)&&(Ju(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function gk(n,e){eI(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function w7(n,e){return qf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){eI(this.form,this),this._oldForm&&qf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(b(dn,10),b(ss,10))},n.\u0275dir=X({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ee("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ye([F7]),Pe,rr]}),n})();const U7={provide:os,useExisting:Ve(()=>Na)};let Na=(()=>{class n extends os{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new et,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function nI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===ro?t=s:function T7(n){return Object.getPrototypeOf(n.constructor)===no}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function tI(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Hf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(b(bn,13),b(dn,10),b(ss,10),b(Gr,10),b(iI,8))},n.\u0275dir=X({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ye([U7]),Pe,rr]}),n})();const B7={provide:Gr,useExisting:Ve(()=>Wf),multi:!0};function Pk(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Wf=(()=>{class n extends no{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=Pk(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function j7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cn(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ee("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ye([B7]),Pe]}),n})(),xk=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Pk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(xn),b(kr),b(Wf,9))},n.\u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const $7={provide:Gr,useExisting:Ve(()=>aI),multi:!0};function Rk(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let aI=(()=>{class n extends no{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const u=this._getOptionValue(o[a].value);i.push(u)}}else{const o=r.options;for(let a=0;a<o.length;a++){const c=o[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function H7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cn(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ee("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ye([$7]),Pe]}),n})(),kk=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Rk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Rk(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(b(xn),b(kr),b(aI,9))},n.\u0275dir=X({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let so=(()=>{class n{constructor(){this._validator=Lf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=X({type:n,features:[rr]}),n})();const Y7={provide:dn,useExisting:Ve(()=>uI),multi:!0};let uI=(()=>{class n extends so{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function Ok(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>q1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cn(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ye([Y7]),Pe]}),n})();const J7={provide:dn,useExisting:Ve(()=>lI),multi:!0};let lI=(()=>{class n extends so{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>W1(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=cn(n)))(r||n)}}(),n.\u0275dir=X({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Kn("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Ye([J7]),Pe]}),n})(),Z7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({imports:[Tk]}),n})(),X7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:iI,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({imports:[Z7]}),n})();function jk(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){jk(s,r,i,o,a,"next",c)}function a(c){jk(s,r,i,o,a,"throw",c)}o(void 0)})}}const $k=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Hk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($k(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==d)throw new iK;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kf=function(n){return function(n){const e=$k(n);return Hk.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Qf=function(n){try{return Hk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Yf=()=>{try{return function aK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Qf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},zk=n=>{var e,t;return null===(t=null===(e=Yf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},qk=()=>{var n;return null===(n=Yf())||void 0===n?void 0:n.config},Wk=n=>{var e;return null===(e=Yf())||void 0===e?void 0:e[`_${n}`]};class Kk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Nt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,el.prototype.create)}}class el{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function CK(n,e){return n.replace(wK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ci(i,`${this.serviceName}: ${o} (${i}).`,r)}}const wK=/\{\$([^}]+)}/g;function bK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(Yk(s)&&Yk(o)){if(!Zf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Yk(n){return null!==n&&"object"==typeof n}function Xf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class DK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function AK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=hI),void 0===i.error&&(i.error=hI),void 0===i.complete&&(i.complete=hI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hI(){}function Tn(n){return n&&n._delegate?n._delegate:n}class oo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ao="[DEFAULT]";class kK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Kk;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function NK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ao){return this.instances.has(e)}getOptions(e=ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ao?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ao){return this.component?this.component.multipleInstances?e:ao:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class FK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new kK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pI=[];var _e=(()=>{return(n=_e||(_e={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",_e;var n})();const Jk={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},VK=_e.INFO,LK={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},UK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=LK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class gI{constructor(e){this.name=e,this._logLevel=VK,this._logHandler=UK,this._userLogHandler=null,pI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Jk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}let Zk,Xk;const eO=new WeakMap,mI=new WeakMap,tO=new WeakMap,_I=new WeakMap,yI=new WeakMap;let vI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return mI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||tO.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return cs(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function WK(n){return"function"==typeof n?function qK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $K(){return Xk||(Xk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(II(this),e),cs(eO.get(this))}:function(...e){return cs(n.apply(II(this),e))}:function(e,...t){const r=n.call(II(this),e,...t);return tO.set(r,e.sort?e.sort():[e]),cs(r)}}(n):(n instanceof IDBTransaction&&function GK(n){if(mI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});mI.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function jK(){return Zk||(Zk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,vI):n)}function cs(n){if(n instanceof IDBRequest)return function HK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(cs(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&eO.set(t,n)}).catch(()=>{}),yI.set(e,n),e}(n);if(_I.has(n))return _I.get(n);const e=WK(n);return e!==n&&(_I.set(n,e),yI.set(e,n)),e}const II=n=>yI.get(n),QK=["get","getKey","getAll","getAllKeys","count"],YK=["put","add","delete","clear"],EI=new Map;function nO(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(EI.get(e))return EI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=YK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!QK.includes(t))return;const s=function(){var o=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return EI.set(e,s),s}!function zK(n){vI=n(vI)}(n=>({...n,get:(e,t,r)=>nO(e,t)||n.get(e,t,r),has:(e,t)=>!!nO(e,t)||n.has(e,t)}));class JK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ZK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const ep="@firebase/app",co=new gI("@firebase/app"),tp="[DEFAULT]",bQ={[ep]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},uo=new Map,rl=new Map,il=new Map;function rO(n,e){try{n.container.addComponent(e)}catch(t){co.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fa(n){const e=n.name;if(il.has(e))return co.debug(`There were multiple attempts to register component ${e}.`),!1;il.set(e,n);for(const t of uo.values())rO(t,n);for(const t of rl.values())rO(t,n);return!0}function np(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function qr(n){return void 0!==n.settings}const ur=new el("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class AQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Va="10.11.1";function iO(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ur.create("bad-app-name",{appName:String(i)});if(t||(t=qk()),!t)throw ur.create("no-options");const s=uo.get(i);if(s){if(Zf(t,s.options)&&Zf(r,s.config))return s;throw ur.create("duplicate-app",{appName:i})}const o=new FK(i);for(const c of il.values())o.addComponent(c);const a=new AQ(t,r,o);return uo.set(i,a),a}function sO(n=tp){const e=uo.get(n);if(!e&&n===tp&&qk())return iO();if(!e)throw ur.create("no-app",{appName:n});return e}function wi(n,e,t){var r;let i=null!==(r=bQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void co.warn(a.join(" "))}Fa(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const sl="firebase-heartbeat-store";let bI=null;function oO(){return bI||(bI=function KK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=cs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(cs(o.result),c.oldVersion,c.newVersion,cs(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(sl)}catch(t){console.warn(t)}}}).catch(n=>{throw ur.create("idb-open",{originalErrorMessage:n.message})})),bI}function TI(){return(TI=_(function*(n){try{const t=(yield oO()).transaction(sl),r=yield t.objectStore(sl).get(cO(n));return yield t.done,r}catch(e){if(e instanceof Ci)co.warn(e.message);else{const t=ur.create("idb-get",{originalErrorMessage:e?.message});co.warn(t.message)}}})).apply(this,arguments)}function aO(n,e){return DI.apply(this,arguments)}function DI(){return(DI=_(function*(n,e){try{const r=(yield oO()).transaction(sl,"readwrite");yield r.objectStore(sl).put(e,cO(n)),yield r.done}catch(t){if(t instanceof Ci)co.warn(t.message);else{const r=ur.create("idb-set",{originalErrorMessage:t?.message});co.warn(r.message)}}})).apply(this,arguments)}function cO(n){return`${n.name}!${n.options.appId}`}class NQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new VQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uO();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=uO(),{heartbeatsToSend:i,unsentEntries:s}=function FQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),lO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),lO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Kf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function uO(){return(new Date).toISOString().substring(0,10)}class VQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!function vK(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function IK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function RQ(n){return TI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return aO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return aO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function lO(n){return Kf(JSON.stringify({version:2,heartbeats:n})).length}!function LQ(n){Fa(new oo("platform-logger",e=>new JK(e),"PRIVATE")),Fa(new oo("heartbeat",e=>new NQ(e),"PRIVATE")),wi(ep,"0.10.2",n),wi(ep,"0.10.2","esm2017"),wi("fire-js","")}("");const UQ=function dO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hO=new el("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rp=new gI("@firebase/auth");function ip(n,...e){rp.logLevel<=_e.ERROR&&rp.error(`Auth (${Va}): ${n}`,...e)}function Nn(n,...e){throw SI(n,...e)}function lr(n,...e){return SI(n,...e)}function AI(n,e,t){const r=Object.assign(Object.assign({},UQ()),{[e]:t});return new el("auth","Firebase",r).create(e,{appName:n.name})}function Bt(n){return AI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return hO.create(n,...e)}function R(n,e,...t){if(!n)throw SI(e,...t)}function Wr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ip(e),new Error(e)}function us(n,e){n||Wr(e)}function ol(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function fO(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function jQ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function MI(){return"http:"===fO()||"https:"===fO()}()||function gK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class al{constructor(e,t){this.shortDelay=e,this.longDelay=t,us(t>e,"Short delay should be less than long delay!"),this.isMobile=function fK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}()||function mK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return jQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function PI(n,e){us(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class pO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},GQ=new al(3e4,6e4);function Ge(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ze(n,e,t,r){return xI.apply(this,arguments)}function xI(){return(xI=_(function*(n,e,t,r,i={}){return gO(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Xf(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),pO.fetch()(mO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function gO(n,e,t){return RI.apply(this,arguments)}function RI(){return(RI=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HQ),e);try{const i=new qQ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw cl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw cl(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw cl(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw cl(n,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw AI(n,l,u);Nn(n,l)}}catch(i){if(i instanceof Ci)throw i;Nn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function bi(n,e,t,r){return kI.apply(this,arguments)}function kI(){return(kI=_(function*(n,e,t,r,i={}){const s=yield ze(n,e,t,r,i);return"mfaPendingCredential"in s&&Nn(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function mO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?PI(n.config,i):`${n.config.apiScheme}://${i}`}function zQ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),GQ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=lr(n,e,r);return i.customData._tokenResponse=t,i}function yO(n){return void 0!==n&&void 0!==n.enterprise}class vO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zQ(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function IO(n,e){return NI.apply(this,arguments)}function NI(){return(NI=_(function*(n,e){return ze(n,"GET","/v2/recaptchaConfig",Ge(n,e))})).apply(this,arguments)}function FI(){return(FI=_(function*(n,e){return ze(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function EO(n,e){return LI.apply(this,arguments)}function LI(){return(LI=_(function*(n,e){return ze(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ul(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function UI(){return(UI=_(function*(n,e=!1){const t=Tn(n),r=yield t.getIdToken(e),i=sp(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ul(BI(i.auth_time)),issuedAtTime:ul(BI(i.iat)),expirationTime:ul(BI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function BI(n){return 1e3*Number(n)}function sp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ip("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qf(t);return i?JSON.parse(i):(ip("Failed to decode base64 JWT payload"),null)}catch(i){return ip("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CO(n){const e=sp(n);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ti(n,e){return jI.apply(this,arguments)}function jI(){return(jI=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ci&&JQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function JQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class ZQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class $I{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ll(n){return HI.apply(this,arguments)}function HI(){return(HI=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ti(n,EO(t,{idToken:r}));R(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?wO(s.providerUserInfo):[],a=eY(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $I(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})).apply(this,arguments)}function GI(){return(GI=_(function*(n){const e=Tn(n);yield ll(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function eY(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wO(n){return n.map(e=>{var{providerId:t}=e,r=em(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zI(){return(zI=_(function*(n,e){const t=yield gO(n,{},_(function*(){const r=Xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=mO(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",pO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function qI(){return(qI=_(function*(n,e){return ze(n,"POST","/v2/accounts:revokeToken",Ge(n,e))})).apply(this,arguments)}class Ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){R(0!==e.length,"internal-error");const t=CO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return _(function*(){return t||!r.accessToken||r.isExpired?(R(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function tY(n,e){return zI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Ua;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ua,this.toJSON())}_performRefresh(){return Wr("not implemented")}}function ls(n,e){R("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=em(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $I(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield Ti(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function YQ(n){return UI.apply(this,arguments)}(this,e)}reload(){return function XQ(n){return GI.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield ll(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){if(qr(e.auth.app))return Promise.reject(Bt(e.auth));const t=yield e.getIdToken();return yield Ti(e,function KQ(n,e){return FI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,v=null!==(u=t.createdAt)&&void 0!==u?u:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:P,isAnonymous:H,providerData:K,stsTokenManager:Se}=t;R(y&&Se,e,"internal-error");const qt=Ua.fromJSON(this.name,Se);R("string"==typeof y,e,"internal-error"),ls(d,e.name),ls(h,e.name),R("boolean"==typeof P,e,"internal-error"),R("boolean"==typeof H,e,"internal-error"),ls(f,e.name),ls(p,e.name),ls(g,e.name),ls(m,e.name),ls(v,e.name),ls(C,e.name);const Ui=new Di({uid:y,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:qt,createdAt:v,lastLoginAt:C});return K&&Array.isArray(K)&&(Ui.providerData=K.map(Ps=>Object.assign({},Ps))),m&&(Ui._redirectEventId=m),Ui}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new Ua;i.updateFromServerResponse(t);const s=new Di({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ll(s),s})()}static _fromGetAccountInfoResponse(e,t,r){return _(function*(){const i=t.users[0];R(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?wO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash||s?.length),a=new Ua;a.updateFromIdToken(r);const c=new Di({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $I(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||s?.length)};return Object.assign(c,u),c})()}}const bO=new Map;function Ai(n){us(n instanceof Function,"Expected a class definition");let e=bO.get(n);return e?(us(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,bO.set(n,e),e)}const TO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function op(n,e,t){return`firebase:${n}:${e}:${t}`}class Ba{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,s),this.fullPersistenceKey=op("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Di._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Ba(Ai(TO),e,r);const i=(yield Promise.all(t.map(function(){var u=_(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||Ai(TO);const o=op(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const l=yield u._get(o);if(l){const d=Di._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Ba(s,e,r)):new Ba(s,e,r)})()}}function DO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xO(e))return"Blackberry";if(RO(e))return"Webos";if(WI(e))return"Safari";if((e.includes("chrome/")||SO(e))&&!e.includes("edge/"))return"Chrome";if(PO(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function AO(n=Nt()){return/firefox\//i.test(n)}function WI(n=Nt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SO(n=Nt()){return/crios\//i.test(n)}function MO(n=Nt()){return/iemobile/i.test(n)}function PO(n=Nt()){return/android/i.test(n)}function xO(n=Nt()){return/blackberry/i.test(n)}function RO(n=Nt()){return/webos/i.test(n)}function ap(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kO(n=Nt()){return ap(n)||PO(n)||RO(n)||xO(n)||/windows phone/i.test(n)||MO(n)}function OO(n,e=[]){let t;switch(n){case"Browser":t=DO(Nt());break;case"Worker":t=`${DO(Nt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Va}/${r}`}class oY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function KI(){return(KI=_(function*(n,e={}){return ze(n,"GET","/v2/passwordPolicy",Ge(n,e))})).apply(this,arguments)}class uY{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class lY{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NO(this),this.idTokenSubscription=new NO(this),this.beforeStateQueue=new oY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ba.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return _(function*(){try{const r=yield EO(t,{idToken:e}),i=yield Di._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;if(qr(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield ll(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $Q(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){if(qr(t.app))return Promise.reject(Bt(t));const r=e?Tn(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return qr(e.app)?Promise.reject(Bt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return qr(this.app)?Promise.reject(Bt(this)):this.queue(_(function*(){yield t.assertedPersistence.setPersistence(Ai(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return _(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return _(function*(){const t=yield function aY(n){return KI.apply(this,arguments)}(e),r=new uY(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new el("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return _(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function nY(n,e){return qI.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&Ai(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield Ba.create(t,[Ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function BQ(n,...e){rp.logLevel<=_e.WARN&&rp.warn(`Auth (${Va}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function gt(n){return Tn(n)}class NO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function TK(n,e){const t=new DK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dl={loadJS:()=>_(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QI(n){return dl.loadJS(n)}function FO(n){return`__${n}${Math.floor(1e6*Math.random())}`}class VO{constructor(e){this.type="recaptcha-enterprise",this.auth=gt(e)}verify(e="verify",t=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(u,l){IO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new vO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const l=window.grecaptcha;yO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!t&&yO(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function fY(){return dl.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),QI(l).then(()=>{o(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function LO(n,e,t){return YI.apply(this,arguments)}function YI(){return(YI=_(function*(n,e,t,r=!1){const i=new VO(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function hl(n,e,t,r){return JI.apply(this,arguments)}function JI(){return JI=_(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield LO(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield LO(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),JI.apply(this,arguments)}function UO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class jO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wr("not implemented")}_getIdTokenResponse(e){return Wr("not implemented")}_linkToIdToken(e,t){return Wr("not implemented")}_getReauthenticationResolver(e){return Wr("not implemented")}}function bY(n,e){return tE.apply(this,arguments)}function tE(){return(tE=_(function*(n,e){return ze(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function DY(n,e){return rE.apply(this,arguments)}function rE(){return(rE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithPassword",Ge(n,e))})).apply(this,arguments)}function uE(){return(uE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithEmailLink",Ge(n,e))})).apply(this,arguments)}function lE(){return(lE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithEmailLink",Ge(n,e))})).apply(this,arguments)}class fl extends jO{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new fl(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new fl(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){switch(t.signInMethod){case"password":return hl(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",DY);case"emailLink":return function xY(n,e){return uE.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Nn(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return hl(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bY);case"emailLink":return function RY(n,e){return lE.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Nn(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Si(n,e){return dE.apply(this,arguments)}function dE(){return(dE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithIdp",Ge(n,e))})).apply(this,arguments)}class ml{constructor(e){var t,r,i,s,o,a;const c=tl(nl(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function UY(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);R(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function BY(n){const e=tl(nl(n)).link,t=e?tl(nl(e)).deep_link_id:null,r=tl(nl(n)).deep_link_id;return(r?tl(nl(r)).link:null)||r||t||e||n}(e);try{return new ml(t)}catch{return null}}}let HO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return fl._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=ml.parseLink(r);return R(i,"argument-error"),fl._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ds{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jY extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function GO(n,e){return _E.apply(this,arguments)}function _E(){return(_E=_(function*(n,e){return bi(n,"POST","/v1/accounts:signUp",Ge(n,e))})).apply(this,arguments)}class dr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Di._fromIdTokenResponse(e,r,i),o=zO(r);return new dr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=zO(r);return new dr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function zO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class lp extends Ci{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new lp(e,t,r,i)}}function qO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?lp._fromErrorAndOperation(n,s,e,r):s})}function IE(n,e){return EE.apply(this,arguments)}function EE(){return(EE=_(function*(n,e,t=!1){const r=yield Ti(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return dr._forOperation(n,"link",r)})).apply(this,arguments)}function wE(){return(wE=_(function*(n,e,t=!1){const{auth:r}=n;if(qr(r.app))return Promise.reject(Bt(r));const i="reauthenticate";try{const s=yield Ti(n,qO(r,i,e,n),t);R(s.idToken,r,"internal-error");const o=sp(s.idToken);R(o,r,"internal-error");const{sub:a}=o;return R(n.uid===a,r,"user-mismatch"),dr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nn(r,"user-mismatch"),s}})).apply(this,arguments)}function QO(n,e){return bE.apply(this,arguments)}function bE(){return(bE=_(function*(n,e,t=!1){if(qr(n.app))return Promise.reject(Bt(n));const r="signIn",i=yield qO(n,r,e),s=yield dr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function DE(){return(DE=_(function*(n,e){return QO(gt(n),e)})).apply(this,arguments)}function OE(n){return NE.apply(this,arguments)}function NE(){return(NE=_(function*(n){const e=gt(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function jE(){return(jE=_(function*(n,e,t){if(qr(n.app))return Promise.reject(Bt(n));const r=gt(n),o=yield hl(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GO).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&OE(n),c}),a=yield dr._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const fp="__sak";class JO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hJ=(()=>{class n extends JO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function uJ(){const n=Nt();return WI(n)||ap(n)}()&&function sY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function iY(){return function _K(){const n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),ZO=(()=>{class n extends JO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let pJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function fJ(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function rC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class gJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const l=rC("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(f.data.response);break;default:clearTimeout(d),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Dt(){return window}function iC(){return typeof Dt().WorkerGlobalScope<"u"&&"function"==typeof Dt().importScripts}function sC(){return(sC=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const XO="firebaseLocalStorageDb",pp="firebaseLocalStorage",eN="fbase_key";class yl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function gp(n,e){return n.transaction([pp],e?"readwrite":"readonly").objectStore(pp)}function oC(){const n=indexedDB.open(XO,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pp,{keyPath:eN})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(pp)?e(r):(r.close(),yield function EJ(){const n=indexedDB.deleteDatabase(XO);return new yl(n).toPromise()}(),e(yield oC()))}))})}function tN(n,e,t){return aC.apply(this,arguments)}function aC(){return(aC=_(function*(n,e,t){const r=gp(n,!0).put({[eN]:e,value:t});return new yl(r).toPromise()})).apply(this,arguments)}function cC(){return(cC=_(function*(n,e){const t=gp(n,!1).get(e),r=yield new yl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function nN(n,e){const t=gp(n,!0).delete(e);return new yl(t).toPromise()}const TJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield oC()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return iC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=pJ._getInstance(function vJ(){return iC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function _J(){return sC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new gJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function yJ(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield oC();return yield tN(t,fp,"1"),yield nN(t,fp),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>tN(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function CJ(n,e){return cC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>nN(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=gp(o,!1).getAll();return new yl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function ho(n,e){return e?Ai(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}FO("rcb"),new al(3e4,6e4);class _C extends jO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Si(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BJ(n){return QO(n.auth,new _C(n),n.bypassAuthState)}function jJ(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),function KO(n,e){return wE.apply(this,arguments)}(t,new _C(n),n.bypassAuthState)}function $J(n){return yC.apply(this,arguments)}function yC(){return(yC=_(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),IE(t,new _C(n),n.bypassAuthState)})).apply(this,arguments)}new al(2e3,1e4);const vl=new Map;class zJ extends class HJ{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BJ;case"linkViaPopup":case"linkViaRedirect":return $J;case"reauthViaPopup":case"reauthViaRedirect":return jJ;default:Nn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=vl.get(t.auth._key());if(!r){try{const s=(yield function qJ(n,e){return wC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}vl.set(t.auth._key(),r)}return t.bypassAuthState||vl.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function wC(){return(wC=_(function*(n,e){const t=sN(e),r=iN(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function WJ(n,e){vl.set(n._key(),e)}function iN(n){return Ai(n._redirectPersistence)}function sN(n){return op("pendingRedirect",n.config.apiKey,n.name)}function oN(n,e){return PC.apply(this,arguments)}function PC(){return(PC=_(function*(n,e,t=!1){if(qr(n.app))return Promise.reject(Bt(n));const r=gt(n),i=ho(r,e),o=yield new zJ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class ZJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function XJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uN(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!uN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cN(e))}saveEventToCache(e){this.cachedEventUids.add(cN(e)),this.lastProcessedEventTime=Date.now()}}function cN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function uN({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function eZ(n){return RC.apply(this,arguments)}function RC(){return(RC=_(function*(n,e={}){return ze(n,"GET","/v1/projects",e)})).apply(this,arguments)}const tZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nZ=/^https?/;function kC(){return(kC=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield eZ(n);for(const t of e)try{if(iZ(t))return}catch{}Nn(n,"unauthorized-domain")})).apply(this,arguments)}function iZ(n){const e=ol(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!nZ.test(t))return!1;if(tZ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const sZ=new al(3e4,6e4);function lN(){const n=Dt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let _p=null;function aZ(n){return _p=_p||function oZ(n){return new Promise((e,t)=>{var r,i,s;function o(){lN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lN(),t(lr(n,"network-request-failed"))},timeout:sZ.get()})}if(null!==(i=null===(r=Dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Dt().gapi)||void 0===s||!s.load){const a=FO("iframefcb");return Dt()[a]=()=>{gapi.load?o():t(lr(n,"network-request-failed"))},QI(`${function pY(){return dl.gapiScript}()}?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw _p=null,e})}(n),_p}const cZ=new al(5e3,15e3),dZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fZ(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?PI(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Va},i=hZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Xf(r).slice(1)}`}function OC(){return OC=_(function*(n){const e=yield aZ(n),t=Dt().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:fZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dZ,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=lr(n,"network-request-failed"),c=Dt().setTimeout(()=>{o(a)},cZ.get());function u(){Dt().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),OC.apply(this,arguments)}const gZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bZ=encodeURIComponent("fac");function hN(n,e,t,r,i,s){return NC.apply(this,arguments)}function NC(){return(NC=_(function*(n,e,t,r,i,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Va,eventId:i};if(e instanceof ds){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",bK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof jY){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield n._getAppCheckToken(),u=c?`#${bZ}=${encodeURIComponent(c)}`:"";return`${TZ(n)}?${Xf(a).slice(1)}${u}`})).apply(this,arguments)}function TZ({config:n}){return n.emulator?PI(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const FC="webStorageSupport",AZ=class DZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZO,this._completeRedirectFn=oN,this._overrideRedirectResult=WJ}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;us(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield hN(e,t,r,ol(),i);return function IZ(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},gZ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Nt().toLowerCase();t&&(a=SO(u)?"_blank":t),AO(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function rY(n=Nt()){var e;return ap(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function EZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new dN(null);const d=window.open(e||"",a,l);R(d,n,"popup-blocked");try{d.focus()}catch{}return new dN(d)}(e,a,rC())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function mJ(n){Dt().location.href=n}(yield hN(e,t,r,ol(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function pZ(n){return OC.apply(this,arguments)}(e),i=new ZJ(e);return r.register("authEvent",s=>(R(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(FC,{type:FC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[FC];void 0!==o&&t(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function rZ(n){return kC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kO()||WI()||ap()}};var gN="@firebase/auth";class SZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const RZ=Wk("authIdTokenMaxAge")||300;let _N=null;const kZ=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>RZ)return;const s=r?.token;_N!==s&&(_N=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function yN(n=sO()){const e=np(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function yY(n,e){const t=np(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Zf(t.getOptions(),e??{}))return i;Nn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:AZ,persistence:[TJ,hJ,ZO]}),r=Wk("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=kZ(s.toString());(function iJ(n,e,t){Tn(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function rJ(n,e,t,r){Tn(n).onIdTokenChanged(e,t,r)}(t,a=>o(a))}}const i=zk("auth");return i&&function IY(n,e,t){const r=gt(n);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=UO(e),{host:o,port:a}=function EY(n){const e=UO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:BO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:BO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function CY(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function dY(n){dl=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function OZ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function PZ(n){Fa(new oo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OO(n)},u=new lY(r,i,s,c);return function vY(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Fa(new oo("auth-internal",e=>{const t=gt(e.getProvider("auth").getImmediate());return new SZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(gN,"1.7.2",function MZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),wi(gN,"1.7.2","esm2017")}("Browser"),wi("firebase","10.11.1","app");const Dn_apiKey="AIzaSyAf1sfoQYQ1NBf11I7use2SgeYdmV7R1ak",Dn_appId="1:1001517841425:web:e8ad18680dbfe7caca85b0";var V,VZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={},LC=LC||{},se=VZ||self;function vp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Il(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var UC="closure_uid_"+(1e9*Math.random()>>>0),UZ=0;function BZ(n,e,t){return n.call.apply(n.bind,arguments)}function jZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function hn(n,e,t){return(hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?BZ:jZ).apply(null,arguments)}function Ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function jt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function hs(){this.s=this.s,this.o=this.o}hs.prototype.s=!1,hs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function LZ(n){Object.prototype.hasOwnProperty.call(n,UC)&&n[UC]||(n[UC]=++UZ)}(this)},hs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function BC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function IN(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(vp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function fn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var HZ=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};se.addEventListener("test",t,e),se.removeEventListener("test",t,e)}catch{}return n}();function El(n){return/^[\s\xa0]*$/.test(n)}function Ep(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function Kr(n){return-1!=Ep().indexOf(n)}function jC(n){return jC[" "](n),n}jC[" "]=function(){};var HC,n,zZ=Kr("Opera"),ja=Kr("Trident")||Kr("MSIE"),EN=Kr("Edge"),$C=EN||ja,CN=Kr("Gecko")&&!(-1!=Ep().toLowerCase().indexOf("webkit")&&!Kr("Edge"))&&!(Kr("Trident")||Kr("MSIE"))&&!Kr("Edge"),qZ=-1!=Ep().toLowerCase().indexOf("webkit")&&!Kr("Edge");function wN(){var n=se.document;return n?n.documentMode:void 0}e:{var GC="",zC=(n=Ep(),CN?/rv:([^\);]+)(\)|;)/.exec(n):EN?/Edge\/([\d\.]+)/.exec(n):ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):qZ?/WebKit\/(\S+)/.exec(n):zZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zC&&(GC=zC?zC[1]:""),ja){var qC=wN();if(null!=qC&&qC>parseFloat(GC)){HC=String(qC);break e}}HC=GC}var WZ=se.document&&ja&&(wN()||parseInt(HC,10))||void 0;function Cl(n,e){if(fn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(CN){e:{try{jC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Cl.$.h.call(this)}}jt(Cl,fn);var KZ={2:"touch",3:"pen",4:"mouse"};Cl.prototype.h=function(){Cl.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wl="closure_listenable_"+(1e6*Math.random()|0),QZ=0;function YZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++QZ,this.fa=this.ia=!1}function Cp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function KC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function TN(n){const e={};for(const t in n)e[t]=n[t];return e}const DN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function AN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<DN.length;s++)t=DN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wp(n){this.src=n,this.g={},this.h=0}function QC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=vN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Cp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function YC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}wp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=YC(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new YZ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var JC="closure_lm_"+(1e6*Math.random()|0),ZC={};function SN(n,e,t,r,i){if(r&&r.once)return PN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)SN(n,e[s],t,r,i);return null}return t=nw(t),n&&n[wl]?n.O(e,t,Il(r)?!!r.capture:!!r,i):MN(n,e,t,!1,r,i)}function MN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Il(i)?!!i.capture:!!i,a=ew(n);if(a||(n[JC]=a=new wp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function ZZ(){const e=XZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)HZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(RN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function PN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)PN(n,e[s],t,r,i);return null}return t=nw(t),n&&n[wl]?n.P(e,t,Il(r)?!!r.capture:!!r,i):MN(n,e,t,!0,r,i)}function xN(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)xN(n,e[s],t,r,i);else r=Il(r)?!!r.capture:!!r,t=nw(t),n&&n[wl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=YC(s=n.g[e],t,r,i))&&(Cp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ew(n))&&(e=n.g[e.toString()],n=-1,e&&(n=YC(e,t,r,i)),(t=-1<n?e[n]:null)&&XC(t))}function XC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[wl])QC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(RN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ew(e))?(QC(t,n),0==t.h&&(t.src=null,e[JC]=null)):Cp(n)}}}function RN(n){return n in ZC?ZC[n]:ZC[n]="on"+n}function XZ(n,e){if(n.fa)n=!0;else{e=new Cl(e,this);var t=n.listener,r=n.la||n.src;n.ia&&XC(n),n=t.call(r,e)}return n}function ew(n){return(n=n[JC])instanceof wp?n:null}var tw="__closure_events_fn_"+(1e9*Math.random()>>>0);function nw(n){return"function"==typeof n?n:(n[tw]||(n[tw]=function(e){return n.handleEvent(e)}),n[tw])}function $t(){hs.call(this),this.i=new wp(this),this.S=this,this.J=null}function Jt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new fn(e,n);else if(e instanceof fn)e.target=e.target||n;else{var i=e;AN(e=new fn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=bp(o,r,!0,e)&&i}if(i=bp(o=e.g=n,r,!0,e)&&i,i=bp(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=bp(o=e.g=t[s],r,!1,e)&&i}function bp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&QC(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}jt($t,hs),$t.prototype[wl]=!0,$t.prototype.removeEventListener=function(n,e,t,r){xN(this,n,e,t,r)},$t.prototype.N=function(){if($t.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Cp(t[r]);delete n.g[e],n.h--}}this.J=null},$t.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},$t.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var rw=se.JSON.stringify;function tX(){var n=iw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kN=new class eX{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new rX,n=>n.reset());class rX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function iX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function sX(n){se.setTimeout(()=>{throw n},0)}let bl,Tl=!1,iw=new class nX{constructor(){this.h=this.g=null}add(e,t){const r=kN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},ON=()=>{const n=se.Promise.resolve(void 0);bl=()=>{n.then(oX)}};var oX=()=>{for(var n;n=tX();){try{n.h.call(n.g)}catch(t){sX(t)}var e=kN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Tl=!1};function Tp(n,e){$t.call(this),this.h=n||1,this.g=e||se,this.j=hn(this.qb,this),this.l=Date.now()}function sw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function ow(n,e,t){if("function"==typeof n)t&&(n=hn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=hn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function NN(n){n.g=ow(()=>{n.g=null,n.i&&(n.i=!1,NN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}jt(Tp,$t),(V=Tp.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Jt(this,"tick"),this.ga&&(sw(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){Tp.$.N.call(this),sw(this),delete this.g};class aX extends hs{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:NN(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dl(n){hs.call(this),this.h=n,this.g={}}jt(Dl,hs);var FN=[];function VN(n,e,t,r){Array.isArray(t)||(t&&(FN[0]=t.toString()),t=FN);for(var i=0;i<t.length;i++){var s=SN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function LN(n){KC(n.g,function(e,t){this.g.hasOwnProperty(t)&&XC(e)},n),n.g={}}function Dp(){this.g=!0}function $a(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function dX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return rw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Dl.prototype.N=function(){Dl.$.N.call(this),LN(this)},Dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Dp.prototype.Ea=function(){this.g=!1},Dp.prototype.info=function(){};var fo={},UN=null;function Ap(){return UN=UN||new $t}function BN(n){fn.call(this,fo.Ta,n)}function Al(n){const e=Ap();Jt(e,new BN(e))}function jN(n,e){fn.call(this,fo.STAT_EVENT,n),this.stat=e}function An(n){const e=Ap();Jt(e,new jN(e,n))}function $N(n,e){fn.call(this,fo.Ua,n),this.size=e}function Sl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}fo.Ta="serverreachability",jt(BN,fn),fo.STAT_EVENT="statevent",jt(jN,fn),fo.Ua="timingevent",jt($N,fn);var Sp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},HN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aw(){}function zN(){}aw.prototype.h=null;var lw,Ml={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function cw(){fn.call(this,"d")}function uw(){fn.call(this,"c")}function Mp(){}function Pl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Dl(this),this.P=hX,this.V=new Tp(n=$C?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qN}function qN(){this.i=null,this.g="",this.h=!1}jt(cw,fn),jt(uw,fn),jt(Mp,aw),Mp.prototype.g=function(){return new XMLHttpRequest},Mp.prototype.i=function(){return{}},lw=new Mp;var hX=45e3,WN={},dw={};function hw(n,e,t){n.L=1,n.A=kp(Mi(e)),n.u=t,n.S=!0,KN(n,null)}function KN(n,e){n.G=Date.now(),xl(n),n.B=Mi(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),iF(t.i,"t",r),n.o=0,t=n.l.J,n.h=new qN,n.g=SF(n.l,t?e:null,!n.u),0<n.O&&(n.M=new aX(hn(n.Pa,n,n.g),n.O)),VN(n.U,n.g,"readystatechange",n.nb),e=n.I?TN(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Al(),function cX(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function QN(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function YN(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=fX(n,t),i==dw){4==e&&(n.s=4,An(14),r=!1),$a(n.j,n.m,null,"[Incomplete Response]");break}if(i==WN){n.s=4,An(15),$a(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}$a(n.j,n.m,i,null),fw(n,i)}QN(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,An(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Iw(e),e.M=!0,An(11))):($a(n.j,n.m,t,"[Invalid Chunked Response]"),po(n),Rl(n))}function fX(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?dw:(t=Number(e.substring(t,r)),isNaN(t)?WN:(r+=1)+t>e.length?dw:(e=e.slice(r,r+t),n.o=r+t,e))}function xl(n){n.Y=Date.now()+n.P,JN(n,n.P)}function JN(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=Sl(hn(n.lb,n),e)}function Pp(n){n.C&&(se.clearTimeout(n.C),n.C=null)}function Rl(n){0==n.l.H||n.J||bF(n.l,n)}function po(n){Pp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,sw(n.V),LN(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function fw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||pw(t.i,n)))if(!n.K&&pw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Up(t),Vp(t)}vw(t),An(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Sl(hn(t.ib,t),6e3));if(1>=aF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else mo(t,11)}else if((n.K||t.g==n)&&Up(t),!El(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const l=u[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=u[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=u[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(gw(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=AF(r,r.J?r.pa:null,r.Y),o.K){cF(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Pp(a),xl(a)),r.g=o}else CF(r);0<t.j.length&&Lp(t)}else"stop"!=u[0]&&"close"!=u[0]||mo(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?mo(t,7):yw(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}Al()}catch{}}function ZN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(vp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gX(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(vp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pX(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(vp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(V=Pl.prototype).setTimeout=function(n){this.P=n},V.nb=function(n){n=n.target;const e=this.M;e&&3==Qr(n)?e.l():this.Pa(n)},V.Pa=function(n){try{if(n==this.g)e:{const l=Qr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||$C||this.g&&(this.h.h||this.g.ja()||mF(this.g)))){this.J||4!=l||7==e||Al(),Pp(this);var t=this.g.da();this.ca=t;t:if(QN(this)){var r=mF(this.g);n="";var i=r.length,s=4==Qr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){po(this),Rl(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function uX(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!El(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.s=3,An(12),po(this),Rl(this);break e}$a(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fw(this,t)}this.S?(YN(this,l,o),$C&&this.i&&3==l&&(VN(this.U,this.V,"tick",this.mb),this.V.start())):($a(this.j,this.m,o,null),fw(this,o)),4==l&&po(this),this.i&&!this.J&&(4==l?bF(this.l,this):(this.i=!1,xl(this)))}else(function kX(n){const e={};n=(n.g&&2<=Qr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(El(n[r]))continue;var t=iX(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function JZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),po(this),Rl(this)}}}catch{}},V.mb=function(){if(this.g){var n=Qr(this.g),e=this.g.ja();this.o<e.length&&(Pp(this),YN(this,n,e),this.i&&4!=n&&xl(this))}},V.cancel=function(){this.J=!0,po(this)},V.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function lX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Al(),An(17)),po(this),this.s=2,Rl(this)):JN(this,this.Y-n)};var XN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function go(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof go){this.h=n.h,xp(this,n.j),this.s=n.s,this.g=n.g,Rp(this,n.m),this.l=n.l;var e=n.i,t=new Nl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),eF(this,t),this.o=n.o}else n&&(e=String(n).match(XN))?(this.h=!1,xp(this,e[1]||"",!0),this.s=kl(e[2]||""),this.g=kl(e[3]||"",!0),Rp(this,e[4]),this.l=kl(e[5]||"",!0),eF(this,e[6]||"",!0),this.o=kl(e[7]||"")):(this.h=!1,this.i=new Nl(null,this.h))}function Mi(n){return new go(n)}function xp(n,e,t){n.j=t?kl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function eF(n,e,t){e instanceof Nl?(n.i=e,function CX(n,e){e&&!n.j&&(fs(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(nF(this,r),iF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ol(e,IX)),n.i=new Nl(e,n.h))}function qe(n,e,t){n.i.set(e,t)}function kp(n){return qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ol(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_X),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _X(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}go.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ol(e,tF,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ol(e,tF,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ol(t,"/"==t.charAt(0)?vX:yX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ol(t,EX)),n.join("")};var tF=/[#\/\?@]/g,yX=/[#\?:]/g,vX=/[#\?]/g,IX=/[#\?@]/g,EX=/#/g;function Nl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function fs(n){n.g||(n.g=new Map,n.h=0,n.i&&function mX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function nF(n,e){fs(n),e=Ha(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function rF(n,e){return fs(n),e=Ha(n,e),n.g.has(e)}function iF(n,e,t){nF(n,e),0<t.length&&(n.i=null,n.g.set(Ha(n,e),BC(t)),n.h+=t.length)}function Ha(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function sF(n){this.l=n||bX,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=Nl.prototype).add=function(n,e){fs(this),this.i=null,n=Ha(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){fs(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},V.ta=function(){fs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},V.Z=function(n){fs(this);let e=[];if("string"==typeof n)rF(this,n)&&(e=e.concat(this.g.get(Ha(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},V.set=function(n,e){return fs(this),this.i=null,rF(this,n=Ha(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var bX=10;function oF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function aF(n){return n.h?1:n.g?n.g.size:0}function pw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function gw(n,e){n.g?n.g.add(e):n.h=e}function cF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function uF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return BC(n.i)}function DX(){this.g=new class{stringify(n){return se.JSON.stringify(n,void 0)}parse(n){return se.JSON.parse(n,void 0)}}}function AX(n,e,t){const r=t||"";try{ZN(n,function(i,s){let o=i;Il(i)&&(o=rw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Op(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Fl(n){this.l=n.ec||null,this.j=n.ob||!1}function Np(n,e){$t.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=mw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sF.prototype.cancel=function(){if(this.i=uF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jt(Fl,aw),Fl.prototype.g=function(){return new Np(this.l,this.j)},Fl.prototype.i=function(n){return function(){return n}}({}),jt(Np,$t);var mw=0;function lF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Vl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ll(n)}function Ll(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=Np.prototype).open=function(n,e){if(this.readyState!=mw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ll(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vl(this)),this.readyState=mw},V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;lF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Vl(this):Ll(this),3==this.readyState&&lF(this)}},V.Za=function(n){this.g&&(this.response=this.responseText=n,Vl(this))},V.Ya=function(n){this.g&&(this.response=n,Vl(this))},V.ka=function(){this.g&&Vl(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Np.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var MX=se.JSON.parse;function lt(n){$t.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dF,this.L=this.M=!1}jt(lt,$t);var dF="",PX=/^https?$/i,xX=["POST","PUT"];function hF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,fF(n),Fp(n)}function fF(n){n.F||(n.F=!0,Jt(n,"complete"),Jt(n,"error"))}function pF(n){if(n.h&&typeof LC<"u"&&(!n.C[1]||4!=Qr(n)||2!=n.da()))if(n.v&&4==Qr(n))ow(n.La,0,n);else if(Jt(n,"readystatechange"),4==Qr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(XN)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!PX.test(i?i.toLowerCase():"")}t=r}if(t)Jt(n,"complete"),Jt(n,"success");else{n.m=6;try{var s=2<Qr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",fF(n)}}finally{Fp(n)}}}function Fp(n,e){if(n.g){gF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Jt(n,"ready");try{t.onreadystatechange=r}catch{}}}function gF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Qr(n){return n.g?n.g.readyState:0}function mF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case dF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _F(n){let e="";return KC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function _w(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_F(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qe(n,e,t))}function Ul(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function yF(n){this.Ga=0,this.j=[],this.l=new Dp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ul("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ul("baseRetryDelayMs",5e3,n),this.hb=Ul("retryDelaySeedMs",1e4,n),this.eb=Ul("forwardChannelMaxRetries",2,n),this.xa=Ul("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new sF(n&&n.concurrentRequestLimit),this.Ja=new DX,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function yw(n){if(vF(n),3==n.H){var e=n.W++,t=Mi(n.I);if(qe(t,"SID",n.K),qe(t,"RID",e),qe(t,"TYPE","terminate"),Bl(n,t),(e=new Pl(n,n.l,e)).L=2,e.A=kp(Mi(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.A,t=!0),t||(e.g=SF(e.l,null),e.g.ha(e.A)),e.G=Date.now(),xl(e)}DF(n)}function Vp(n){n.g&&(Iw(n),n.g.cancel(),n.g=null)}function vF(n){Vp(n),n.u&&(se.clearTimeout(n.u),n.u=null),Up(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function Lp(n){if(!oF(n.i)&&!n.m){n.m=!0;var e=n.Na;bl||ON(),Tl||(bl(),Tl=!0),iw.add(e,n),n.C=0}}function IF(n,e){var t;t=e?e.m:n.W++;const r=Mi(n.I);qe(r,"SID",n.K),qe(r,"RID",t),qe(r,"AID",n.V),Bl(n,r),n.o&&n.s&&_w(r,n.o,n.s),t=new Pl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=EF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),gw(n.i,t),hw(t,r,e)}function Bl(n,e){n.na&&KC(n.na,function(t,r){qe(e,r,t)}),n.h&&ZN({},function(t,r){qe(e,r,t)})}function EF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?hn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{AX(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function CF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;bl||ON(),Tl||(bl(),Tl=!0),iw.add(e,n),n.A=0}}function vw(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sl(hn(n.Ma,n),TF(n,n.A)),n.A++,0))}function Iw(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function wF(n){n.g=new Pl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Mi(n.wa);qe(e,"RID","rpc"),qe(e,"SID",n.K),qe(e,"AID",n.V),qe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&qe(e,"TO",n.qa),qe(e,"TYPE","xmlhttp"),Bl(n,e),n.o&&n.s&&_w(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=kp(Mi(e)),t.u=null,t.S=!0,KN(t,n)}function Up(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function bF(n,e){var t=null;if(n.g==e){Up(n),Iw(n),n.g=null;var r=2}else{if(!pw(n.i,e))return;t=e.F,cF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Jt(r=Ap(),new $N(r,t)),Lp(n)}else CF(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function OX(n,e){return!(aF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sl(hn(n.Na,n,e),TF(n,n.C)),n.C++,0)))}(n,e)||2==r&&vw(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:mo(n,5);break;case 4:mo(n,10);break;case 3:mo(n,6);break;default:mo(n,2)}}function TF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function mo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=hn(n.pb,n);t||(t=new go("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||xp(t,"https"),kp(t)),function SX(n,e){const t=new Dp;if(se.Image){const r=new Image;r.onload=Ip(Op,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Ip(Op,t,r,"TestLoadImage: error",!1,e),r.onabort=Ip(Op,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ip(Op,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else An(2);n.H=0,n.h&&n.h.za(e),DF(n),vF(n)}function DF(n){if(n.H=0,n.ma=[],n.h){const e=uF(n.i);(0!=e.length||0!=n.j.length)&&(IN(n.ma,e),IN(n.ma,n.j),n.i.i.length=0,BC(n.j),n.j.length=0),n.h.ya()}}function AF(n,e,t){var r=t instanceof go?Mi(t):new go(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Rp(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new go(null);r&&xp(s,r),e&&(s.g=e),i&&Rp(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&qe(r,t,e),qe(r,"VER",n.ra),Bl(n,r),r}function SF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lt(n.Ha&&!n.va?new Fl({ob:t}):n.va)).Oa(n.J),e}function MF(){}function Bp(){if(ja&&!(10<=Number(WZ)))throw Error("Environmental error: no available transport.")}function Yn(n,e){$t.call(this),this.g=new yF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!El(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!El(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ga(this)}function PF(n){cw.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function xF(){uw.call(this),this.status=1}function Ga(n){this.g=n}function Ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Ew(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function xe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(V=lt.prototype).Oa=function(n){this.M=n},V.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lw.g(),this.C=function GN(n){return n.h||(n.h=n.i())}(this.u?this.u:lw),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void hF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=vN(xX,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gF(this),0<this.B&&((this.L=function RX(n){return ja&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=ow(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){hF(this,s)}},V.ua=function(){typeof LC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Jt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Jt(this,"complete"),Jt(this,"abort"),Fp(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fp(this,!0)),lt.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?pF(this):this.kb())},V.kb=function(){pF(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<Qr(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),MX(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=yF.prototype).ra=8,V.H=1,V.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Pl(this,this.l,n);let s=this.s;if(this.U&&(s?(s=TN(s),AN(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EF(this,i,e),qe(t=Mi(this.I),"RID",n),qe(t,"CVER",22),this.F&&qe(t,"X-HTTP-Session-Id",this.F),Bl(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(_F(s)))+"&"+e:this.o&&_w(t,this.o,s)),gw(this.i,i),this.bb&&qe(t,"TYPE","init"),this.P?(qe(t,"$req",e),qe(t,"SID","null"),i.aa=!0,hw(i,t,null)):hw(i,t,e),this.H=2}}else 3==this.H&&(n?IF(this,n):0==this.j.length||oF(this.i)||IF(this))},V.Ma=function(){if(this.u=null,wF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Sl(hn(this.jb,this),n)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),Vp(this),wF(this))},V.ib=function(){null!=this.v&&(this.v=null,Vp(this),vw(this),An(19))},V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=MF.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},Bp.prototype.g=function(n,e){return new Yn(n,e)},jt(Yn,$t),Yn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;An(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=AF(n,null,n.Y),Lp(n)},Yn.prototype.close=function(){yw(this.g)},Yn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=rw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Lp(e)},Yn.prototype.N=function(){this.g.h=null,delete this.j,yw(this.g),delete this.g,Yn.$.N.call(this)},jt(PF,cw),jt(xF,uw),jt(Ga,MF),Ga.prototype.Ba=function(){Jt(this.g,"a")},Ga.prototype.Aa=function(n){Jt(this.g,new PF(n))},Ga.prototype.za=function(n){Jt(this.g,new xF)},Ga.prototype.ya=function(){Jt(this.g,"b")},jt(Ar,function NX(){this.blockSize=-1}),Ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ar.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)Ew(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){Ew(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){Ew(this,r),i=0;break}}this.h=i,this.i+=e},Ar.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var FX={};function Cw(n){return-128<=n&&128>n?function GZ(n,e){var t=FX;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|n],0>n?-1:0)}function Yr(n){if(isNaN(n)||!isFinite(n))return za;if(0>n)return Zt(Yr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ww;return new xe(e,0)}var ww=4294967296,za=Cw(0),bw=Cw(1),kF=Cw(16777216);function Pi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function hr(n){return-1==n.h}function Zt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new xe(t,~n.h).add(bw)}function jp(n,e){return n.add(Zt(e))}function $p(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function jl(n,e){this.g=n,this.h=e}function Hp(n,e){if(Pi(e))throw Error("division by zero");if(Pi(n))return new jl(za,za);if(hr(n))return e=Hp(Zt(n),e),new jl(Zt(e.g),Zt(e.h));if(hr(e))return e=Hp(n,Zt(e)),new jl(Zt(e.g),e.h);if(30<n.g.length){if(hr(n)||hr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=bw,r=e;0>=r.X(n);)t=OF(t),r=OF(r);var i=qa(t,1),s=qa(r,1);for(r=qa(r,2),t=qa(t,2);!Pi(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=qa(r,1),t=qa(t,1)}return e=jp(n,i.R(e)),new jl(i,e)}for(i=za;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Yr(t)).R(e);hr(o)||0<o.X(n);)o=(s=Yr(t-=r)).R(e);Pi(s)&&(s=bw),i=i.add(s),n=jp(n,o)}return new jl(i,n)}function OF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new xe(t,n.h)}function qa(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new xe(i,n.h)}(V=xe.prototype).ea=function(){if(hr(this))return-Zt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ww+r)*e,e*=ww}return n},V.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pi(this))return"0";if(hr(this))return"-"+Zt(this).toString(n);for(var e=Yr(Math.pow(n,6)),t=this,r="";;){var i=Hp(t,e).g,s=((0<(t=jp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pi(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},V.X=function(n){return hr(n=jp(this,n))?-1:Pi(n)?0:1},V.abs=function(){return hr(this)?Zt(this):this},V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new xe(t,-2147483648&t[t.length-1]?-1:0)},V.R=function(n){if(Pi(this)||Pi(n))return za;if(hr(this))return hr(n)?Zt(this).R(Zt(n)):Zt(Zt(this).R(n));if(hr(n))return Zt(this.R(Zt(n)));if(0>this.X(kF)&&0>n.X(kF))return Yr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,$p(t,2*r+2*i),t[2*r+2*i+1]+=s*c,$p(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,$p(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,$p(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new xe(t,0)},V.gb=function(n){return Hp(this,n).h},V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new xe(t,this.h&n.h)},V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new xe(t,this.h|n.h)},V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new xe(t,this.h^n.h)},Bp.prototype.createWebChannel=Bp.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Sp.NO_ERROR=0,Sp.TIMEOUT=8,Sp.HTTP_ERROR=6,HN.COMPLETE="complete",zN.EventType=Ml,Ml.OPEN="a",Ml.CLOSE="b",Ml.ERROR="c",Ml.MESSAGE="d",$t.prototype.listen=$t.prototype.O,lt.prototype.listenOnce=lt.prototype.P,lt.prototype.getLastError=lt.prototype.Sa,lt.prototype.getLastErrorCode=lt.prototype.Ia,lt.prototype.getStatus=lt.prototype.da,lt.prototype.getResponseJson=lt.prototype.Wa,lt.prototype.getResponseText=lt.prototype.ja,lt.prototype.send=lt.prototype.ha,lt.prototype.setWithCredentials=lt.prototype.Oa,Ar.prototype.digest=Ar.prototype.l,Ar.prototype.reset=Ar.prototype.reset,Ar.prototype.update=Ar.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=Yr,xe.fromString=function RF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Zt(RF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yr(Math.pow(e,8)),r=za,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Yr(Math.pow(e,s)),r=r.R(s).add(Yr(o))):r=(r=r.R(t)).add(Yr(o))}return r};var VX=Dr.createWebChannelTransport=function(){return new Bp},LX=Dr.getStatEventTarget=function(){return Ap()},Tw=Dr.ErrorCode=Sp,UX=Dr.EventType=HN,BX=Dr.Event=fo,NF=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},jX=Dr.FetchXmlHttpFactory=Fl,Gp=Dr.WebChannel=zN,$X=Dr.XhrIo=lt,HX=Dr.Md5=Ar,Wa=Dr.Integer=xe;const FF="@firebase/firestore";class Ht{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");let Ka="10.11.1";const ps=new gI("@firebase/firestore");function Qa(){return ps.logLevel}function S(n,...e){if(ps.logLevel<=_e.DEBUG){const t=e.map(Dw);ps.debug(`Firestore (${Ka}): ${n}`,...t)}}function mt(n,...e){if(ps.logLevel<=_e.ERROR){const t=e.map(Dw);ps.error(`Firestore (${Ka}): ${n}`,...t)}}function Jn(n,...e){if(ps.logLevel<=_e.WARN){const t=e.map(Dw);ps.warn(`Firestore (${Ka}): ${n}`,...t)}}function Dw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: `+n;throw mt(e),new Error(e)}function G(n,e){n||$()}function O(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ft{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class VF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ht.UNAUTHENTICATED))}shutdown(){}}class zX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class qX{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ft,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(_(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ft)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new VF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new Ht(e)}}class WX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new WX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class LF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.R=t.token,new LF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function YX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class UF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=YX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function Ya(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class it{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new it(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new it(0,0))}static max(){return new q(new it(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $l{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===$l.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof $l?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ye extends $l{construct(e,t,r){return new ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ye(t)}static emptyPath(){return new ye([])}}const JX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends $l{construct(e,t,r){return new Je(e,t,r)}static isValidIdentifier(e){return JX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(t)}static emptyPath(){return new Je([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(ye.fromString(e))}static fromName(e){return new F(ye.fromString(e).popFirst(5))}static empty(){return new F(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ye.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new ye(e.slice()))}}function $F(n){return new Zn(n.readTime,n.key,-1)}class Zn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Zn(q.min(),F.empty(),-1)}static max(){return new Zn(q.max(),F.empty(),-1)}}function Sw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const HF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function gs(n){return Mw.apply(this,arguments)}function Mw(){return Mw=_(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==HF)throw n;S("LocalStore","Unexpectedly lost primary lease")}),Mw.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof I?t:I.resolve(t)}catch(t){return I.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):I.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):I.reject(t)}static resolve(e){return new I((t,r)=>{t(e)})}static reject(e){return new I((t,r)=>{r(e)})}static waitFor(e){return new I((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=I.resolve(!1);for(const r of e)t=t.next(i=>i?I.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new I((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function ms(n){return"IndexedDbTransactionError"===n.name}let Xn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Gl(n){return null==n}function zl(n){return 0===n&&1/n==-1/0}function XF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _s(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function eV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class je{constructor(e,t){this.comparator=e,this.root=t||Xt.EMPTY}insert(e,t){return new je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wp(this.root,e,this.comparator,!0)}}class Wp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Xt.RED,this.left=i??Xt.EMPTY,this.right=s??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Xt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Xt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1,Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Xt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new tV(this.data.getIterator())}getIteratorFrom(e){return new tV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ke(this.comparator);return t.data=e,t}}class tV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fn{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Fn([])}unionWith(e){let t=new ke(Je.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Fn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class nV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new nV("Invalid base64 string: "+s):s}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const bee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(n){if(G(!!n),"string"==typeof n){let e=0;const t=bee.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ri(n){return"string"==typeof n?Vt.fromBase64String(n):Vt.fromUint8Array(n)}function Kp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Qp(n){const e=n.mapValue.fields.__previous_value__;return Kp(e)?Qp(e):e}function ql(n){const e=xi(n.mapValue.fields.__local_write_time__.timestampValue);return new it(e.seconds,e.nanos)}class Tee{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class Io{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}const ys_mapValue={fields:{__type__:{stringValue:"__max__"}}};function vs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kp(n)?4:oV(n)?9007199254740991:10:$()}function Xr(n,e){if(n===e)return!0;const t=vs(n);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ql(n).isEqual(ql(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ri(n.bytesValue).isEqual(Ri(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),a=dt(s.doubleValue);return o===a?zl(o)===zl(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Ya(n.arrayValue.values||[],e.arrayValue.values||[],Xr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(XF(o)!==XF(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!Xr(o[c],a[c])))return!1;return!0}(n,e);default:return $()}var s}function Wl(n,e){return void 0!==(n.values||[]).find(t=>Xr(t,e))}function Is(n,e){if(n===e)return 0;const t=vs(n),r=vs(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=dt(s.integerValue||s.doubleValue),c=dt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return rV(n.timestampValue,e.timestampValue);case 4:return rV(ql(n),ql(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Ri(s),c=Ri(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const l=re(a[u],c[u]);if(0!==l)return l}return re(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(dt(s.latitude),dt(o.latitude));return 0!==a?a:re(dt(s.longitude),dt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const l=Is(a[u],c[u]);if(l)return l}return re(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ys_mapValue&&o===ys_mapValue)return 0;if(s===ys_mapValue)return 1;if(o===ys_mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){const h=re(c[d],l[d]);if(0!==h)return h;const f=Is(a[c[d]],u[l[d]]);if(0!==f)return f}return re(c.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function rV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=xi(n),r=xi(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function ec(n){return Rw(n)}function Rw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ri(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Rw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Rw(t.fields[o])}`;return i+"}"}(n.mapValue):$()}function kw(n){return!!n&&"integerValue"in n}function Kl(n){return!!n&&"arrayValue"in n}function iV(n){return!!n&&"nullValue"in n}function sV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zp(n){return!!n&&"mapValue"in n}function Ql(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _s(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ql(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ql(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(t)}setAll(e){let t=Je.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Ql(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Zp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_s(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new en(Ql(this.value))}}function uV(n){const e=[];return _s(n.fields,(t,r)=>{const i=new Je([t]);if(Zp(r)){const s=uV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Fn(e)}class We{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new We(e,0,q.min(),q.min(),q.min(),en.empty(),0)}static newFoundDocument(e,t,r,i){return new We(e,1,t,q.min(),r,i,0)}static newNoDocument(e,t){return new We(e,2,t,q.min(),q.min(),en.empty(),0)}static newUnknownDocument(e,t){return new We(e,3,t,q.min(),q.min(),en.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Es{constructor(e,t){this.position=e,this.inclusive=t}}function lV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?F.comparator(F.fromName(o.referenceValue),t.key):Is(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function dV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Xr(n.position[t],e.position[t]))return!1;return!0}class Yl{constructor(e,t="asc"){this.field=e,this.dir=t}}function See(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class hV{}class ve extends hV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Mee(e,t,r):"array-contains"===t?new Ree(e,r):"in"===t?new yV(e,r):"not-in"===t?new kee(e,r):"array-contains-any"===t?new Oee(e,r):new ve(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Pee(e,r):new xee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Is(t,this.value)):null!==t&&vs(this.value)===vs(t)&&this.matchesComparison(Is(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends hV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Re(e,t)}matches(e){return tc(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tc(n){return"and"===n.op}function Nw(n){return function fV(n){for(const e of n.filters)if(e instanceof Re)return!1;return!0}(n)&&tc(n)}function Fw(n){if(n instanceof ve)return n.field.canonicalString()+n.op.toString()+ec(n.value);if(Nw(n))return n.filters.map(e=>Fw(e)).join(",");{const e=n.filters.map(t=>Fw(t)).join(",");return`${n.op}(${e})`}}function pV(n,e){return n instanceof ve?(r=n,(i=e)instanceof ve&&r.op===i.op&&r.field.isEqual(i.field)&&Xr(r.value,i.value)):n instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&pV(o,i.filters[a]),!0)}(n,e):void $();var r,i}function mV(n){return n instanceof ve?`${(t=n).field.canonicalString()} ${t.op} ${ec(t.value)}`:n instanceof Re?function(t){return t.op.toString()+" {"+t.getFilters().map(mV).join(" ,")+"}"}(n):"Filter";var t}class Mee extends ve{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pee extends ve{constructor(e,t){super(e,"in",t),this.keys=_V(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xee extends ve{constructor(e,t){super(e,"not-in",t),this.keys=_V(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _V(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class Ree extends ve{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Kl(t)&&Wl(t.arrayValue,this.value)}}class yV extends ve{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wl(this.value.arrayValue,t)}}class kee extends ve{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wl(this.value.arrayValue,t)}}class Oee extends ve{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Kl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wl(this.value.arrayValue,r))}}class Nee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Vw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Nee(n,e,t,r,i,s,o)}function Co(n){const e=O(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Gl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ec(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ec(r)).join(",")),e.ue=t}return e.ue}function Jl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!See(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!dV(n.startAt,e.startAt)&&dV(n.endAt,e.endAt)}function Xp(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ki{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function nc(n){return new ki(n)}function CV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rc(n){const e=O(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ke(Je.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Yl(s,r))}),t.has(Je.keyField().canonicalString())||e.ce.push(new Yl(Je.keyField(),r))}return e.ce}function Sn(n){const e=O(n);return e.le||(e.le=function wV(n,e){if("F"===n.limitType)return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Yl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Es(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Es(n.startAt.position,n.startAt.inclusive):null;return Vw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,rc(n))),e.le}function tg(n,e,t){return new ki(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zl(n,e){return Jl(Sn(n),Sn(e))&&n.limitType===e.limitType}function bV(n){return`${Co(Sn(n))}|lt:${n.limitType}`}function ic(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>mV(i)).join(", ")}]`),Gl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>ec(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>ec(i)).join(",")),`Target(${r})`}(Sn(n))}; limitType=${n.limitType})`}function Xl(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of rc(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const u=lV(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,rc(r),i)||r.endAt&&!function(o,a,c){const u=lV(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,rc(r),i)));var r,i}function DV(n){return(e,t)=>{let r=!1;for(const i of rc(n)){const s=Fee(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Fee(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return null!==c&&null!==u?Is(c,u):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class Oi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return eV(this.inner)}size(){return this.innerSize}}const Vee=new je(F.comparator);function Vn(){return Vee}const AV=new je(F.comparator);function ed(...n){let e=AV;for(const t of n)e=e.insert(t.key,t);return e}function SV(n){let e=AV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ei(){return td()}function MV(){return td()}function td(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Lee=new je(F.comparator),Uee=new ke(F.comparator);function de(...n){let e=Uee;for(const t of n)e=e.add(t);return e}const Bee=new ke(re);function PV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zl(e)?"-0":e}}function xV(n){return{integerValue:""+n}}function RV(n,e){return function qF(n){return"number"==typeof n&&Number.isInteger(n)&&!zl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?xV(e):PV(n,e)}class ng{constructor(){this._=void 0}}function jee(n,e,t){return n instanceof sc?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Kp(s)&&(s=Qp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof wo?OV(n,e):n instanceof bo?NV(n,e):function(i,s){const o=kV(i,s),a=FV(o)+FV(i.Pe);return kw(o)&&kw(i.Pe)?xV(a):PV(i.serializer,a)}(n,e)}function $ee(n,e,t){return n instanceof wo?OV(n,e):n instanceof bo?NV(n,e):t}function kV(n,e){return n instanceof oc?kw(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class sc extends ng{}class wo extends ng{constructor(e){super(),this.elements=e}}function OV(n,e){const t=VV(e);for(const r of n.elements)t.some(i=>Xr(i,r))||t.push(r);return{arrayValue:{values:t}}}class bo extends ng{constructor(e){super(),this.elements=e}}function NV(n,e){let t=VV(e);for(const r of n.elements)t=t.filter(i=>!Xr(i,r));return{arrayValue:{values:t}}}class oc extends ng{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function FV(n){return dt(n.integerValue||n.doubleValue)}function VV(n){return Kl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gee{constructor(e,t){this.version=e,this.transformResults=t}}class Ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ig{}function LV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new cc(n.key,Ze.none()):new ac(n.key,n.data,Ze.none());{const t=n.data,r=en.empty();let i=new ke(Je.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(n.key,r,new Fn(i.toArray()),Ze.none())}}function zee(n,e,t){n instanceof ac?function(i,s,o){const a=i.value.clone(),c=jV(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ni?function(i,s,o){if(!rg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=jV(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(BV(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rd(n,e,t,r){return n instanceof ac?function(s,o,a,c){if(!rg(s.precondition,o))return a;const u=s.value.clone(),l=$V(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ni?function(s,o,a,c){if(!rg(s.precondition,o))return a;const u=$V(s.fieldTransforms,c,o),l=o.data;return l.setAll(BV(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,rg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function qee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=kV(r.transform,i||null);null!=s&&(null===t&&(t=en.empty()),t.set(r.field,s))}return t||null}function UV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Ya(r,i,(s,o)=>function Hee(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof wo&&i instanceof wo||r instanceof bo&&i instanceof bo?Ya(r.elements,i.elements,Xr):r instanceof oc&&i instanceof oc?Xr(r.Pe,i.Pe):r instanceof sc&&i instanceof sc);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ac extends ig{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends ig{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jV(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,$ee(o,a,t[i]))}return r}function $V(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,jee(s,o,e))}return r}class cc extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jw extends ig{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $w{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zee(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=LV(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(t,r)=>UV(t,r))&&Ya(this.baseMutations,e.baseMutations,(t,r)=>UV(t,r))}}class Hw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=Lee;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hw(e,t,r,i)}}class Gw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kee{constructor(e,t){this.count=e,this.unchangedNames=t}}var At,we;function HV(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function GV(n){if(void 0===n)return mt("GRPC error has no .code"),E.UNKNOWN;switch(n){case At.OK:return E.OK;case At.CANCELLED:return E.CANCELLED;case At.UNKNOWN:return E.UNKNOWN;case At.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case At.INTERNAL:return E.INTERNAL;case At.UNAVAILABLE:return E.UNAVAILABLE;case At.UNAUTHENTICATED:return E.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case At.NOT_FOUND:return E.NOT_FOUND;case At.ALREADY_EXISTS:return E.ALREADY_EXISTS;case At.PERMISSION_DENIED:return E.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case At.ABORTED:return E.ABORTED;case At.OUT_OF_RANGE:return E.OUT_OF_RANGE;case At.UNIMPLEMENTED:return E.UNIMPLEMENTED;case At.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(we=At||(At={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";const Qee=new Wa([4294967295,4294967295],0);function qV(n){const e=function zV(){return new TextEncoder}().encode(n),t=new HX;return t.update(e),new Uint8Array(t.digest())}function WV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wa([t,r],0),new Wa([i,s],0)]}class zw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new id(`Invalid padding: ${t}`);if(r<0)throw new id(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new id(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new id(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Wa.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Wa.fromNumber(r)));return 1===i.compare(Qee)&&(i=new Wa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=qV(e),[r,i]=WV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zw(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=qV(e),[r,i]=WV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sd{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,od.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sd(q.min(),i,new je(re),Vn(),de())}}class od{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new od(r,t,de(),de(),de())}}class og{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class KV{constructor(e,t){this.targetId=e,this.me=t}}class QV{constructor(e,t,r=Vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class YV{constructor(){this.fe=0,this.ge=ZV(),this.pe=Vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=de(),t=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new od(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=ZV()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,G(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Yee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vn(),this.qe=JV(),this.Qe=new je(re)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Xp(s))if(0===r){const o=new F(s.path);this.Ue(t,o,We.newNoDocument(o,q.min()))}else G(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Ri(r).toUint8Array()}catch(c){if(c instanceof nV)return Jn("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new zw(o,i,s)}catch(c){return Jn(c instanceof id?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Xp(a.target)){const c=new F(a.target.path);null!==this.ke.get(c)||this.it(o,c)||this.Ue(o,c,We.newNoDocument(c,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new sd(e,t,this.Qe,this.ke,r);return this.ke=Vn(),this.qe=JV(),this.Qe=new je(re),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new YV,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ke(re),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new YV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function JV(){return new je(F.comparator)}function ZV(){return new je(F.comparator)}const Jee={asc:"ASCENDING",desc:"DESCENDING"},Zee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xee={and:"AND",or:"OR"};class ete{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qw(n,e){return n.useProto3Json||Gl(e)?e:{value:e}}function uc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function tte(n,e){return uc(n,e.toTimestamp())}function _t(n){return G(!!n),q.fromTimestamp(function(t){const r=xi(t);return new it(r.seconds,r.nanos)}(n))}function Ww(n,e){return Kw(n,e).canonicalString()}function Kw(n,e){const t=(i=n,new ye(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function eL(n){const e=ye.fromString(n);return G(lL(e)),e}function ad(n,e){return Ww(n.databaseId,e.path)}function ti(n,e){const t=eL(e);if(t.get(1)!==n.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(rL(t))}function tL(n,e){return Ww(n.databaseId,e)}function Qw(n){return new ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rL(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iL(n,e,t){return{name:ad(n,e),fields:t.value.mapValue.fields}}function oL(n,e){return{documents:[tL(n,e.path)]}}function Jw(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tL(n,i);const s=function(u){if(0!==u.length)return uL(Re.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(u){if(0!==u.length)return u.map(l=>{return{field:Cs((h=l).field),direction:ote(h.dir)};var h})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=qw(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i};var u}function aL(n){let e=function nL(n){const e=eL(n);return 4===e.length?ye.emptyPath():rL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(d){const h=cL(d);return h instanceof Re&&Nw(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new Yl(lc((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Gl(h)?null:h}(t.limit));let c=null;var d;t.startAt&&(c=new Es((d=t.startAt).values||[],!!d.before));let u=null;return t.endAt&&(u=function(d){return new Es(d.values||[],!d.before)}(t.endAt)),function EV(n,e,t,r,i,s,o,a){return new ki(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function cL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=lc(t.unaryFilter.field);return ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=lc(t.unaryFilter.field);return ve.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=lc(t.unaryFilter.field);return ve.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=lc(t.unaryFilter.field);return ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?ve.create(lc((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Re.create(t.compositeFilter.filters.map(r=>cL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(t.compositeFilter.op))}(n):$();var t}function ote(n){return Jee[n]}function ate(n){return Zee[n]}function cte(n){return Xee[n]}function Cs(n){return{fieldPath:n.canonicalString()}}function lc(n){return Je.fromServerFormat(n.fieldPath)}function uL(n){return n instanceof ve?function(t){if("=="===t.op){if(sV(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NAN"}};if(iV(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(sV(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NAN"}};if(iV(t.value))return{unaryFilter:{field:Cs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cs(t.field),op:ate(t.op),value:t.value}}}(n):n instanceof Re?function(t){const r=t.getFilters().map(i=>uL(i));return 1===r.length?r[0]:{compositeFilter:{op:cte(t.op),filters:r}}}(n):$()}function ute(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function lL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fi{constructor(e,t,r,i,s=q.min(),o=q.min(),a=Vt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dL{constructor(e){this.ut=e}}function Zw(n){const e=aL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tg(e,e.limit,"L"):e}class So{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(dt(e.integerValue));else if("doubleValue"in e){const r=dt(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),zl(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(t,20),"string"==typeof r&&(r=xi(r)),t.dt(`${r.seconds||""}`),t.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ri(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?oV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):$()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),F.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}So.St=new So;class _te{constructor(){this.on=new ib}addToCollectionParentIndex(e,t){return this.on.add(t),I.resolve()}getCollectionParents(e,t){return I.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return I.resolve()}deleteFieldIndex(e,t){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,t){return I.resolve()}getDocumentsMatchingTarget(e,t){return I.resolve(null)}getIndexType(e,t){return I.resolve(0)}getFieldIndexes(e,t){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,t){return I.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,t){return I.resolve(Zn.min())}updateCollectionGroup(e,t,r){return I.resolve()}updateIndexEntries(e,t){return I.resolve()}}class ib{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ke(ye.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(ye.comparator)).toArray()}}new Uint8Array(0);class gn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Po{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Po(0)}static Nn(){return new Po(-1)}}class Dte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&rd(r.mutation,i,Fn.empty(),it.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){const i=ei();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=ed();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=ei();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Vn();const o=td(),a=td();return t.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(void 0===l||l.mutation instanceof Ni)?s=s.insert(u.key,u):void 0!==l?(o.set(u.key,l.mutation.getFieldMask()),rd(l.mutation,u,l.mutation.getFieldMask(),it.now())):o.set(u.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),t.forEach((u,l)=>{var d;return a.set(u,new Dte(l,null!==(d=o.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=td();let i=new je((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let l=r.get(c)||Fn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||de()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=MV();l.forEach(h=>{if(!s.has(h)){const f=LV(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return F.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Lw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):I.resolve(ei());let a=-1,c=s;return o.next(u=>I.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,de())).next(l=>({batchId:a,changes:SV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=ed();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,c=>{const u=(d=t,h=c.child(s),new ki(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{const l=u.getKey();null===o.get(l)&&(o=o.insert(l,We.newInvalidDocument(l)))});let a=ed();return o.forEach((c,u)=>{const l=s.get(c);void 0!==l&&rd(l.mutation,u,Fn.empty(),it.now()),Xl(t,u)&&(a=a.insert(c,u))}),a})}}class Ate{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return I.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:_t(i.createTime)}),I.resolve();var i}getNamedQuery(e,t){return I.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Zw(i.bundledQuery),readTime:_t(i.readTime)}),I.resolve();var i}}class Ste{constructor(){this.overlays=new je(F.comparator),this.lr=new Map}getOverlay(e,t){return I.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ei();return I.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),I.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),I.resolve()}getOverlaysForCollection(e,t,r){const i=ei(),s=t.length+1,o=new F(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return I.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new je((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let l=s.get(u.largestBatchId);null===l&&(l=ei(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=ei(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return I.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Gw(t,r));let s=this.lr.get(t);void 0===s&&(s=de(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class sb{constructor(){this.hr=new ke(zt.Pr),this.Ir=new ke(zt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new zt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new zt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new F(new ye([])),r=new zt(t,e),i=new zt(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new F(new ye([])),r=new zt(t,e),i=new zt(t,e+1);let s=de();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new zt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return F.comparator(e.key,t.key)||re(e.gr,t.gr)}static Tr(e,t){return re(e.gr,t.gr)||F.comparator(e.key,t.key)}}class Mte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ke(zt.Pr)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new $w(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new zt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,t){return I.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zt(t,0),i=new zt(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ke(re);return t.forEach(i=>{const s=new zt(i,0),o=new zt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),I.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new zt(new F(s),0);let a=new ke(re);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),I.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return I.forEach(t.mutations,i=>{const s=new zt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new zt(t,0),i=this.yr.firstAfterOrEqual(r);return I.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Pte{constructor(e){this.Cr=e,this.docs=new je(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return I.resolve(r?r.document.mutableCopy():We.newInvalidDocument(t))}getEntries(e,t){let r=Vn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():We.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Vn();const o=t.path,a=new F(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Sw($F(l),r)<=0||(i.has(l.key)||Xl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$()}vr(e,t){return I.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new xte(this)}getSize(e){return I.resolve(this.size)}}class xte extends class wte{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?I.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),I.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Rte{constructor(e){this.persistence=e,this.Fr=new Oi(t=>Co(t),Jl),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Mr=0,this.Or=new sb,this.targetCount=0,this.Nr=Po.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),I.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,I.resolve()}updateTargetData(e,t){return this.kn(t),I.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return I.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),I.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),I.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return I.resolve(r)}containsKey(e,t){return I.resolve(this.Or.containsKey(t))}}class ob{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Xn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rte(this),this.indexManager=new _te,this.remoteDocumentCache=new Pte(r=>this.referenceDelegate.Qr(r)),this.serializer=new dL(t),this.Kr=new Ate(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ste,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new Mte(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new kte(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return I.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class kte extends class eee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class pg{constructor(e){this.persistence=e,this.Gr=new sb,this.zr=null}static jr(e){return new pg(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),I.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),I.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,r=>{const i=F.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,q.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return I.or([()=>I.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class lb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=de(),i=de();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new lb(e,t.fromCache,r,i)}}class Nte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class BL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function yK(){return!function pK(){var n;const e=null===(n=Yf())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function GF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Nt())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Nte;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Qa()<=_e.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",ic(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(Qa()<=_e.DEBUG&&S("QueryEngine","Query:",ic(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Qa()<=_e.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",ic(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(t))):I.resolve())}zi(e,t){if(CV(t))return I.resolve(null);let r=Sn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=tg(t,null,"F"),r=Sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=de(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Yi(t,a);return this.Zi(t,u,o,c.readTime)?this.zi(e,tg(t,null,"F")):this.Xi(e,u,t,c)}))})))}ji(e,t,r,i){return CV(t)||i.isEqual(q.min())?I.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?I.resolve(null):(Qa()<=_e.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ic(t)),this.Xi(e,o,t,function jF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new it(t+1,0):new it(t,r));return new Zn(i,F.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new ke(DV(e));return t.forEach((i,s)=>{Xl(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Qa()<=_e.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",ic(t)),this.Gi.getDocumentsMatchingQuery(e,t,Zn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Fte{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new je(re),this.ns=new Oi(s=>Co(s),Jl),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function $L(n,e){return db.apply(this,arguments)}function db(){return db=_(function*(n,e){const t=O(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=de();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return t.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),db.apply(this,arguments)}function Vte(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){const d=u.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(c,p)).next(g=>{const m=u.docVersions.get(p);G(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=de();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function HL(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Lte(n,e){const t=O(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Vt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,f))});let c=Vn(),u=de();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function GL(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Vn();return t.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(l=>{c=l.us,u=l.cs})),!r.isEqual(q.min())){const l=t.qr.getLastRemoteSnapshotVersion(s).next(d=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.ts=i,s))}function Ute(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gc(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function mc(n,e,t){return hb.apply(this,arguments)}function hb(){return hb=_(function*(n,e,t){const r=O(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ms(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),hb.apply(this,arguments)}function _g(n,e,t){const r=O(n);let i=q.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){const d=O(c),h=d.ns.get(l);return void 0!==h?I.resolve(d.ts.get(h)):d.qr.getTargetData(u,l)}(r,o,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:q.min(),t?s:de())).next(a=>(function WL(n,e,t){let r=n.rs.get(e)||q.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function TV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class _b{constructor(){this.activeTargetIds=function Bw(){return Bee}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YL{constructor(){this.eo=new _b,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new _b,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class $te{ro(e){}shutdown(){}}class JL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ig=null;function vb(){return null===Ig?Ig=268435456+Math.round(2147483648*Math.random()):Ig++,"0x"+Ig.toString(16)}const Hte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gte{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const mn="WebChannelConnection";class zte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+t.host,this.wo=`projects/${i}/databases/${s}`,this.So="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(t,r,i,s,o){const a=vb(),c=this.Co(t,r.toUriEncodedString());S("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(u,s,o),this.Fo(t,c,u,i).then(l=>(S("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Jn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}Mo(t,r,i,s,o,a){return this.Do(t,r,i,s,o)}vo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Ka,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Co(t,r){return`${this.yo}/v1/${r}:${Hte[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,r,i){const s=vb();return new Promise((o,a)=>{const c=new $X;c.setWithCredentials(!0),c.listenOnce(UX.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Tw.NO_ERROR:const l=c.getResponseJson();S(mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case Tw.TIMEOUT:S(mn,`RPC '${e}' ${s} timed out`),a(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case Tw.HTTP_ERROR:const d=c.getStatus();if(S(mn,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(v)>=0?v:E.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(E.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new M(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{S(mn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);S(mn,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}xo(e,t,r){const i=vb(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VX(),a=LX(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new jX({})),this.vo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const l=s.join("");S(mn,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let h=!1,f=!1;const p=new Gte({co:m=>{f?S(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(mn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,v,C)=>{m.listen(v,y=>{try{C(y)}catch(P){setTimeout(()=>{throw P},0)}})};return g(d,Gp.EventType.OPEN,()=>{f||(S(mn,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),g(d,Gp.EventType.CLOSE,()=>{f||(f=!0,S(mn,`RPC '${e}' stream ${i} transport closed`),p.fo())}),g(d,Gp.EventType.ERROR,m=>{f||(f=!0,Jn(mn,`RPC '${e}' stream ${i} transport errored:`,m),p.fo(new M(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Gp.EventType.MESSAGE,m=>{var v;if(!f){const C=m.data[0];G(!!C);const y=C,P=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(P){S(mn,`RPC '${e}' stream ${i} received error:`,P);const H=P.status;let K=function(Ui){const Ps=At[Ui];if(void 0!==Ps)return GV(Ps)}(H),Se=P.message;void 0===K&&(K=E.INTERNAL,Se="Unknown error status: "+H+" with message "+P.message),f=!0,p.fo(new M(K,Se)),d.close()}else S(mn,`RPC '${e}' stream ${i} received:`,C),p.po(C)}}),g(a,BX.STAT_EVENT,m=>{m.stat===NF.PROXY?S(mn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===NF.NOPROXY&&S(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function Eg(){return typeof document<"u"?document:null}function md(n){return new ete(n,!0)}class Ib{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class XL{constructor(e,t,r,i,s,o,a,c){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new Ib(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return _(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return _(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var r=this;return _(function*(){r.i_(),r.s_(),r.Jo.cancel(),r.zo++,4!==e?r.Jo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(mt(t.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),r.Jo.Qo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.o_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===t&&this.a_(r,i)},r=>{e(()=>{const i=new M(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,t){const r=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){var e=this;this.state=5,this.Jo.Ko(_(function*(){e.state=0,e.start()}))}u_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qte extends XL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function rte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:$(),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(G(void 0===l||"string"==typeof l),Vt.fromBase64String(l||"")):(G(void 0===l||l instanceof Buffer||l instanceof Uint8Array),Vt.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const l=void 0===u.code?E.UNKNOWN:GV(u.code);return new M(l,u.message||"")}(o);t=new QV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=ti(n,r.document.name),s=_t(r.document.updateTime),o=r.document.createTime?_t(r.document.createTime):q.min(),a=new en({mapValue:{fields:r.document.fields}}),c=We.newFoundDocument(i,s,o,a);t=new og(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=ti(n,r.document),s=r.readTime?_t(r.readTime):q.min(),o=We.newNoDocument(i,s);t=new og([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=ti(n,r.document);t=new og([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new Kee(i,s);t=new KV(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?_t(o.readTime):q.min()}(e);return this.listener.l_(t,r)}h_(e){const t={};t.database=Qw(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=Xp(c)?{documents:oL(s,c)}:{query:Jw(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=XV(s,o.resumeToken);const u=qw(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=uc(s,o.snapshotVersion.toTimestamp());const u=qw(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function ste(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.r_(t)}P_(e){const t={};t.database=Qw(this.serializer),t.removeTarget=e,this.r_(t)}}class Wte extends XL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function ite(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(i,s){let o=_t(i.updateTime?i.updateTime:s);return o.isEqual(q.min())&&(o=_t(s)),new Gee(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=_t(e.commitTime);return this.listener.d_(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Qw(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function cd(n,e){let t;if(e instanceof ac)t={update:iL(n,e.key,e.value)};else if(e instanceof cc)t={delete:ad(n,e.key)};else if(e instanceof Ni)t={update:iL(n,e.key,e.data),updateMask:ute(e.fieldMask)};else{if(!(e instanceof jw))return $();t={verify:ad(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof sc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:tte(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:$()),t;var s}(this.serializer,r))};this.r_(t)}}class Kte extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,Kw(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(E.UNKNOWN,s.toString())})}Mo(e,t,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,Kw(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(E.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Yte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(mt(t),this.y_=!1):S("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Jte{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(a=>{r.enqueueAndForget(_(function*(){var c;Ds(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(c=_(function*(l){const d=O(l);d.M_.add(4),yield _c(d),d.N_.set("Unknown"),d.M_.delete(4),yield _d(d)}),function u(l){return c.apply(this,arguments)})(o))}))}),this.N_=new Yte(r,i)}}function _d(n){return Cb.apply(this,arguments)}function Cb(){return Cb=_(function*(n){if(Ds(n))for(const e of n.x_)yield e(!0)}),Cb.apply(this,arguments)}function _c(n){return wb.apply(this,arguments)}function wb(){return wb=_(function*(n){for(const e of n.x_)yield e(!1)}),wb.apply(this,arguments)}function Cg(n,e){const t=O(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),Db(t)?Tb(t):Ic(t).Zo()&&bb(t,e))}function yc(n,e){const t=O(n),r=Ic(t);t.F_.delete(e),r.Zo()&&e2(t,e),0===t.F_.size&&(r.Zo()?r.t_():Ds(t)&&t.N_.set("Unknown"))}function bb(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ic(n).h_(e)}function e2(n,e){n.L_.xe(e),Ic(n).P_(e)}function Tb(n){n.L_=new Yee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ic(n).start(),n.N_.w_()}function Db(n){return Ds(n)&&!Ic(n).Yo()&&n.F_.size>0}function Ds(n){return 0===O(n).M_.size}function t2(n){n.L_=void 0}function Zte(n){return Ab.apply(this,arguments)}function Ab(){return Ab=_(function*(n){n.N_.set("Online")}),Ab.apply(this,arguments)}function Xte(n){return Sb.apply(this,arguments)}function Sb(){return Sb=_(function*(n){n.F_.forEach((e,t)=>{bb(n,e)})}),Sb.apply(this,arguments)}function ene(n,e){return Mb.apply(this,arguments)}function Mb(){return Mb=_(function*(n,e){t2(n),Db(n)?(n.N_.D_(e),Tb(n)):n.N_.set("Unknown")}),Mb.apply(this,arguments)}function tne(n,e,t){return Pb.apply(this,arguments)}function Pb(){return Pb=_(function*(n,e,t){if(n.N_.set("Online"),e instanceof QV&&2===e.state&&e.cause)try{yield(r=_(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.F_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.F_.delete(c),s.L_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wg(n,r)}else if(e instanceof og?n.L_.Ke(e):e instanceof KV?n.L_.He(e):n.L_.We(e),!t.isEqual(q.min()))try{const r=yield HL(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const l=s.F_.get(u);l&&s.F_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const l=s.F_.get(c);if(!l)return;s.F_.set(c,l.withResumeToken(Vt.EMPTY_BYTE_STRING,l.snapshotVersion)),e2(s,c);const d=new Fi(l.target,c,u,l.sequenceNumber);bb(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield wg(n,r)}var r}),Pb.apply(this,arguments)}function wg(n,e,t){return xb.apply(this,arguments)}function xb(){return xb=_(function*(n,e,t){if(!ms(e))throw e;n.M_.add(1),yield _c(n),n.N_.set("Offline"),t||(t=()=>HL(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield _d(n)}))}),xb.apply(this,arguments)}function n2(n,e){return e().catch(t=>wg(n,t,e))}function vc(n){return Rb.apply(this,arguments)}function Rb(){return Rb=_(function*(n){const e=O(n),t=As(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;nne(e);)try{const i=yield Ute(e.localStore,r);if(null===i){0===e.v_.length&&t.t_();break}r=i.batchId,rne(e,i)}catch(i){yield wg(e,i)}r2(e)&&i2(e)}),Rb.apply(this,arguments)}function nne(n){return Ds(n)&&n.v_.length<10}function rne(n,e){n.v_.push(e);const t=As(n);t.Zo()&&t.T_&&t.E_(e.mutations)}function r2(n){return Ds(n)&&!As(n).Yo()&&n.v_.length>0}function i2(n){As(n).start()}function ine(n){return kb.apply(this,arguments)}function kb(){return kb=_(function*(n){As(n).R_()}),kb.apply(this,arguments)}function sne(n){return Ob.apply(this,arguments)}function Ob(){return Ob=_(function*(n){const e=As(n);for(const t of n.v_)e.E_(t.mutations)}),Ob.apply(this,arguments)}function one(n,e,t){return Nb.apply(this,arguments)}function Nb(){return Nb=_(function*(n,e,t){const r=n.v_.shift(),i=Hw.from(r,e,t);yield n2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield vc(n)}),Nb.apply(this,arguments)}function ane(n,e){return Fb.apply(this,arguments)}function Fb(){return Fb=_(function*(n,e){var t;e&&As(n).T_&&(yield(t=_(function*(i,s){if(HV(a=s.code)&&a!==E.ABORTED){const o=i.v_.shift();As(i).e_(),yield n2(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield vc(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),r2(n)&&i2(n)}),Fb.apply(this,arguments)}function s2(n,e){return Vb.apply(this,arguments)}function Vb(){return Vb=_(function*(n,e){const t=O(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Ds(t);t.M_.add(3),yield _c(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield _d(t)}),Vb.apply(this,arguments)}function Ub(){return Ub=_(function*(n,e){const t=O(n);e?(t.M_.delete(2),yield _d(t)):e||(t.M_.add(2),yield _c(t),t.N_.set("Unknown"))}),Ub.apply(this,arguments)}function Ic(n){return n.B_||(n.B_=function(t,r,i){const s=O(t);return s.m_(),new qte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Zte.bind(null,n),Io:Xte.bind(null,n),Eo:ene.bind(null,n),l_:tne.bind(null,n)}),n.x_.push(function(){var e=_(function*(t){t?(n.B_.e_(),Db(n)?Tb(n):n.N_.set("Unknown")):(yield n.B_.stop(),t2(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function As(n){return n.k_||(n.k_=function(t,r,i){const s=O(t);return s.m_(),new Wte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:()=>Promise.resolve(),Io:ine.bind(null,n),Eo:ane.bind(null,n),A_:sne.bind(null,n),d_:one.bind(null,n)}),n.x_.push(function(){var e=_(function*(t){t?(n.k_.e_(),yield vc(n)):(yield n.k_.stop(),n.v_.length>0&&(S("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class Bb{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Bb(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ec(n,e){if(mt("AsyncQueue",`${e}: ${n}`),ms(n))return new M(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Cc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=ed(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Cc(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Cc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class o2{constructor(){this.q_=new je(F.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):$():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class wc{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new wc(e,t,Cc.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class cne{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class une{constructor(){this.queries=new Oi(e=>bV(e),Zl),this.onlineState="Unknown",this.z_=new Set}}function $b(){return $b=_(function*(n,e){const t=O(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new cne,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=Ec(o,`Initialization of query '${ic(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&zb(t)}),$b.apply(this,arguments)}function Gb(){return Gb=_(function*(n,e){const t=O(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),Gb.apply(this,arguments)}function lne(n,e){const t=O(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&zb(t)}function dne(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(t);r.queries.delete(e)}function zb(n){n.z_.forEach(e=>{e.next()})}var qb,a2;(a2=qb||(qb={})).J_="default",a2.Cache="cache";class Wb{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=wc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==qb.Cache}}class l2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class h2{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=de(),this.mutatedKeys=de(),this.Ia=DV(e),this.Ta=new Cc(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new o2,i=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Xl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),m=!0,(c&&this.Ia(f,c)>0||u&&this.Ia(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(c||u)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(p)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],c=0===this.Pa.size&&this.current&&!i?1:0,u=c!==this.ha;return this.ha=c,0!==o.length||u?{snapshot:new wc(this.query,e.Ta,s,o,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new o2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=de(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new d2(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new l2(r))}),t}pa(e){this.la=e.ls,this.Pa=de();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return wc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class pne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class gne{constructor(e){this.key=e,this.wa=!1}}class mne{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Oi(a=>bV(a),Zl),this.Da=new Map,this.Ca=new Set,this.va=new je(F.comparator),this.Fa=new Map,this.Ma=new sb,this.xa={},this.Oa=new Map,this.Na=Po.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function _ne(n,e){return Kb.apply(this,arguments)}function Kb(){return Kb=_(function*(n,e,t=!0){const r=bg(n);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield f2(r,e,t,!0),i}),Kb.apply(this,arguments)}function yne(n,e){return Qb.apply(this,arguments)}function Qb(){return Qb=_(function*(n,e){const t=bg(n);yield f2(t,e,!0,!1)}),Qb.apply(this,arguments)}function f2(n,e,t,r){return Yb.apply(this,arguments)}function Yb(){return Yb=_(function*(n,e,t,r){const i=yield gc(n.localStore,Sn(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield Jb(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&Cg(n.remoteStore,i),a}),Yb.apply(this,arguments)}function Jb(n,e,t,r,i){return Zb.apply(this,arguments)}function Zb(){return Zb=_(function*(n,e,t,r,i){n.Ba=(d,h,f)=>{return(p=_(function*(m,v,C,y){let P=v.view.da(C);P.Zi&&(P=yield _g(m.localStore,v.query,!1).then(({documents:qt})=>v.view.da(qt,P)));const H=y&&y.targetChanges.get(v.targetId),K=y&&null!=y.targetMismatches.get(v.targetId),Se=v.view.applyChanges(P,m.isPrimaryClient,H,K);return uT(m,v.targetId,Se.fa),Se.snapshot}),function g(m,v,C,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield _g(n.localStore,e,!0),o=new h2(e,s.ls),a=o.da(s.documents),c=od.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,c);uT(n,t,u.fa);const l=new pne(e,t,o);return n.ba.set(e,l),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),u.snapshot}),Zb.apply(this,arguments)}function vne(n,e,t){return Xb.apply(this,arguments)}function Xb(){return Xb=_(function*(n,e,t){const r=O(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Zl(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield mc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&yc(r.remoteStore,i.targetId),bc(r,i.targetId)}).catch(gs))):(bc(r,i.targetId),yield mc(r.localStore,i.targetId,!0))}),Xb.apply(this,arguments)}function Ine(n,e){return eT.apply(this,arguments)}function eT(){return eT=_(function*(n,e){const t=O(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yc(t.remoteStore,r.targetId))}),eT.apply(this,arguments)}function tT(){return tT=_(function*(n,e,t){const r=IT(n);try{const i=yield function(o,a){const c=O(o),u=it.now(),l=a.reduce((f,p)=>f.add(p.key),de());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Vn(),g=de();return c.ss.getEntries(f,l).next(m=>{p=m,p.forEach((v,C)=>{C.isValidDocument()||(g=g.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const C of a){const y=qee(C,d.get(C.key).overlayedDocument);null!=y&&v.push(new Ni(C.key,y,uV(y.value.mapValue),Ze.exists(!0)))}return c.mutationQueue.addMutationBatch(f,u,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return c.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:SV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.xa[o.currentUser.toKey()];u||(u=new je(re)),u=u.insert(a,c),o.xa[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Vi(r,i.changes),yield vc(r.remoteStore)}catch(i){const s=Ec(i,"Failed to persist write");t.reject(s)}}),tT.apply(this,arguments)}function p2(n,e){return nT.apply(this,arguments)}function nT(){return nT=_(function*(n,e){const t=O(n);try{const r=yield Lte(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Fa.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?G(o.wa):i.removedDocuments.size>0&&(G(o.wa),o.wa=!1))}),yield Vi(t,r,e)}catch(r){yield gs(r)}}),nT.apply(this,arguments)}function g2(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=O(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(const h of d.U_)h.j_(a)&&(u=!0)}),u&&zb(c)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cne(n,e,t){return rT.apply(this,arguments)}function rT(){return rT=_(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new je(F.comparator);o=o.insert(s,We.newNoDocument(s,q.min()));const a=de().add(s),c=new sd(q.min(),new Map,new je(re),o,a);yield p2(r,c),r.va=r.va.remove(s),r.Fa.delete(e),lT(r)}else yield mc(r.localStore,e,!1).then(()=>bc(r,e,t)).catch(gs)}),rT.apply(this,arguments)}function wne(n,e){return iT.apply(this,arguments)}function iT(){return iT=_(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield Vte(t.localStore,e);cT(t,r,null),aT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vi(t,i)}catch(i){yield gs(i)}}),iT.apply(this,arguments)}function bne(n,e,t){return sT.apply(this,arguments)}function sT(){return sT=_(function*(n,e,t){const r=O(n);try{const i=yield function(o,a){const c=O(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(G(null!==d),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);cT(r,e,t),aT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vi(r,i)}catch(i){yield gs(i)}}),sT.apply(this,arguments)}function aT(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function cT(n,e,t){const r=O(n);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function bc(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Rr(e).forEach(r=>{n.Ma.containsKey(r)||m2(n,r)})}function m2(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(yc(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),lT(n))}function uT(n,e,t){for(const r of t)r instanceof l2?(n.Ma.addReference(r.key,e),Dne(n,r)):r instanceof d2?(S("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||m2(n,r.key)):$()}function Dne(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(S("SyncEngine","New document in limbo: "+t),n.Ca.add(r),lT(n))}function lT(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new F(ye.fromString(e)),r=n.Na.next();n.Fa.set(r,new gne(t)),n.va=n.va.insert(t,r),Cg(n.remoteStore,new Fi(Sn(nc(t.path)),r,"TargetPurposeLimboResolution",Xn.oe))}}function Vi(n,e,t){return dT.apply(this,arguments)}function dT(){return dT=_(function*(n,e,t){const r=O(n),i=[],s=[],o=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,c)=>{o.push(r.Ba(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const l=lb.Qi(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield(a=_(function*(u,l){const d=O(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(l,f=>I.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ms(h))throw h;S("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function c(u,l){return a.apply(this,arguments)})(r.localStore,s))}),dT.apply(this,arguments)}function Ane(n,e){return hT.apply(this,arguments)}function hT(){return hT=_(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield $L(t.localStore,e);t.currentUser=e,(s=t).Oa.forEach(a=>{a.forEach(c=>{c.reject(new M(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vi(t,r._s)}var s}),hT.apply(this,arguments)}function Sne(n,e){const t=O(n),r=t.Fa.get(e);if(r&&r.wa)return de().add(r.key);{let i=de();const s=t.Da.get(e);if(!s)return i;for(const o of s){const a=t.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function bg(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cne.bind(null,e),e.Sa.l_=lne.bind(null,e.eventManager),e.Sa.ka=dne.bind(null,e.eventManager),e}function IT(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bne.bind(null,e),e}class Tg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=md(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function jL(n,e,t,r){return new Fte(n,e,t,r)}(this.persistence,new BL,e.initialUser,this.serializer)}createPersistence(e){return new ob(pg.jr,this.serializer)}createSharedClientState(e){return new YL}terminate(){var e=this;return _(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Tc{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>g2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ane.bind(null,r.syncEngine),yield function Lb(n,e){return Ub.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new une}createDatastore(e){const t=md(e.databaseInfo.databaseId),r=new zte(e.databaseInfo);return new Kte(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>g2(this.syncEngine,t,0),a=JL.D()?new JL:new $te,new Jte(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,c,u,l){const d=new mne(i,s,o,a,c,u);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return _(function*(){var t,r;yield(r=_(function*(s){const o=O(s);S("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield _c(o),o.O_.shutdown(),o.N_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jne{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ht.UNAUTHENTICATED,this.clientId=UF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ec(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Ag(n,e){return ET.apply(this,arguments)}function ET(){return ET=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield $L(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ET.apply(this,arguments)}function CT(n,e){return wT.apply(this,arguments)}function wT(){return wT=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield bT(n);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>s2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>s2(e.remoteStore,i)),n._onlineComponents=e}),wT.apply(this,arguments)}function C2(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function bT(n){return TT.apply(this,arguments)}function TT(){return TT=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ag(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!C2(t))throw t;Jn("Error using user provided cache. Falling back to memory cache: "+t),yield Ag(n,new Tg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield Ag(n,new Tg);return n._offlineComponents}),TT.apply(this,arguments)}function Sg(n){return DT.apply(this,arguments)}function DT(){return DT=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield CT(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield CT(n,new Tc))),n._onlineComponents}),DT.apply(this,arguments)}function ST(){return ST=_(function*(n){const e=yield Sg(n),t=e.eventManager;return t.onListen=_ne.bind(null,e.syncEngine),t.onUnlisten=vne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=yne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Ine.bind(null,e.syncEngine),t}),ST.apply(this,arguments)}function A2(n,e,t={}){const r=new Ft;return n.asyncQueue.enqueueAndForget(_(function*(){return function(s,o,a,c,u){const l=new Dg({next:h=>{o.enqueueAndForget(()=>function Hb(n,e){return Gb.apply(this,arguments)}(s,d)),h.fromCache&&"server"===c.source?u.reject(new M(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Wb(a,l,{includeMetadataChanges:!0,ra:!0});return function jb(n,e){return $b.apply(this,arguments)}(s,d)}(yield function Ac(n){return ST.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function S2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const M2=new Map;function MT(n,e,t){if(!t)throw new M(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function P2(n){if(!F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function x2(n){if(F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Mg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":$()}function Ie(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Mg(n);throw new M(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class k2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Zne(n,e,t,r){if(!0===e&&!0===r)throw new M(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=S2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new k2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new k2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new GX;switch(r.type){case"firstParty":return new KX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=M2.get(t);r&&(S("ComponentProvider","Removing Datastore"),M2.delete(t),r.terminate())}(this),Promise.resolve()}}class tn{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tn(this.firestore,e,this._query)}}class yt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}}class ni extends tn{constructor(e,t,r){super(e,t,nc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new F(e))}withConverter(e){return new ni(this.firestore,e,this._path)}}function O2(n,e,...t){if(n=Tn(n),MT("collection","path",e),n instanceof yd){const r=ye.fromString(e,...t);return x2(r),new ni(n,null,r)}{if(!(n instanceof yt||n instanceof ni))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return x2(r),new ni(n.firestore,null,r)}}function vd(n,e,...t){if(n=Tn(n),1===arguments.length&&(e=UF.newId()),MT("doc","path",e),n instanceof yd){const r=ye.fromString(e,...t);return P2(r),new yt(n,null,new F(r))}{if(!(n instanceof yt||n instanceof ni))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ye.fromString(e,...t));return P2(r),new yt(n.firestore,n instanceof ni?n.converter:null,new F(r))}}class ere{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new Ib(this,"async_queue_retry"),this.hu=()=>{const t=Eg();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=Eg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Eg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new Ft;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return _(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!ms(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,mt("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=Bb.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&$()}verifyOperationInProgress(){}du(){var e=this;return _(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class $e extends yd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ere,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||F2(this),this._firestoreClient.terminate()}}function nre(n,e){const r="string"==typeof n?n:e||"(default)",i=np("object"==typeof n?n:sO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=zk("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Xne(n,e,t,r={}){var i;const s=(n=Ie(n,yd))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Jn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ht.MOCK_USER;else{a=function hK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Kf(JSON.stringify({alg:"none",type:"JWT"})),Kf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ht(u)}n._authCredentials=new zX(new VF(a,c))}}(i,...s)}return i}function vt(n){return n._firestoreClient||F2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function F2(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tee(n._databaseId,c,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,S2(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;n._firestoreClient=new jne(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Vt.fromBase64String(e))}catch(t){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ro(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Sc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class xT{constructor(e){this._methodName=e}}class RT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const ire=/^__.*__$/;class sre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new ac(e,this.data,t,this.fieldTransforms)}}class U2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function B2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Pg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Rg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(B2(this.fu)&&ire.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ore{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||md(e)}Fu(e,t,r,i=!1){return new Pg({fu:e,methodName:t,vu:r,path:Je.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mc(n){const e=n._freezeSettings(),t=md(n._databaseId);return new ore(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kT(n,e,t,r,i,s={}){const o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);LT("Data must be an object, but it was:",o,r);const a=z2(r,o);let c,u;if(s.merge)c=new Fn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=Cd(e,d,t);if(!o.contains(h))throw new M(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);W2(l,h)||l.push(h)}c=new Fn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new sre(new en(a),c,u)}class Ed extends xT{_toFieldTransform(e){if(2!==e.fu)throw e.Du(1===e.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function ko(n,e){if(q2(n=Tn(n)))return LT("Unsupported field value:",e,n),z2(n,e);if(n instanceof xT)return function(r,i){if(!B2(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=ko(a,i.bu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Tn(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return RV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=it.fromDate(r);return{timestampValue:uc(i.serializer,s)}}if(r instanceof it){const s=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uc(i.serializer,s)}}if(r instanceof RT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ro)return{bytesValue:XV(i.serializer,r._byteString)};if(r instanceof yt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ww(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Mg(r)}`)}(n,e)}function z2(n,e){const t={};return eV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(n,(r,i)=>{const s=ko(i,e.pu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function q2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof it||n instanceof RT||n instanceof Ro||n instanceof yt||n instanceof xT)}function LT(n,e,t){if(!q2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Mg(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function Cd(n,e,t){if((e=Tn(e))instanceof Sc)return e._internalPath;if("string"==typeof e)return xg(n,e);throw Rg("Field path arguments must be of type string or ",n,!1,void 0,t)}const are=new RegExp("[~\\*/\\[\\]]");function xg(n,e,t){if(e.search(are)>=0)throw Rg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sc(...e.split("."))._internalPath}catch{throw Rg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new M(E.INVALID_ARGUMENT,a+n+c)}function W2(n,e){return n.some(t=>t.isEqual(e))}class UT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new cre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class cre extends UT{data(){return super.data()}}function kg(n,e){return"string"==typeof e?xg(n,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}class Oo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xc extends UT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vg extends xc{data(e={}){return super.data(e)}}class Rc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vg(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new Vg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new Vg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Oo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,l=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:hre(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function hre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Ss extends class lre{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _s(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new RT(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Qp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const t=xi(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ye.fromString(e);G(lL(r));const i=new Io(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(t)||mt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,t)}}function eU(n){n=Ie(n,tn);const e=Ie(n.firestore,$e),t=vt(e),r=new Ss(e);return function K2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),A2(t,n._query).then(i=>new Rc(e,r,n,i))}function tU(n,e,t,...r){n=Ie(n,yt);const i=Ie(n.firestore,$e),s=Mc(i);let o;return o="string"==typeof(e=Tn(e))||e instanceof Sc?function H2(n,e,t,r,i,s){const o=n.Fu(1,e,t),a=[Cd(e,r,t)],c=[i];if(s.length%2!=0)throw new M(E.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Cd(e,s[h])),c.push(s[h+1]);const u=[],l=en.empty();for(let h=a.length-1;h>=0;--h)if(!W2(u,a[h])){const f=a[h];let p=c[h];p=Tn(p);const g=o.Su(f);if(p instanceof Ed)u.push(f);else{const m=ko(p,g);null!=m&&(u.push(f),l.set(f,m))}}const d=new Fn(u);return new U2(l,d,o.fieldTransforms)}(s,"updateDoc",n._key,e,t,r):function $2(n,e,t,r){const i=n.Fu(1,e,t);LT("Data must be an object, but it was:",i,r);const s=[],o=en.empty();_s(r,(c,u)=>{const l=xg(e,c,t);u=Tn(u);const d=i.Su(l);if(u instanceof Ed)s.push(l);else{const h=ko(u,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Fn(s);return new U2(o,a,i.fieldTransforms)}(s,"updateDoc",n._key,e),bd(i,[o.toMutation(n._key,Ze.exists(!0))])}function nU(n){return bd(Ie(n.firestore,$e),[new cc(n._key,Ze.none())])}function rU(n,e){const t=Ie(n.firestore,$e),r=vd(n),i=function jT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return bd(t,[kT(Mc(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}function bd(n,e){return function(r,i){const s=new Ft;return r.asyncQueue.enqueueAndForget(_(function*(){return function Ene(n,e,t){return tT.apply(this,arguments)}(yield function AT(n){return Sg(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(vt(n),e)}!function(e,t=!0){Ka="10.11.1",Fa(new oo("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $e(new qX(r.getProvider("auth-internal")),new QX(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wi(FF,"4.6.1",e),wi(FF,"4.6.1","esm2017")}();class aU{}class cU{}class Li{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Li?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Li;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Li?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Tre{encodeKey(e){return uU(e)}encodeValue(e){return uU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Are=/%(\d[a-f0-9])/gi,Sre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uU(n){return encodeURIComponent(n).replace(Are,(e,t)=>Sre[t]??e)}function Bg(n){return`${n}`}class Ms{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Dre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Bg):[Bg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ms({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Bg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Bg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Mre{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dU(n){return typeof Blob<"u"&&n instanceof Blob}function hU(n){return typeof FormData<"u"&&n instanceof FormData}class Td{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Pre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Li),this.context||(this.context=new Mre),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ms,this.urlWithParams=t}serializeBody(){return null===this.body?null:lU(this.body)||dU(this.body)||hU(this.body)||function xre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ms?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hU(this.body)?null:dU(this.body)?this.body.type||null:lU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ms?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),u)),new Td(t,r,s,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var St=(()=>((St=St||{})[St.Sent=0]="Sent",St[St.UploadProgress=1]="UploadProgress",St[St.ResponseHeader=2]="ResponseHeader",St[St.DownloadProgress=3]="DownloadProgress",St[St.Response=4]="Response",St[St.User=5]="User",St))();class GT{constructor(e,t=200,r="OK"){this.headers=e.headers||new Li,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class zT extends GT{constructor(e={}){super(e),this.type=St.ResponseHeader}clone(e={}){return new zT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jg extends GT{constructor(e={}){super(e),this.type=St.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class fU extends GT{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function qT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Dd=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Td)s=t;else{let c,u;c=i.headers instanceof Li?i.headers:new Li(i.headers),i.params&&(u=i.params instanceof Ms?i.params:new Ms({fromObject:i.params})),s=new Td(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=W(s).pipe(ts(c=>this.handler.handle(c)));if(t instanceof Td||"events"===i.observe)return o;const a=o.pipe($r(c=>c instanceof jg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ue(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ue(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ue(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(ue(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ms).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,qT(i,r))}post(t,r,i={}){return this.request("POST",t,qT(i,r))}put(t,r,i={}){return this.request("PUT",t,qT(i,r))}}return n.\u0275fac=function(t){return new(t||n)(N(aU))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class pU{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gU=new B("HTTP_INTERCEPTORS");let Rre=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const kre=/^\)\]\}',?\n/;let mU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ht(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Li(i.getAllResponseHeaders()),g=function Ore(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new zT({headers:p,status:i.status,statusText:f,url:g}),o},c=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const y=v;v=v.replace(kre,"");try{v=""!==v?JSON.parse(v):null}catch(P){v=y,C&&(C=!1,v={error:P,text:v})}}C?(r.next(new jg({body:v,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new fU({error:v,headers:f,status:p,statusText:g,url:m||void 0}))},u=f=>{const{url:p}=a(),g=new fU({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:St.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:St.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",c),i.addEventListener("error",u),i.addEventListener("timeout",u),i.addEventListener("abort",u),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:St.Sent}),()=>{i.removeEventListener("error",u),i.removeEventListener("abort",u),i.removeEventListener("load",c),i.removeEventListener("timeout",u),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(N(Qx))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const WT=new B("XSRF_COOKIE_NAME"),KT=new B("XSRF_HEADER_NAME");class _U{}let Nre=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ux(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(N(tt),N(Hh),N(WT))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),QT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(_U),N(KT))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Fre=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(gU,[]);this.chain=r.reduceRight((i,s)=>new pU(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(cU),N(Rn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Vre=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:QT,useClass:Rre}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:WT,useValue:t.cookieName}:[],t.headerName?{provide:KT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({providers:[QT,{provide:gU,useExisting:QT,multi:!0},{provide:_U,useClass:Nre},{provide:WT,useValue:"XSRF-TOKEN"},{provide:KT,useValue:"X-XSRF-TOKEN"}]}),n})(),Lre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({providers:[Dd,{provide:aU,useClass:Fre},mU,{provide:cU,useExisting:mU}],imports:[Vre.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),YT=(()=>{class n{constructor(t){this.http=t,this.firebaseConfig={apiKey:Dn_apiKey,authDomain:"kokododoe-s.firebaseapp.com",projectId:"kokododoe-s",storageBucket:"kokododoe-s.appspot.com",messagingSenderId:"1001517841425",appId:Dn_appId,measurementId:"G-X8FCQKJM16"},this.headerInnerData=new er,this.LoginSubject=new ut(null),this.login$=this.LoginSubject.asObservable(),this.LoginErrorSubject=new ut(null),this.loginError$=this.LoginErrorSubject.asObservable(),this.afterLoginSubject=new ut(null!=sessionStorage.getItem("UserDataLogin")),this.afterlogin$=this.afterLoginSubject.asObservable(),this.http.get("assets/headerInnerDate.json").subscribe(r=>{this.headerInnerData.next(r)}),this.fbDataBase=iO(this.firebaseConfig),this.DataBaseApp=nre(this.fbDataBase)}setAfterLogin(){this.afterLoginSubject.next(null!=sessionStorage.getItem("UserDataLogin"))}getfbDataBase(){return this.fbDataBase}getDataBaseApp(){return this.DataBaseApp}createAccount(t,r){(function KY(n,e,t){return jE.apply(this,arguments)})(yN(),t,r).then(s=>{}).catch(s=>{})}signIn(t,r){(function QY(n,e,t){return qr(n.app)?Promise.reject(Bt(n)):function TE(n,e){return DE.apply(this,arguments)}(Tn(n),HO.credential(e,t)).catch(function(){var r=_(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&OE(n),i});return function(i){return r.apply(this,arguments)}}())})(yN(),t,r).then(s=>{this.LoginSubject.next(s?.user),this.setAfterLogin()}).catch(s=>{this.LoginErrorSubject.next(s.message)})}}return n.\u0275fac=function(t){return new(t||n)(N(Dd))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ure=(()=>{class n{constructor(t,r){this.router=t,this.loginSrv=r,this.loginForm=new as({usenName:new Qn("",{updateOn:"change",validators:[zr.required]}),password:new Qn("",{updateOn:"change",validators:[zr.required]})}),this.errorMsg=null,this.Sub$=new Wt,sessionStorage.getItem("UserDataLogin")&&this.router.navigate(["home"]),this.Sub$.add(this.loginSrv.login$.subscribe(i=>{null!=i&&(sessionStorage.setItem("UserDataLogin",JSON.stringify(i)),this.router.navigate(["/home"]))})),this.Sub$.add(this.loginSrv.loginError$.subscribe(i=>{this.errorMsg=null!=i?"Password or Email are Incorrect":null}))}ngOnInit(){}ngOnDestroy(){this.Sub$.unsubscribe()}onSubmit(){this.loginSrv.signIn(this.loginForm.controls.usenName.value,this.loginForm.controls.password.value)}}return n.\u0275fac=function(t){return new(t||n)(b(rt),b(YT))},n.\u0275cmp=nn({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"home"],[1,"wrap"],[1,"title"],[1,"login",3,"formGroup","ngSubmit"],["id","usenName","type","text","formControlName","usenName","placeholder"," ","autocomplete","current-password",1,"i-name"],["for","usenName",1,"l-name"],["id","password","type","password","formControlName","password","placeholder"," ","autocomplete","current-password",1,"i-pass"],["for","password",1,"l-pass"],["type","submit",3,"disabled"],[1,"coming-soon"]],template:function(t,r){1&t&&(w(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Login"),T()(),w(5,"form",3),ee("ngSubmit",function(){return r.onSubmit()}),He(6,"input",4),w(7,"label",5),x(8,"User Name: "),T(),He(9,"input",6),w(10,"label",7),x(11,"Password: "),T(),w(12,"button",8),x(13," Enter "),T()(),w(14,"div",9),x(15),T()()()),2&t&&(j(5),Q("formGroup",r.loginForm),j(7),Q("disabled","INVALID"==r.loginForm.status),j(3),kn(" ",r.errorMsg," "))},dependencies:[Xu,ro,Wu,Ku,io,Na],styles:[".home[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;display:flex;justify-content:center;margin-top:8vh}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:relative;width:70%;height:60%;background-color:var(--c-grey);color:var(--c-dark-blue);box-shadow:0 0 1em var(--c-blue);overflow:hidden;border-radius:30px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:36px;font-weight:600;margin:30px auto}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:80%;margin:20px auto}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;font-weight:400;position:absolute;left:15px;transition:.5s all;pointer-events:none}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .l-name[_ngcontent-%COMP%]{top:23px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .l-pass[_ngcontent-%COMP%]{top:102px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin:10px 0 20px;padding:10px 15px;border-radius:30px;color:var(--c-blue);background-color:transparent;border:3px solid var(--c-blue)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-name[_ngcontent-%COMP%]:focus + .l-name[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-name[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-name[_ngcontent-%COMP%]{top:0;padding:5px;background-color:var(--c-grey);font-size:12px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-pass[_ngcontent-%COMP%]:focus + .l-pass[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-pass[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-pass[_ngcontent-%COMP%]{top:77px;padding:5px;background-color:var(--c-grey);font-size:12px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px;padding:20px 0;border-radius:30px;background-color:transparent;border:3px solid var(--c-blue);color:var(--c-blue);animation:3s infinite glowing}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{border:3px solid var(--c-silver);color:var(--c-silver);animation:none}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]{width:90%;font-size:16px;font-weight:500;line-height:normal;margin:10px auto;text-align:center}@keyframes glowing{0%{text-shadow:0em 0 0em var(--c-blue)}to{text-shadow:0em 0 5em var(--c-blue)}}"]}),n})(),Bre=(()=>{class n{constructor(t){this.http=t,this.homeInnerData=new er,this.getDataFromJson()}getDataFromJson(){this.http.get("assets/homeInnerDate.json").subscribe(t=>{this.homeInnerData.next(t)})}}return n.\u0275fac=function(t){return new(t||n)(N(Dd))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$g=(()=>{class n{constructor(){this.lastClickedOn=new ut(null),this.activeMenu=new ut(null),this.settingsEdit=new ut(!1),this.lastMeasurement=new ut([])}setLastClickedOn(t){this.lastClickedOn.next(t)}getLastClickedOn(){return this.lastClickedOn?.value}setActiveMenu(t){this.activeMenu.next(t)}getActiveMenu(){return this.activeMenu?.value}setSettingsEdit(t){this.settingsEdit.next(t)}getSettingsEdit(){return this.settingsEdit?.value}setLastMeasurement(t){this.lastMeasurement.next(t)}getLastMeasurement(){return this.lastMeasurement?.value}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hg=(()=>{class n{constructor(t,r){this.router=r,this.mergedConfig=Object.assign({trackPageviews:!0},t),this.mergedConfig.trackPageviews&&r.events.pipe($r(i=>i instanceof rs),Tt(i=>{this.pageview()})).subscribe()}event(t,r={}){try{gtag("event",t,r),this.debug("event",this.mergedConfig.trackingId,t,r)}catch(i){console.error("Google Analytics event error",i)}}pageview(t){try{const r={page_path:this.router.url,page_title:"Angular App",page_location:window.location.href};t=Object.assign({},r,t),gtag("config",this.mergedConfig.trackingId,t),this.debug("pageview",this.mergedConfig.trackingId,t)}catch(r){console.error("Google Analytics pageview error",r)}}config(t){try{gtag("config",this.mergedConfig.trackingId,{})}catch(r){console.error("Google Analytics config error",r)}}set(t){try{gtag("set",{})}catch(r){console.error("Google Analytics set error",r)}}debug(...t){this.mergedConfig.debug&&console.log("angular-gtag:",...t)}}return n.\u0275fac=function(t){return new(t||n)(N("config"),N(rt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),jre=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Hg,{provide:"config",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({}),n})(),JT=(()=>{class n{constructor(t){this.dataSavingSrv=t}onMouseclick(t){null!=this.dataSavingSrv.getLastClickedOn()||this.dataSavingSrv.setLastClickedOn(t),null!=this.dataSavingSrv.getActiveMenu()||this.dataSavingSrv.setActiveMenu(t.target?.classList[0]),this.clickedOn(t)}clickedOn(t){let r=this.dataSavingSrv.getLastClickedOn(),i=this.dataSavingSrv.getActiveMenu();i==t.target.classList[0]||this.closeMenu(i,r,t),this.closeMenu(i,r,t),this.dataSavingSrv.setActiveMenu(t.target.classList[0])}closeMenu(t,r,i){switch(t){case"translate":case"burger":i.target.closest(".open")&&r?.target.closest(".open")?this.dataSavingSrv.setLastClickedOn(i):(document.querySelectorAll(".open").forEach(s=>{s.classList.remove("open")}),this.dataSavingSrv.setLastClickedOn(null))}}}return n.\u0275fac=function(t){return new(t||n)(b($g))},n.\u0275dir=X({type:n,selectors:[["","appClickOutside",""]],hostBindings:function(t,r){1&t&&ee("click",function(s){return r.onMouseclick(s)})}}),n})(),$re=(()=>{class n{constructor(t,r){this.gtag=t,this.dataSavingSrv=r,this.tmpValue="",this.maxAmout=1e4,this.lastmeasurement=[]}transform(t,r,i,s,o){if(!(r&&i&&s))return null;switch(this.gtag.event("measureEvent",{app_name:"SmartestAppes",screen_name:"Measurments Page",topic:r,measureFrom:i,measureTo:s,Density:o}),r){case"Kitchen":switch(i){case"quart":switch(s){case"teaspoons":this.tmpValue=(.95*+(t||1)*1e3*.2).toFixed(2);break;case"gallon":this.tmpValue=(.25*+(t||1)).toFixed(2);break;case"pint":this.tmpValue=(2*+(t||1)).toFixed(2);break;case"cup":this.tmpValue=(4*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(.95*+(t||1)*1e3*.06).toFixed(2);break;case"kilogram":this.tmpValue=o?(.95*+(t||1)*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(.95*+(t||1)*+o/1e3).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(.95*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(.95*+(t||1)*+o*2.204).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(.95*+(t||1)*1e3).toFixed(2);break;case"liter":this.tmpValue=(.95*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(8*+(t||1)*2*2*4).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"teaspoons":switch(s){case"quart":this.tmpValue=(+(t||1)/192).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/768).toFixed(2);break;case"pint":this.tmpValue=(+(t||1)/96).toFixed(2);break;case"cup":this.tmpValue=(+(t||1)/48).toFixed(2);break;case"tablespoons":this.tmpValue=(+(t||1)/3).toFixed(2);break;case"kilogram":this.tmpValue=o?(4.92*+(t||1)*+o/1e3).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(4.92*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(4.92*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(.00492*+(t||1)).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(2.204*+(t||1)*.00492).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(+(t||1)/4.92).toFixed(2);break;case"Oz":this.tmpValue=(1.5*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"gallon":switch(s){case"quart":this.tmpValue=(4*+(t||1)).toFixed(2);break;case"teaspoons":this.tmpValue=(768*+(t||1)).toFixed(2);break;case"pint":this.tmpValue=(8*+(t||1)).toFixed(2);break;case"cup":this.tmpValue=(16*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(256*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(3.78541*+(t||1)*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(3.78541*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(3.78541*+(t||1)*+o*1e6).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(3.78541*+(t||1)).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(3.78541*+(t||1)*2.204*+o).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(3785.41*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(128*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"pint":switch(s){case"quart":this.tmpValue=(+(t||1)/2).toFixed(2);break;case"teaspoons":this.tmpValue=(96*+(t||1)).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/8).toFixed(2);break;case"cup":this.tmpValue=(2*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(32*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(473.2*+(t||1)/1e3*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(473.2*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(473.2*+(t||1)*1e3*+o).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(473.2*+(t||1)/1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?"":"Choose Density";break;case"milliliter":this.tmpValue=(473.2*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(16*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"cup":switch(s){case"quart":this.tmpValue=(+(t||1)/4).toFixed(2);break;case"teaspoons":this.tmpValue=(16*+(t||1)*16*3).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/16).toFixed(2);break;case"pint":this.tmpValue=(+(t||1)/2).toFixed(2);break;case"tablespoons":this.tmpValue=(16*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(236.6*+(t||1)/1e3*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(236.6*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(236.6*+(t||1)*1e3*+o).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(236.6*+(t||1)/1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(236.6*+(t||1)/1e3*2.204*+o).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(236.6*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"tablespoons":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"pound":case"milliliter":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"kilogram":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"pound":case"milliliter":default:break;case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"pound":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"milliliter":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"milliliter":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"pound":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}}break;case"length":switch(i){case"c-meters":switch(s){case"meters":this.tmpValue=t?(+t/100).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e5).toFixed(2):1;break;case"inches":this.tmpValue=t?(.3937*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(+t/100*3.2808).toFixed(2):1;break;case"yards":this.tmpValue=t?(+t/100*1.0936).toFixed(2):1}break;case"meters":switch(s){case"c-meters":this.tmpValue=t?(100*+t).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e3*3.2808).toFixed(2):1;break;case"inches":this.tmpValue=t?(39.37*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(3.2808*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(1.0936*+t).toFixed(2):1}break;case"kilometers":switch(s){case"c-meters":this.tmpValue=t?(+t/1e5).toFixed(2):1;break;case"meters":this.tmpValue=t?(+t/1e3).toFixed(2):1;break;case"inches":this.tmpValue=t?(39374*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(.003281*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(.0011*+t).toFixed(2):1}break;case"inches":switch(s){case"c-meters":this.tmpValue=t?(+t/.3937).toFixed(2):1;break;case"meters":this.tmpValue=t?(+t/100/.3937).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e5/.3937).toFixed(2):1;break;case"feet":this.tmpValue=t?(.083334*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(.27778*+t).toFixed(2):1}break;case"feet":switch(s){case"c-meters":this.tmpValue=t?(.305/100*+t).toFixed(2):1;break;case"meters":this.tmpValue=t?(.305*+t).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(305e-8*+t).toFixed(2):1;break;case"inches":case"yards":this.tmpValue=t?(+t/.3937).toFixed(2):1}}}return this.lastmeasurement={value:t,topic:r,measureFrom:i,measureTo:s,Density:o,tmpValue:this.tmpValue>this.maxAmout?"N/A":this.tmpValue},this.dataSavingSrv.setLastMeasurement(this.lastmeasurement),this.tmpValue>this.maxAmout?"N/A":this.tmpValue}}return n.\u0275fac=function(t){return new(t||n)(b(Hg,16),b($g,16))},n.\u0275pipe=sn({name:"measurments",type:n,pure:!0}),n})();function Hre(n,e){if(1&n&&(w(0,"option",14),x(1),T()),2&n){const t=e.$implicit;zs("value",t),j(1),kn(" ",t," ")}}function Gre(n,e){if(1&n&&(w(0,"option",14),x(1),T()),2&n){const t=e.$implicit;zs("value",t[1]),j(1),kn(" ",t[0]," ")}}function zre(n,e){if(1&n){const t=Ct();w(0,"div",15)(1,"select",16),ee("change",function(i){ot(t);const s=ce();return s.onSubmitChage(),at(s.selectedDensity(i.target))}),Ce(2,Gre,2,2,"option",8),T()()}if(2&n){const t=ce();j(2),Q("ngForOf",t.desityData)}}function qre(n,e){if(1&n&&(w(0,"div",17),x(1),T()),2&n){const t=ce();j(1),kn(" density of this matarial is: ",t.textDensity,", please notice that there can be differences beetween calculators you use. ")}}const Wre=function(n,e,t,r,i){return[n,e,t,r,i]};function Kre(n,e){if(1&n&&(w(0,"li",18),x(1),Ks(2,"uppercase"),w(3,"div"),x(4),Ks(5,"measurments"),T()()),2&n){const t=e.$implicit,r=ce();j(1),kn(" ",fy(2,2,t),": "),j(3),kn(" ",EP(5,4,gP(10,Wre,r.amountMeasure,r.measureData[0].title,r.optionValueSelected,t,r.textDensity))," ")}}let Qre=(()=>{class n{constructor(){this.measureData=null,this.desityData=null,this.exitFromMeasure=new et,this.optionValueSelected="",this.amountMeasure="",this.measurmentsListFiltred=[],this.textDensity="",this.isCompReady=!1,this.measureForm=new as({measureNum:new Qn("",zr.required),measurment:new Qn("",zr.required),density:new Qn("",zr.required)})}ngOnInit(){this.measurmentsListFiltred=this.measureData[0]?.measurements.slice()}ngAfterViewInit(){setTimeout(()=>{this.isCompReady=!0},500)}onClose(){this.measureData=null,this.exitFromMeasure.emit()}selectedDensity(t){this.textDensity=this.measureForm.controls.density.value?this.measureForm.controls.density.value:""}onSubmit(){this.measureForm.get("measurment")?.value&&this.measureForm.get("measureNum")?.value&&(this.measurmentsListFiltred=this.measureData[0]?.measurements.slice(),this.amountMeasure=this.measureForm.get("measureNum")?.value,this.optionValueSelected=this.measureForm.get("measurment")?.value,this.measurmentsListFiltred=this.measurmentsListFiltred.filter(t=>t!==this.measureForm.get("measurment")?.value))}onSubmitChage(){this.onSubmit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-measurements"]],inputs:{measureData:"measureData",desityData:"desityData"},outputs:{exitFromMeasure:"exitFromMeasure"},decls:18,vars:9,consts:[["appClickOutside",""],["id","titleAction",1,"titleAction"],[3,"click"],[1,"measureInput",3,"formGroup","ngSubmit"],[1,"amount"],["id","measureNum","pattern","[0-9]","maxlength","5","formControlName","measureNum","placeholder"," ","autocomplete","off",1,"i-number",3,"input"],["for","measureNum",1,"l-number"],["id","measurment","type","select","formControlName","measurment","placeholder"," ",1,"s-measur",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","density",4,"ngIf"],["class","textDensity",4,"ngIf"],[1,"listAction"],[1,"infoList",3,"ngClass"],["class","infoItem",4,"ngFor","ngForOf"],[3,"value"],[1,"density"],["id","density","type","select","formControlName","density","placeholder"," ",1,"s-density",3,"change"],[1,"textDensity"],[1,"infoItem"]],template:function(t,r){1&t&&(w(0,"section",0)(1,"div",1),x(2),Ks(3,"uppercase"),w(4,"button",2),ee("click",function(){return r.onClose()}),x(5,"Back"),T(),w(6,"form",3),ee("ngSubmit",function(){return r.onSubmit()}),w(7,"div",4)(8,"input",5),ee("input",function(){return r.onSubmitChage()}),T(),w(9,"label",6),x(10,"Amount:"),T(),w(11,"select",7),ee("change",function(){return r.onSubmitChage()}),Ce(12,Hre,2,2,"option",8),T()(),Ce(13,zre,3,1,"div",9),T()(),Ce(14,qre,2,1,"div",10),w(15,"div",11)(16,"ul",12),Ce(17,Kre,6,16,"li",13),T()()()),2&t&&(j(2),kn(" ",fy(3,7,r.measureData[0].title)," "),j(4),Q("formGroup",r.measureForm),j(6),Q("ngForOf",r.measureData[0].measurements),j(1),Q("ngIf",r.desityData),j(1),Q("ngIf",r.textDensity),j(2),Q("ngClass",r.isCompReady?"show":"hide"),j(1),Q("ngForOf",r.measurmentsListFiltred))},dependencies:[Ys,Mu,Js,Xu,xk,kk,ro,Wf,Wu,Ku,uI,lI,io,Na,JT,zx,$re],styles:[".titleAction[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:30px 0;background-color:var(--c-blue);border-bottom-left-radius:30px;border-bottom-right-radius:30px;border-bottom:15px solid var(--c-grey);border-left:15px solid var(--c-grey);border-right:15px solid var(--c-grey);box-shadow:inset 0 0 1em var(--c-dark);font-size:38px;font-weight:600}.titleAction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;text-decoration:none;font-weight:600;right:1em;top:.5em;border:0 transparent;background-color:transparent}@supports (-webkit-touch-callout: none){button[_ngcontent-%COMP%]{text-decoration:none;color:#000}}.measureInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;justify-content:center;align-items:center;gap:20px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{height:30px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]{background-color:transparent;width:10em;height:100%;padding-left:.5em;border:1px solid black;border-right:0;border-top-left-radius:30px;border-bottom-left-radius:30px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .l-number[_ngcontent-%COMP%]{top:1.2rem;left:.6rem;position:absolute;font-size:16px;font-weight:300;transition:.5s all}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]:focus + .l-number[_ngcontent-%COMP%], .measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-number[_ngcontent-%COMP%]{top:.3em;padding:0 2px;background-color:var(--c-blue);font-size:14px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .s-measur[_ngcontent-%COMP%]{background-color:var(--c-grey);border:1px solid black;border-left:0;height:110%;border-top-right-radius:30px;border-bottom-right-radius:30px;box-shadow:inset 0 0 1em var(--c-blue);color:var(--c-blue);transition:.5s all}.density[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.density[_ngcontent-%COMP%]   .s-density[_ngcontent-%COMP%]{background-color:var(--c-grey);border:1px solid black;border-left:0;border-radius:30px;height:30px;box-shadow:inset 0 0 1em var(--c-blue);color:var(--c-blue);transition:.5s all}.listAction[_ngcontent-%COMP%]{position:relative;margin:1em 2em}.listAction[_ngcontent-%COMP%]   .infoList[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.2em;justify-items:flex-start;font-size:1.2em;font-weight:600;color:var(--c-dark-blue)}.listAction[_ngcontent-%COMP%]   .infoList.show[_ngcontent-%COMP%]{transition:.5s opacity;opacity:1}.listAction[_ngcontent-%COMP%]   .infoList.hide[_ngcontent-%COMP%]{transition:.5s opacity;opacity:0}.listAction[_ngcontent-%COMP%]   .infoItem[_ngcontent-%COMP%]{width:7em}.listAction[_ngcontent-%COMP%]   .infoItem[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--c-grey);margin-top:5px}.textDensity[_ngcontent-%COMP%]{margin:1em auto 0;font-size:12px;width:85%;text-align:center}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),Yre=(()=>{class n{transform(t,r,...i){return t.length>r?t[0].toUpperCase()+t.slice(1,r).toLowerCase()+".":t[0].toUpperCase()+t.slice(1,t.length).toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=sn({name:"toDotLimit",type:n,pure:!0}),n})();function Jre(n,e){if(1&n){const t=Ct();w(0,"li",8),ee("click",function(i){return ot(t),at(ce(2).showMeasures(i))}),w(1,"span"),x(2),Ks(3,"toDotLimit"),T()()}if(2&n){const t=e.$implicit;Kn("id",e.index),j(2),Lr(Fh(3,2,t.title,8))}}function Zre(n,e){if(1&n&&(w(0,"div",5)(1,"ul",6),Ce(2,Jre,4,5,"li",7),T()()),2&n){const t=ce();j(2),Q("ngForOf",null==t.homeData?null:t.homeData.actions)}}function Xre(n,e){if(1&n&&(w(0,"span"),x(1),T()),2&n){const t=ce(2);j(1),kn("With Density of: ",null==t.lastMeasurement[0]?null:t.lastMeasurement[0].Density,"")}}function eie(n,e){if(1&n){const t=Ct();w(0,"span",13),ee("click",function(){return ot(t),at(ce(2).showLastResults())}),x(1,"click to see results..."),T()}}function tie(n,e){if(1&n&&(w(0,"div",17),x(1),T()),2&n){const t=e.$implicit;j(1),Ph(" ",null==t?null:t.measureTo,": ",null==t?null:t.tmpValue," ")}}function nie(n,e){if(1&n){const t=Ct();w(0,"div",14),Ce(1,tie,2,2,"div",15),T(),w(2,"div",16),ee("click",function(){return ot(t),at(ce(2).showLastResults())}),x(3,"Close Result"),T()}if(2&n){const t=ce(2);j(1),Q("ngForOf",t.lastMeasurement)}}function rie(n,e){if(1&n&&(w(0,"div",9)(1,"h2"),x(2,"last measurment:"),T(),x(3),Ce(4,Xre,2,1,"span",10),Ce(5,eie,2,0,"span",11),Ce(6,nie,4,1,"ng-template",null,12,wu),T()),2&n){const t=fu(7),r=ce();j(3),Ph(" ",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].topic,", Measured from: ",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].measureFrom," "),j(1),Q("ngIf",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].Density),j(1),Q("ngIf",!r.showResults)("ngIfElse",t)}}function iie(n,e){if(1&n){const t=Ct();w(0,"li",21),ee("click",function(i){const s=ot(t),o=s.$implicit,a=s.index,c=ce().$implicit;return at(ce(2).addRemove(i,c.title,o,a))}),w(1,"span"),x(2),T()()}if(2&n){const t=e.$implicit;(function oM(n){Er(zn,Vr,n,!0)})(t),j(2),Lr(t)}}function sie(n,e){if(1&n&&(w(0,"div",24)(1,"div",25)(2,"span"),x(3),T()(),w(4,"div",26),Ce(5,iie,3,3,"li",27),T()()),2&n){const t=e.$implicit;j(3),Lr(t.title),j(2),Q("ngForOf",t.measurements)}}function oie(n,e){if(1&n){const t=Ct();w(0,"div",18)(1,"div",19)(2,"span"),x(3,"This selection with save automatically on you return to menu"),T()(),w(4,"div",20)(5,"span",21),ee("click",function(){return ot(t),at(ce().exitToMenu())}),x(6,"< Return to Menu"),T()(),Ce(7,sie,6,2,"div",22),w(8,"div",23)(9,"span",21),ee("click",function(){return ot(t),at(ce().exitToMenu())}),x(10,"Return to Menu"),T()()()}if(2&n){const t=ce();j(7),Q("ngForOf",null==t.homeData?null:t.homeData.actions)}}function aie(n,e){if(1&n){const t=Ct();w(0,"app-measurements",28),ee("exitFromMeasure",function(){return ot(t),at(ce().returnToMenu())}),T()}if(2&n){const t=ce();Q("measureData",t.measureData)("desityData",null==t.selectedDesityList[0]?null:t.selectedDesityList[0].desity)}}let cie=(()=>{class n{constructor(t,r,i,s){this.generalDataSrvice=t,this.dataSavingSrv=r,this.router=i,this.gtag=s,this.menuAfterInitDone=!1,this.menuSettingEdit=!1,this.showResults=!1,this.lastMeasurement=[],this.$Subs=new Wt,this.homeData=null,this.measureDataToShow=!1,this.measureData=null,this.actionsList=[],this.allDesityList=[],this.selectedDesityList=[],this.notInList=null}ngOnInit(){this.$Subs.add(this.generalDataSrvice.homeInnerData.subscribe(t=>{this.homeData=t,this.homeData.actions.forEach(r=>{this.actionsList.push(r.title),r.desity&&this.allDesityList.push({title:r.title,desity:[...r.desity]})})})),this.$Subs.add(this.dataSavingSrv.lastMeasurement.subscribe(t=>{t&&(this.lastMeasurement.length>0&&this.lastMeasurement[0].topic?(t.topic==this.lastMeasurement[this.lastMeasurement.length-1].topic&&t.value==this.lastMeasurement[this.lastMeasurement.length-1].value&&t.measureFrom==this.lastMeasurement[this.lastMeasurement.length-1].measureFrom&&t.Density==this.lastMeasurement[this.lastMeasurement.length-1].Density||(this.lastMeasurement=[]),Number(t.tmpValue)&&(this.lastMeasurement.push(t),sessionStorage.setItem("lastMeasure",JSON.stringify(this.lastMeasurement)))):(this.lastMeasurement=[],Number(t.tmpValue)&&(this.lastMeasurement.push(t),sessionStorage.setItem("lastMeasure",JSON.stringify(this.lastMeasurement)))))})),this.$Subs.add(this.dataSavingSrv.settingsEdit.subscribe(t=>{this.measureDataToShow=!1,this.menuAfterInitDone=!0,this.menuSettingEdit=t,this.menuSettingEdit&&this.initDisabledList()})),this.generalDataSrvice.getDataFromJson(),localStorage.getItem("notInList")&&(this.notInList=JSON.parse(localStorage.getItem("notInList"))),sessionStorage.getItem("lastMeasure")&&JSON.parse(sessionStorage.getItem("lastMeasure")).forEach(t=>this.dataSavingSrv.setLastMeasurement(t))}initDisabledList(){setTimeout(()=>{this.notInList?.actions.forEach(t=>{t.measurements.forEach(r=>{document.querySelector(`.measures > .${r}`)?.classList.add("disabled")})})},300)}showLastResults(){this.showResults=!this.showResults}showMeasures(t){this.showResults=!1,this.measureData=JSON.parse(JSON.stringify(this.homeData?.actions.filter(i=>i.title===this.actionsList[t?.target.attributes.id?.value]))),this.selectedDesityList=this.allDesityList.filter(i=>i.title==this.actionsList[t?.target.attributes.id?.value]);let r=this.notInList?.actions.findIndex(i=>i.title==this.actionsList[t?.target.attributes.id?.value]);null!=r&&(this.measureData[0].measurements=this.measureData[0].measurements.filter(i=>!this.notInList?.actions[r||0].measurements.includes(i))),this.menuAfterInitDone=!1,this.measureDataToShow=!0}addRemove(t,r,i,s){this.notInList||(this.notInList=JSON.parse(JSON.stringify(this.homeData)),this.notInList?.actions.map(o=>{o.measurements=[]}),localStorage.setItem("notInList",JSON.stringify(this.notInList))),t.target.classList.contains("disabled")?(t.target.classList.remove("disabled"),this.notInList.actions[this.notInList.actions.findIndex(o=>o.title==r)].measurements=this.notInList.actions[this.notInList.actions.findIndex(o=>o.title==r)].measurements.filter(o=>o!=i)):(t.target.classList.add("disabled"),this.notInList?.actions[this.notInList?.actions.findIndex(o=>o.title==r)].measurements.push(i)),localStorage.setItem("notInList",JSON.stringify(this.notInList))}exitToMenu(){this.dataSavingSrv.setSettingsEdit(!1)}ngAfterViewInit(){setTimeout(()=>{this.returnToMenu()})}returnToMenu(){this.menuAfterInitDone=!0,this.measureDataToShow=!1}ngOnDestroy(){this.$Subs.unsubscribe(),this.dataSavingSrv.setLastMeasurement([])}}return n.\u0275fac=function(t){return new(t||n)(b(Bre),b($g),b(rt),b(Hg))},n.\u0275cmp=nn({type:n,selectors:[["app-home"]],decls:6,vars:5,consts:[["appClickOutside","",1,"main-menu",3,"ngClass"],["class","wrap-list",4,"ngIf","ngIfElse"],["class","last-measurement-result",4,"ngIf"],["settings",""],[3,"measureData","desityData","exitFromMeasure",4,"ngIf"],[1,"wrap-list"],[1,"list"],["class","action",3,"click",4,"ngFor","ngForOf"],[1,"action",3,"click"],[1,"last-measurement-result"],[4,"ngIf"],["class","moreInfo",3,"click",4,"ngIf","ngIfElse"],["results",""],[1,"moreInfo",3,"click"],[1,"last-results"],["class","result",4,"ngFor","ngForOf"],[1,"close","moreInfo",3,"click"],[1,"result"],[1,"settings"],[1,"msg-line"],[1,"exit-sign"],[3,"click"],["class","action",4,"ngFor","ngForOf"],[1,"exit"],[1,"action"],[1,"span-text"],[1,"measures"],[3,"class","click",4,"ngFor","ngForOf"],[3,"measureData","desityData","exitFromMeasure"]],template:function(t,r){if(1&t&&(w(0,"div",0),Ce(1,Zre,3,1,"div",1),T(),Ce(2,rie,8,5,"div",2),Ce(3,oie,11,1,"ng-template",null,3,wu),Ce(5,aie,1,2,"app-measurements",4)),2&t){const i=fu(4);Q("ngClass",r.menuAfterInitDone?"inMenu":""),j(1),Q("ngIf",!r.menuSettingEdit)("ngIfElse",i),j(1),Q("ngIf",(null==r.lastMeasurement[0]?null:r.lastMeasurement[0].topic)&&!r.measureDataToShow),j(3),Q("ngIf",r.measureDataToShow)}},dependencies:[Ys,Mu,Js,Qre,JT,Yre],styles:[".main-menu[_ngcontent-%COMP%]{position:absolute;width:-webkit-fill-available;top:-500vh;min-height:25%;background-color:var(--c-grey);border-bottom-right-radius:30px;border-bottom-left-radius:30px;transition:.5s all;border:15px solid var(--c-grey);box-shadow:inset 0 0 1em var(--c-dark);z-index:99}.main-menu.inMenu[_ngcontent-%COMP%]{position:unset}.main-menu[_ngcontent-%COMP%]   .measuresOpen[_ngcontent-%COMP%]:ng-deep{position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;display:flex}.main-menu[_ngcontent-%COMP%]   .measuresClose[_ngcontent-%COMP%]{display:none}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;height:-moz-fit-content;height:fit-content}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:wrap;width:80%;height:-moz-fit-content;height:fit-content;gap:2em;font-weight:600;justify-content:center;padding-bottom:30px}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:100px;height:100px;background-color:var(--c-blue);box-shadow:inset 0 0 2em var(--c-blue);box-shadow:inset 0 0 .5em var(--c-dark);box-shadow:0 0 1em var(--c-blue);border-radius:10px;font-size:18px;display:flex;justify-content:center;align-items:center}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{padding:16px 30px 50px;display:flex;flex-direction:column;gap:8px;color:var(--c-blue);margin-top:50px;max-height:350px;overflow-y:auto;overflow-x:hidden}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .span-text[_ngcontent-%COMP%]{pointer-events:none;text-decoration:underline;font-size:18px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .msg-line[_ngcontent-%COMP%]{text-align:center;padding:0 30px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;padding:3px 0 3px 5px;font-size:15px;cursor:pointer}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;border:1px solid var(--c-blue);padding:10px 15px;border-radius:13px;transition:all .3s}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{color:var(--c-dark);border:1px solid var(--c-dark)}.main-menu[_ngcontent-%COMP%]   .exit-sign[_ngcontent-%COMP%]{text-align:left;color:var(--c-blue);padding:0 0 15px;cursor:pointer}.main-menu[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:var(--c-blue);padding:0 0 15px;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin:20px auto;width:300px;padding:10px 30px;display:flex;flex-direction:column;border-radius:30px;background-color:var(--c-blue);box-shadow:1px 1px 15px var(--c-blue),inset 1px 1px 15px var(--c-silver);transition:.3s all ease-in-out}.last-measurement-result[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;font-size:18px;font-weight:600;margin:10px 0}.last-measurement-result[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{margin:10px;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]   .moreInfo.close[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]   .last-results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0}.last-measurement-result[_ngcontent-%COMP%]   .last-results[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{border:1px solid var(--c-dark);padding:10px 15px;border-radius:30px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:15px;background-color:transparent;border-top:230px solid var(--c-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent;border-radius:15px}"]}),n})(),uie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-policy"]],decls:55,vars:0,consts:[["href","../"],["href","http://www.smartestappes.com"],["href","https://tawk.to/MishaElifire"]],template:function(t,r){1&t&&(w(0,"section")(1,"a",0),x(2,"< back"),T(),w(3,"h1"),x(4,"Privacy Policy"),T(),w(5,"p"),x(6,"Last updated: 30/04/2024"),T(),w(7,"p"),x(8,' SmartestAppes ("us", "we", or "our") operates '),w(9,"a",1),x(10,"www.smartestappes.com"),T(),x(11,' (the "Site"). This page informs you of our policies regarding the collection, use, and disclosure of Personal Information we receive from users of the Site. '),T(),w(12,"p"),x(13," We use your Personal Information only for providing and improving the Site. By using the Site, you agree to the collection and use of information in accordance with this policy. "),T(),w(14,"h2"),x(15,"Information Collection And Use"),T(),w(16,"p"),x(17,' While using our Site, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you. Personally identifiable information may include, but is not limited to your name ("Personal Information"). '),T(),w(18,"h2"),x(19,"Log Data"),T(),w(20,"p"),x(21,' Like many site operators, we collect information that your browser sends whenever you visit our Site ("Log Data"). This Log Data may include information such as your computer\'s Internet Protocol ("IP") address, browser type, browser version, the pages of our Site that you visit, the time and date of your visit, the time spent on those pages and other statistics. '),T(),w(22,"h2"),x(23,"Cookies"),T(),w(24,"p"),x(25," Cookies are files with small amount of data, which may include an anonymous unique identifier. Cookies are sent to your browser from a web site and stored on your computer's hard drive. "),T(),w(26,"p"),x(27,' Like many sites, we use "cookies" to collect information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Site. '),T(),w(28,"h2"),x(29,"Ads"),T(),w(30,"p"),x(31," We may use third-party advertising companies to serve ads when you visit our website. These companies may use information (not including your name, address, email address, or telephone number) about your visits to this and other websites in order to provide advertisements about goods and services of interest to you. "),T(),w(32,"h2"),x(33,"Google Analytics"),T(),w(34,"p"),x(35," We use Google Analytics to collect, monitor, and analyze data about the use of our website. This helps us understand how users interact with our website and allows us to improve the user experience. "),T(),w(36,"h2"),x(37,"Security"),T(),w(38,"p"),x(39," The security of your Personal Information is important to us, but remember that no method of transmission over the Internet, or method of electronic storage, is 100% secure. While we strive to use commercially acceptable means to protect your Personal Information, we cannot guarantee its absolute security. "),T(),w(40,"h2"),x(41,"Changes To This Privacy Policy"),T(),w(42,"p"),x(43," This Privacy Policy is effective as of [Date] and will remain in effect except with respect to any changes in its provisions in the future, which will be in effect immediately after being posted on this page. "),T(),w(44,"p"),x(45," We reserve the right to update or change our Privacy Policy at any time and you should check this Privacy Policy periodically. Your continued use of the Service after we post any modifications to the Privacy Policy on this page will constitute your acknowledgment of the modifications and your consent to abide and be bound by the modified Privacy Policy. "),T(),w(46,"p"),x(47," If we make any material changes to this Privacy Policy, we will notify you either through the email address you have provided us, or by placing a prominent notice on our website. "),T(),w(48,"h2"),x(49,"Contact Us"),T(),w(50,"p"),x(51," If you have any questions about this Privacy Policy, please contact us at "),w(52,"a",2),x(53,"https://tawk.to/MishaElifire"),T(),x(54,". "),T()())},styles:["section[_ngcontent-%COMP%]{line-height:1.6;margin:20px;padding:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:30px;font-weight:600;font-size:large}a[_ngcontent-%COMP%]{color:var(--c-dark-blue);text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}p[_ngcontent-%COMP%]{margin-bottom:20px}"]}),n})(),Ad=(()=>{class n{constructor(t,r){this.router=t,this.loginSrv=r,this.taskList=[],this.listId=[],this.selectedId=0,this.loginName="",this.todayDate="",this.firebaseConfig={apiKey:Dn_apiKey,authDomain:"kokododoe-s.firebaseapp.com",projectId:"kokododoe-s",storageBucket:"kokododoe-s.appspot.com",messagingSenderId:"1001517841425",appId:Dn_appId,measurementId:"G-X8FCQKJM16"},this.TaskListSubject=new ut([]),this.taskList$=this.TaskListSubject.asObservable(),this.ListIdSubject=new ut([]),this.ListId$=this.ListIdSubject.asObservable(),this.ListIdChgSubject=new ut(0),this.ListIdChg$=this.ListIdChgSubject.asObservable(),this.Sub$=new Wt,sessionStorage.getItem("UserDataLogin")||this.router.navigate([""]),this.fbDataBase=this.loginSrv.getfbDataBase(),this.DataBaseApp=this.loginSrv.getDataBaseApp(),this.listIdRef=O2(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`),this.taskListRef=O2(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`),this.getListId(),this.getTaskList()}getLoginName(){return JSON.parse(sessionStorage.getItem("UserDataLogin")).email.split("@")[0]}setLoginName(t){this.loginName=t}getDateString(){return this.todayDate}setDateString(t){this.todayDate=t}getSelectedListId(){return this.selectedId}setSelectedListId(t){this.selectedId=t,this.ListIdChgSubject.next(t)}updateListId(t){const r={id:2*(new Date).valueOf(),name:t,editMode:!1};rU(this.listIdRef,r),this.listId.push(r),sessionStorage.setItem(`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,JSON.stringify(this.listId)),this.ListIdSubject.next(this.listId),this.getListId()}updateTaskList(t){t.id=(new Date).valueOf(),t.listID=this.selectedId,rU(this.taskListRef,t),this.taskList.push(t),this.TaskListSubject.next(this.taskList),this.ListIdChgSubject.next(this.selectedId)}deleteTask(t){const r=this.taskList.find(s=>s.id==t)?this.taskList.find(s=>s.id==t)?.dbId:"";nU(vd(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r)),this.taskList=this.taskList.filter(s=>s.id!=t),this.TaskListSubject.next(this.taskList),this.ListIdChgSubject.next(this.selectedId)}deleteList(t,r){r.forEach(o=>this.deleteTask(o.id));const i=this.listId.find(o=>o.id==t)?this.listId.find(o=>o.id==t)?.dbId:"";nU(vd(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+i)),this.listId=this.listId.filter(o=>o.id!=t),this.ListIdSubject.next(this.listId),this.ListIdChgSubject.next(this.selectedId)}getListId(){let t=[];eU(this.listIdRef).then(r=>{r.docs.forEach(i=>{t.push({...i.data(),dbId:i.id})})}).then(()=>{this.listId=t,this.ListIdSubject.next(this.listId),setTimeout(()=>{this.ListIdChgSubject.next(this.selectedId)})})}getTaskList(){let t=[];eU(this.taskListRef).then(r=>{r.docs.forEach(i=>{t.push({...i.data(),dbId:i.id})})}).then(()=>{this.taskList=t,this.TaskListSubject.next(this.taskList)})}updateTaskData(t){const r=this.taskList.find(s=>s.id==t.id)?this.taskList.find(s=>s.id==t.id)?.dbId:"";tU(vd(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r),{...t})}updateListData(t){const r=this.listId.find(s=>s.id==t.id)?this.listId.find(s=>s.id==t.id)?.dbId:"";tU(vd(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r),{...t})}}return n.\u0275fac=function(t){return new(t||n)(N(rt),N(YT))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lie=["dateString"];let die=(()=>{class n{constructor(t){this.dataSrv=t,this.todayDate=new Date,this.dayDate="",this.loginName=""}ngOnInit(){this.loginName=this.dataSrv.getLoginName()}ngAfterViewInit(){this.dataSrv.setDateString((new Date).toString())}}return n.\u0275fac=function(t){return new(t||n)(b(Ad))},n.\u0275cmp=nn({type:n,selectors:[["user-header"]],viewQuery:function(t,r){if(1&t&&Lh(lie,5),2&t){let i;Ca(i=wa())&&(r.dateString=i.first)}},decls:11,vars:5,consts:[[1,"header-panel"],[1,"date-info"],[1,"day"],[1,"date"],["dateString",""],[1,"user"],[1,"user-name"]],template:function(t,r){1&t&&(w(0,"section",0)(1,"div",1)(2,"div",2),x(3,"Today"),T(),w(4,"div",3,4),x(6),Ks(7,"date"),T()(),w(8,"div",5)(9,"div",6),x(10),T()()()),2&t&&(j(6),Lr(Fh(7,2,r.todayDate,"dd MM yyyy")),j(4),Lr(r.loginName))},dependencies:[tv],styles:[".header-panel[_ngcontent-%COMP%]{display:flex;height:60px;align-items:center;justify-content:space-between;background-color:var(--offgreen);border-bottom:2px solid var(--green);box-shadow:1px 1px 3px var(--dark);padding:0 20px}.header-panel[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;height:60px}.header-panel[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--dark);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:16px;text-shadow:1px 1px 25px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{font-weight:600;color:var(--green);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-weight:600;color:var(--yellow);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;gap:5px}.header-panel[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-weight:600;color:var(--green);text-shadow:1px 1px 2px var(--dark)}"]}),n})();function hie(n,e){if(1&n&&(w(0,"span",12),x(1),T()),2&n){const t=ce().$implicit;j(1),Lr(t.task)}}function fie(n,e){if(1&n){const t=Ct();w(0,"textarea",13),ee("blur",function(i){ot(t);const s=ce().$implicit;return at(ce().subbmitChange(i,s))}),T()}2&n&&Q("value",ce().$implicit.task)}function pie(n,e){if(1&n){const t=Ct();w(0,"span",14),ee("click",function(){ot(t);const i=ce().$implicit;return at(ce().taskDone(i))}),x(1),T()}if(2&n){const t=ce().$implicit;j(1),Lr(t.status)}}function gie(n,e){if(1&n){const t=Ct();w(0,"span",14),ee("click",function(){ot(t);const i=ce().$implicit;return at(ce().taskDone(i))}),x(1,"In Progress"),T()}}function mie(n,e){if(1&n){const t=Ct();w(0,"span",14),ee("click",function(){ot(t);const i=ce().$implicit;return at(ce().taskDone(i))}),x(1,"Done"),T()}}function _ie(n,e){if(1&n){const t=Ct();w(0,"span",14),ee("click",function(){ot(t);const i=ce().$implicit;return at(ce().taskDone(i))}),x(1,"On Hold"),T()}}function yie(n,e){if(1&n){const t=Ct();w(0,"section",1),He(1,"div",2),w(2,"div",3)(3,"div",4),ee("click",function(i){return ot(t),at(ce().deleteTask(i))}),x(4," X "),T(),w(5,"div",5),ee("click",function(i){const o=ot(t).$implicit,a=ce();return at(o.editMode?"":a.editTaskName(i,o))}),Ce(6,hie,2,1,"span",6),Ce(7,fie,1,1,"ng-template",null,7,wu),T(),w(9,"div",8)(10,"div",9),x(11),Ks(12,"date"),T(),w(13,"div",10),Ce(14,pie,2,1,"span",11),Ce(15,gie,2,0,"span",11),Ce(16,mie,2,0,"span",11),Ce(17,_ie,2,0,"span",11),T()()()()}if(2&n){const t=e.$implicit,r=e.index,i=fu(8);(function IM(n,e,t){Er(zn,Vr,da(D(),n,e,t),!0)})("task extend ",t.id,""),Q("ngClass",r%2==1?"even":"odd"),j(3),Kn("taskId",t.id),j(3),Q("ngIf",!t.editMode)("ngIfElse",i),j(5),kn(" due date: ",Fh(12,12,t.date,"dd MM YYYY")," "),j(3),Q("ngIf",1==t.currentStatus),j(1),Q("ngIf",2==t.currentStatus),j(1),Q("ngIf",3==t.currentStatus),j(1),Q("ngIf",4==t.currentStatus)}}let vie=(()=>{class n{constructor(t){this.dataSrv=t,this.taskList=[],this.shownList=[],this.expandTask=!1,this.editTaskMode=!1,this.lastexpandTask=null,this.taskNameEdit=new as({taskEdit:new Qn("",{updateOn:"blur",validators:[zr.required]})}),this.dataSrv.taskList$.subscribe(r=>{this.taskList=r}),this.dataSrv.ListIdChg$.subscribe(r=>{this.shownList=this.taskList.filter(i=>i.listID==r),setTimeout(()=>{document.querySelectorAll(".effect-section").forEach(i=>{const s=this.taskList.filter(o=>i.parentElement.classList.contains(o.id+""));i.style.backgroundColor="#"+s[0].color,i.style.boxShadow=`0px 0px 35px #${s[0].color}`})})})}ngOnInit(){}expand(t){}taskDone(t){t&&(t?.currentStatus>=4?t.currentStatus=1:t.currentStatus++)}deleteTask(t){this.dataSrv.deleteTask(t.target.attributes.taskId.value)}editTaskName(t,r){let i=t;t.target.classList.contains("task-name")&&(i=t.target.parentElement),setTimeout(()=>{null!=i?.children?i.children[0].focus():i.target.children[0].focus()}),r.editMode=!0}subbmitChange(t,r){r.task!=t.target.value&&""!=t.target.value?(r.task=t.target.value,r.editMode=!1,this.dataSrv.updateTaskData(r)):r.editMode=!1}}return n.\u0275fac=function(t){return new(t||n)(b(Ad))},n.\u0275cmp=nn({type:n,selectors:[["task"]],decls:1,vars:1,consts:[[3,"class","ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"effect-section"],[1,"info-section"],[1,"close",3,"click"],[1,"task-item",3,"click"],["class","task-name",4,"ngIf","ngIfElse"],["editTaskInput",""],[1,"descripption-task"],[1,"date-task"],[1,"status-task"],["class","status-state",3,"click",4,"ngIf"],[1,"task-name"],["type","text",1,"edit","task-name",3,"value","blur"],[1,"status-state",3,"click"]],template:function(t,r){1&t&&Ce(0,yie,18,15,"section",0),2&t&&Q("ngForOf",r.shownList)},dependencies:[Ys,Mu,Js,tv],styles:[".task[_ngcontent-%COMP%]{padding:6px 25px;margin:10px auto;width:300px;min-width:250px;height:max-content;min-height:100px;position:relative;border-radius:15px;line-height:normal;animation:appear .3s;background-color:var(--c-grey)}.task.extend[_ngcontent-%COMP%]{height:max-content}.task[_ngcontent-%COMP%]   .effect-section[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-top-left-radius:15px;border-bottom-left-radius:15px;height:100%;width:17px;transition:all .3s ease}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:11px;right:15px;font-size:12px;font-weight:600;width:-moz-fit-content;width:fit-content;transition:.3s color ease-in-out;cursor:pointer;color:var(--c-silver)}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]{font-size:18px;padding:10px 25px;margin-bottom:5px;letter-spacing:normal;color:var(--c-dark-blue)}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .task-item[_ngcontent-%COMP%]   .task-name.edit[_ngcontent-%COMP%]{font-size:18px;letter-spacing:normal;background-color:transparent;border:transparent;color:var(--c-gray);width:-webkit-fill-available}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]{font-size:12px;position:relative;bottom:0;padding:0 25px;width:-webkit-fill-available;color:var(--c-dark-blue)}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]{width:100px}.task[_ngcontent-%COMP%]   .info-section[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s ease-in-out}.odd[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]{margin-top:15px}.odd[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{color:var(--c-silver)}.even[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]{margin-top:15px}.even[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{color:var(--c-silver)}@keyframes appear{0%{opacity:0}to{opacity:1}}"]}),n})();const Iie=["addInput"],Eie=["ListId"];function Cie(n,e){if(1&n&&(w(0,"span",13),x(1),T()),2&n){const t=ce().$implicit;j(1),Lr(t.name)}}function wie(n,e){if(1&n){const t=Ct();w(0,"input",14),ee("blur",function(i){ot(t);const s=ce().$implicit;return at(ce().updateListName(i,s))}),T()}2&n&&Q("value",ce().$implicit.name)}function bie(n,e){if(1&n){const t=Ct();w(0,"div",10),ee("click",function(i){const o=ot(t).$implicit;return at(ce().selectListId(i,o))}),Ce(1,Cie,2,1,"span",11),Ce(2,wie,1,1,"ng-template",null,12,wu),T()}if(2&n){const t=e.$implicit,r=fu(3);Q("ngClass",ce().getSelectedListId()==+t.id?"selected":""),Kn("listId",t.id),j(1),Q("ngIf",!t.editMode)("ngIfElse",r)}}const yU=function(n){return{"new-add":n}};let Tie=(()=>{class n{constructor(t){this.dataSrv=t,this.listId=[],this.addActive=!1,this.listEdit=!1,this.movearound=0,this.dataSrv.ListId$.subscribe(r=>{this.listId=r})}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.dataSrv.setSelectedListId(Number(document.querySelector(".list-menu")?.children[0]?.attributes.getNamedItem("listid")?.value))},1e3)}addListId(t){this.addActive?(this.addActive=!1,""!=this.addInput.nativeElement.value&&this.dataSrv.updateListId(this.addInput.nativeElement.value)):(this.addInput.nativeElement.value="",this.addActive=!0)}getSelectedListId(){return this.dataSrv.getSelectedListId()}selectListId(t,r){let i=t;t.target.classList.contains("list-name")&&(i=t.target.parentElement),t.target.attributes.listId?.value==this.getSelectedListId()||+i?.attributes?.getNamedItem("listId")?.value==this.getSelectedListId()?(r.editMode=!0,setTimeout(()=>{null!=i?.children?i.children[0].focus():i.target.children[0].focus()})):this.dataSrv.setSelectedListId(null!=i?.children?+i?.attributes?.getNamedItem("listId")?.value:t.target.attributes.listId?.value)}updateListName(t,r){r.name!=t.target.value&&""!=t.target.value?(r.name=t.target.value,r.editMode=!1,this.dataSrv.updateListData(r)):r.editMode=!1}deleteList(t){let r=this.getSelectedListId(),i=this.dataSrv.taskList.filter(s=>s.listID==r);this.dataSrv.deleteList(r,i)}moveAround(t){this.ListId?.nativeElement.setAttribute("style",`left: ${this.movearound+t>0?this.movearound:this.movearound+=t}px;`)}}return n.\u0275fac=function(t){return new(t||n)(b(Ad))},n.\u0275cmp=nn({type:n,selectors:[["task-list"]],viewQuery:function(t,r){if(1&t&&(Lh(Iie,5),Lh(Eie,5)),2&t){let i;Ca(i=wa())&&(r.addInput=i.first),Ca(i=wa())&&(r.ListId=i.first)}},decls:13,vars:9,consts:[[1,"scroll-bar"],[1,"list-menu"],["ListId",""],["class","list",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"add-section",3,"ngClass"],["type","text",1,"add-list-input",3,"ngClass"],["addInput",""],[1,"add-list",3,"click"],[1,"tasks"],[1,"end-line"],[1,"list",3,"ngClass","click"],["class","list-name",4,"ngIf","ngIfElse"],["ListEditInput",""],[1,"list-name"],["type","text",1,"edit-list-name",3,"value","blur"]],template:function(t,r){1&t&&(w(0,"div",0)(1,"section",1,2),Ce(3,bie,4,4,"div",3),T(),w(4,"div",4),He(5,"input",5,6),w(7,"div",7),ee("click",function(s){return r.addListId(s)}),x(8),T(),w(9,"div",7),ee("click",function(s){return r.deleteList(s)}),x(10),T()()(),He(11,"task",8)(12,"div",9)),2&t&&(j(3),Q("ngForOf",r.listId),j(1),Q("ngClass",hy(5,yU,r.addActive)),j(1),Q("ngClass",hy(7,yU,r.addActive)),j(3),kn(" ",r.addActive?"Ok":"Add List"," "),j(2),kn(" ","Remove List"," "))},dependencies:[Ys,Mu,Js,vie],styles:[".scroll-bar[_ngcontent-%COMP%]{position:sticky;top:75px;overflow:hidden;width:auto;padding:10px 35px 0;z-index:99;background:var(--c-grey);box-shadow:0 0 15px var(--c-blue)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;overflow-x:auto;transition:.6s left ease-in-out;border-bottom:2px solid var(--c-dark-blue)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .edit-list-name[_ngcontent-%COMP%]{max-width:min-content;background-color:transparent;border:transparent}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{padding:10px;cursor:pointer;flex-shrink:0;transition:.3s all ease-in-out;color:var(--c-blue)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]{color:var(--c-grey);background-color:var(--c-dark-blue);border-top-left-radius:13px;border-top-right-radius:13px}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;width:-moz-fit-content;width:fit-content;height:40px;border-radius:30px}.scroll-bar[_ngcontent-%COMP%]   .add-section.new-add[_ngcontent-%COMP%]{border:1px solid var(--c-dark-blue);padding:0 5px;margin:5px 0}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list-input[_ngcontent-%COMP%]{pointer-events:none;width:0;opacity:0;background-color:transparent;padding-right:5px;transition:.3s all ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list-input.new-add[_ngcontent-%COMP%]{width:100px;height:20px;opacity:1;border:0px transparent;border-right:1px solid var(--c-dark-blue);pointer-events:all}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);padding:8px 20px;font-size:12px;margin:5px;width:max-content;border-radius:30px;font-weight:600;cursor:pointer;transition:.3s box-shadow ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 5px var(--c-dark-blue)}.scroll-bar[_ngcontent-%COMP%]   .btn-scroll[_ngcontent-%COMP%]{background-color:var(--c-dark);border:0;font-size:18px;color:var(--c-silver)}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows[_ngcontent-%COMP%]{position:absolute;height:100%;display:flex;justify-content:space-between;top:0;z-index:2}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows.left[_ngcontent-%COMP%]{left:0}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows.right[_ngcontent-%COMP%]{right:0}.end-line[_ngcontent-%COMP%]{height:110px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),vU=(()=>{class n{constructor(){this.addTaskSubject=new ut(!0),this.addTask$=this.addTaskSubject.asObservable()}addTaskOCPopUp(t){this.addTaskSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Die=(()=>{class n{constructor(t,r){this.popupSrv=t,this.dataSrv=r,this.listIdIsEmpty=!1}ngOnInit(){this.dataSrv.ListId$.subscribe(t=>{t.length>0&&(this.listIdIsEmpty=!0)})}openAddTask(){document.body.style.overflow="hidden",this.popupSrv.addTaskOCPopUp(!1)}}return n.\u0275fac=function(t){return new(t||n)(b(vU),b(Ad))},n.\u0275cmp=nn({type:n,selectors:[["main-footer"]],decls:6,vars:1,consts:[[1,"footer-container"],[1,"copy-right"],[1,"fast-add-list",3,"disabled","click"],[1,"line"],[1,"line","rotate"]],template:function(t,r){1&t&&(w(0,"div",0)(1,"section",1),x(2,"\xa9 Year 2024"),T(),w(3,"button",2),ee("click",function(){return r.openAddTask()}),He(4,"div",3)(5,"div",4),T()()),2&t&&(j(3),Q("disabled",!r.listIdIsEmpty))},styles:[".footer-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--c-grey);max-width:490px;position:fixed;bottom:0;z-index:99;width:-webkit-fill-available;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);transition:.3s all ease-in-out}.footer-container[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--c-blue);scale:1.1;box-shadow:1px 1px 10px;color:var(--c-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]{pointer-events:all;background-color:var(--c-silver);padding:30px 23px;position:relative;border-radius:50%;transition:all .3s ease-in-out;max-width:100%;border:0 transparent;top:-30px;z-index:99;border:3px solid var(--c-dark-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled   .line[_ngcontent-%COMP%]{background-color:var(--c-blue);opacity:.5}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled:hover{scale:1;box-shadow:1px 1px 10px var(--c-silver);color:var(--c-silver)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled:hover   .line[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);opacity:.5}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:hover{scale:1.2;box-shadow:1px 1px 10px var(--c-silver);color:var(--c-silver)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{background-color:var(--c-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;width:18px;height:3px;background-color:var(--c-grey);top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]   .line.rotate[_ngcontent-%COMP%]{position:relative;left:4%;width:19px;transform:rotate(90deg)}.footer-container[_ngcontent-%COMP%]   .copy-right[_ngcontent-%COMP%]{position:absolute;left:15px;color:var(--c-dark-blue)}.btn[_ngcontent-%COMP%]{padding:10px 30px;border:3px solid var(--dark);border-radius:30px;font-size:14px;font-weight:600}"]}),n})();function Aie(n,e){1&n&&(w(0,"div",11),x(1," * task name input cannot be empty "),T())}let Sie=(()=>{class n{constructor(t,r){this.popupSrv=t,this.dataSrv=r,this.taskform=new as({task:new Qn("",{updateOn:"change",validators:[zr.required]}),author:new Qn("",{updateOn:"change",validators:[zr.required]}),date:new Qn("",{updateOn:"change",validators:[zr.required]}),status:new Qn("don't you forget",{updateOn:"change",validators:[zr.required]})}),this.hidden=!0,this.popupSrv.addTask$.subscribe(i=>{this.taskform.controls.date.setValue(this.dataSrv.getDateString()),this.taskform.controls.author.setValue(this.dataSrv.getLoginName()),this.onPopup(i)})}ngOnInit(){}addTask(t){this.dataSrv.updateTaskList(this.createTaskModel()),this.onPopup(!0)}onPopup(t){t&&(document.body.style.overflow=""),this.hidden=t}createTaskModel(){return{listID:0,id:0,task:this.taskform.value.task,author:this.taskform.value.author,date:this.taskform.value.date,status:this.taskform.value.status,currentStatus:1,editMode:!1,color:Math.floor(16777215*Math.random()).toString(16)}}}return n.\u0275fac=function(t){return new(t||n)(b(vU),b(Ad))},n.\u0275cmp=nn({type:n,selectors:[["app-add-task-popup"]],decls:20,vars:4,consts:[[1,"popup-background",3,"ngClass"],[1,"popup"],[1,"close-btn",3,"click"],[1,"title"],[3,"formGroup","submit"],[1,"input-div"],["placeholder"," ","type","text","id","task","name","task","formControlName","task"],["for","task"],["class","error",4,"ngIf"],["placeholder"," ","type","date","id","date","name","date","formControlName","date"],["for","date"],[1,"error"],["type","submit",1,"sbm-btn",3,"disabled"]],template:function(t,r){1&t&&(w(0,"div",0)(1,"div",1)(2,"div",2),ee("click",function(){return r.onPopup(!0)}),x(3,"close"),T(),w(4,"div",3),x(5,"Add task to your list from here:"),T(),w(6,"form",4),ee("submit",function(s){return r.addTask(s)}),w(7,"div",5),He(8,"input",6),w(9,"label",7),x(10,"task"),T(),Ce(11,Aie,2,0,"div",8),T(),w(12,"div",5),He(13,"input",9),w(14,"label",10),x(15,"Due date"),T(),w(16,"div",11),x(17,"* Leave empty if the due date is today"),T()(),w(18,"button",12),x(19," Add task "),T()()()()),2&t&&(Q("ngClass",r.hidden?"hidden":""),j(6),Q("formGroup",r.taskform),j(5),Q("ngIf",r.taskform.controls.task.errors&&r.taskform.controls.task.touched),j(7),Q("disabled",r.taskform.invalid))},dependencies:[Ys,Js,Xu,ro,Wu,Ku,io,Na],styles:[".popup-background[_ngcontent-%COMP%]{transition:.3s all ease-in-out;opacity:1;position:fixed;background-color:#00000062;top:0;height:100%;width:100%;max-width:490px;z-index:999}.popup-background.hidden[_ngcontent-%COMP%]{transition:.3s all ease-in-out;opacity:0;z-index:-1}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]{position:relative;margin:auto;background-color:var(--c-silver);top:100px;width:85%;height:-moz-fit-content;height:fit-content;max-height:400px;max-width:500px;border-radius:10px;box-shadow:1px 1px 15px #000;overflow:hidden;overflow-y:scroll;z-index:9999}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:sticky;top:0;padding:12px;cursor:pointer;background:var(--c-grey);z-index:9;color:var(--c-dark-blue);text-align:right}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--c-silver);transition:.2s color ease-in-out}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin:20px auto;color:var(--c-dark-blue);font-size:22px;font-weight:600;width:200px;pointer-events:none}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:25px;padding-bottom:25px}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;transition:.3s all ease-in-out;pointer-events:none;left:15px;top:8px;background-color:var(--c-silver);text-shadow:1px 1px 1px var(--c-silver)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:30px;background-color:transparent;width:250px;height:30px;padding-left:15px;transition:.3s all ease-in-out}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{position:absolute;transition:.3s all ease-in-out;top:-8px;color:var(--c-dark-blue);font-weight:600}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;bottom:-15px;color:var(--c-dark-blue);font-size:12px;font-weight:600;left:15px}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]{background-color:var(--c-dark);border:0px transparent;border-radius:30px;padding:12px 30px;font-size:16px;transition:all .3s ease-in-out;color:var(--c-dark-blue)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:disabled{background-color:transparent;border:1px solid var(--c-dark-blue)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:disabled:hover{background-color:transparent;border:1px solid var(--c-dark-blue);box-shadow:1px 1px 15px transparent}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px var(--c-dark);transition:all .3s ease-in-out;color:var(--c-dark-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{position:absolute;border-radius:15px;background-color:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-grey);border-radius:15px}"]}),n})(),Mie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-lists"]],decls:5,vars:0,template:function(t,r){1&t&&(He(0,"user-header"),w(1,"section"),He(2,"task-list"),T(),He(3,"main-footer")(4,"app-add-task-popup"))},dependencies:[die,Tie,Die,Sie]}),n})(),IU=(()=>{class n{constructor(t){this.router=t}canActivate(t,r){return null!=sessionStorage.getItem("UserDataLogin")||(this.router.navigate(["./"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(N(rt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Pie=[{path:"",component:Ure},{path:"home",component:cie,canActivate:[IU]},{path:"lists",component:Mie,canActivate:[IU]},{path:"policy",component:uie},{path:"recipies",component:(()=>{class n{constructor(){this.searchForm=new as({search:new Qn("",{updateOn:"change"})}),this.Sub$=new Wt,this.Sub$.add(this.searchForm.controls.search.valueChanges.subscribe(t=>{console.log(t?.length>3?t:"")}))}ngOnDestroy(){throw this.Sub$.unsubscribe(),new Error("Method not implemented.")}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-my-recepies-book"]],decls:25,vars:1,consts:[[1,"recepies"],[1,"recipie-item-big"],["src","https://media.istockphoto.com/id/594465522/photo/grilling-steaks-on-flaming-grill-and-shot-with-selective-focus.jpg?s=612x612&w=0&k=20&c=HhFwjiElLxTo5-nQM_Vwh9knPZ_dVHGU0-L19RA1qYg=","alt","steak",1,"back-img"],[1,"blur-back-img"],[1,"recipie-info"],[1,"recipie-category"],[1,"recipie-title"],[1,"lier-one"],[1,"lier-two"],[1,"recepies-search",3,"formGroup"],["type","text","formControlName","search","placeholder","What we cook today..."],[1,"favorite-list-wrapper"],[1,"favorite"],[1,"favorite-list"],[1,"recipie-item-small"]],template:function(t,r){1&t&&(w(0,"section",0)(1,"div",1),He(2,"img",2)(3,"div",3),w(4,"div",4)(5,"div",5),x(6,"Meat Meal"),T(),w(7,"div",6),x(8," Steal On Grill - Best Way To Show Him Your Love "),T()(),He(9,"div",7)(10,"div",8),T(),w(11,"form",9),He(12,"input",10),T(),w(13,"div",11)(14,"h2",12),x(15,"Favorite :"),T(),w(16,"div",13)(17,"div",14),He(18,"img",2),T(),w(19,"div",14),He(20,"img",2),T(),w(21,"div",14),He(22,"img",2),T(),w(23,"div",14),He(24,"img",2),T()()()()),2&t&&(j(11),Q("formGroup",r.searchForm))},dependencies:[Xu,ro,Wu,Ku,io,Na],styles:[".recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]{position:relative;max-width:90%;margin:20px auto;height:400px;border-radius:13px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .back-img[_ngcontent-%COMP%]{position:absolute;height:-webkit-fill-available;width:100%;transform:translate(-50%);left:50%;z-index:1;border-radius:13px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .blur-back-img[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;background-color:var(--c-dark-blue);opacity:.3;z-index:2}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .recipie-info[_ngcontent-%COMP%]{position:relative;z-index:3;width:60%;display:flex;flex-direction:column;gap:20px;border-left:3px solid var(--c-dark-blue);padding:10px 0 50px 30px;margin-left:40px;top:210px}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .recipie-info[_ngcontent-%COMP%]   .recipie-category[_ngcontent-%COMP%]{font-size:19px;font-weight:400;color:var(--c-blue);text-shadow:1px 1px 15px black}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .recipie-info[_ngcontent-%COMP%]   .recipie-title[_ngcontent-%COMP%]{font-size:22px;font-weight:600;color:var(--c-grey);text-shadow:1px 1px 10px var(--c-blue)}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .lier-one[_ngcontent-%COMP%]{background-color:var(--c-blue);width:88%;height:70%;position:absolute;z-index:0;transform:translate(-50%);left:50%;border-radius:13px;opacity:.3}.recepies[_ngcontent-%COMP%]   .recipie-item-big[_ngcontent-%COMP%]   .lier-two[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);width:95%;height:67%;position:absolute;z-index:0;transform:translate(-50%);left:50%;border-radius:13px;opacity:.5}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:22px 0;width:60%;height:50px;border-radius:30px;background:var(--c-grey);border:1px solid var(--c-dark-blue);color:var(--c-dark-blue);padding:0 30px;font-size:18px}.recepies[_ngcontent-%COMP%]   .recepies-search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--c-dark-blue)}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]{width:90%;margin:0 auto}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite[_ngcontent-%COMP%]{font-size:22px;padding:0 30px;font-weight:600;color:var(--c-grey)}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]{display:flex;gap:20px;overflow:hidden;overflow-x:scroll}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]{width:150px;height:150px;overflow:hidden;border-radius:30px;margin:12px 0;flex-shrink:0}.recepies[_ngcontent-%COMP%]   .favorite-list-wrapper[_ngcontent-%COMP%]   .favorite-list[_ngcontent-%COMP%]   .recipie-item-small[_ngcontent-%COMP%]   .back-img[_ngcontent-%COMP%]{height:150px;width:auto;z-index:1}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})()},{path:"**",redirectTo:""}];let xie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({imports:[O1.forRoot(Pie),O1]}),n})();function Rie(n,e){1&n&&(w(0,"h1",16),x(1,"Applications"),T())}function kie(n,e){if(1&n){const t=Ct();w(0,"li",17),ee("click",function(){return ot(t),at(ce().close("measurements"))}),x(1," Measurements "),T()}}function Oie(n,e){if(1&n){const t=Ct();w(0,"li",17),ee("click",function(){return ot(t),at(ce().close("recipies"))}),x(1," My Recipies Book "),T()}}function Nie(n,e){if(1&n){const t=Ct();w(0,"li",17),ee("click",function(){return ot(t),at(ce().close("lists"))}),x(1," Todo List "),T()}}function Fie(n,e){1&n&&(w(0,"h1",16),x(1,"General"),T())}function Vie(n,e){if(1&n){const t=Ct();w(0,"li",17),ee("click",function(){return ot(t),at(ce().close("menu"))}),x(1," Add/Remove Measurements "),T()}}let ZT,Lie=(()=>{class n{constructor(t,r,i){this.loginService=t,this.dataSavingSrv=r,this.router=i,this.isOpenTrans=!1,this.isOpenMenu=!1,this.isOpenAcc=!1,this.editMode=!1,this.$Subs=new Wt,this.isAfterLogin=null!=sessionStorage.getItem("UserDataLogin"),this.editMode="true"==sessionStorage.getItem("editMode"),this.$Subs.add(this.loginService.afterlogin$.subscribe(s=>{this.isAfterLogin=s})),this.$Subs.add(this.loginService.headerInnerData.subscribe(s=>{this.innerHeaderData=s})),this.$Subs.add(this.dataSavingSrv.lastClickedOn.subscribe(s=>{null==s&&(this.isOpenAcc&&(this.isOpenAcc=!1),this.isOpenMenu&&(this.isOpenMenu=!1),this.isOpenTrans&&(this.isOpenTrans=!1))}))}close(t){switch(t){case"menu":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate([".."]),this.dataSavingSrv.setSettingsEdit(!0);break;case"policy":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/policy"]);break;case"measurements":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate([".."]);break;case"lists":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/lists"]);break;case"recipies":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/recipies"])}}ngOnInit(){}ngAfterViewInit(){this.functionScript=document.createElement("script"),this.functionScript.type="text/javascript",this.functionScript.innerHTML="\n    function googleTranslateElementInit() {\n      new google.translate.TranslateElement(\n          {pageLanguage: 'en'},\n          'google_translate_element'\n      );\n    }",this.stylesEl=document.createElement("style"),this.stylesEl.innerHTML="\n    #goog-gt-vt{\n      display: none !important;\n    }\n    #goog-gt-tt{\n      display: none;\n    }\n    .VIpgJd-yAWNEb-VIpgJd-fmcmS-sn54Q{\n      background: transparent;\n      box-shadow: 2px 2px 4px transparent;\n    }\n    .VIpgJd-yAWNEb-L7lbkb{\n      display: none !important;\n    }\n    body{\n      top: 0 !important;\n      position: relative;\n    }\n    .skiptranslate{\n      position: absolute;\n      z-index:1\n    }",this.jsSrvScript=document.createElement("script"),this.jsSrvScript.type="text/javascript",this.jsSrvScript.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(this.functionScript),document.body.appendChild(this.jsSrvScript),document.body.appendChild(this.stylesEl)}openTrans(){this.isOpenTrans=!this.isOpenTrans}openMenu(){this.isOpenMenu=!this.isOpenMenu}openAcc(){this.isOpenAcc=!this.isOpenAcc}ngOnDestroy(){this.$Subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(b(YT),b($g),b(rt))},n.\u0275cmp=nn({type:n,selectors:[["app-header"]],decls:26,vars:18,consts:[["appClickOutside","",1,"header"],[1,"right"],[1,"translate",3,"src","ngClass","click"],[1,"acc",3,"src","ngClass","click"],[1,"logo"],["alt","",3,"src"],[1,"left"],[1,"burger",3,"ngClass","click"],[1,"line"],["appClickOutside","",1,"g-trans",3,"ngClass"],["id","google_translate_element"],["appClickOutside","",1,"menu-container",3,"ngClass"],[1,"options-list"],[1,"list"],["class","list-title",4,"ngIf"],["class","list-item",3,"click",4,"ngIf"],[1,"list-title"],[1,"list-item",3,"click"]],template:function(t,r){1&t&&(w(0,"section",0)(1,"div",1)(2,"img",2),ee("click",function(){return r.openTrans()}),T(),w(3,"img",3),ee("click",function(){return r.openAcc()}),T(),w(4,"div",4),He(5,"img",5),T()(),w(6,"div",6)(7,"div",7),ee("click",function(){return r.openMenu()}),He(8,"div",8)(9,"div",8)(10,"div",8),T()()(),w(11,"div",9),He(12,"div",10),T(),w(13,"div",11)(14,"div",12)(15,"ul",13),Ce(16,Rie,2,0,"h1",14),Ce(17,kie,2,0,"li",15),Ce(18,Oie,2,0,"li",15),Ce(19,Nie,2,0,"li",15),Ce(20,Fie,2,0,"h1",14),Ce(21,Vie,2,0,"li",15),w(22,"h1",16),x(23,"Policies"),T(),w(24,"li",17),ee("click",function(){return r.close("policy")}),x(25,"Privacy Policy"),T()()()()),2&t&&(ny("--gtransIcon",null==r.innerHeaderData?null:r.innerHeaderData.gtransIcon)("--accIcon",null==r.innerHeaderData?null:r.innerHeaderData.accIcon),j(2),zs("src",null==r.innerHeaderData?null:r.innerHeaderData.gtransIcon,ra),Q("ngClass",r.isOpenTrans?"open":""),j(1),zs("src",null==r.innerHeaderData?null:r.innerHeaderData.accIcon,ra),Q("ngClass",r.isOpenAcc?"open":""),j(2),zs("src",null==r.innerHeaderData?null:r.innerHeaderData.logoIcon,ra),j(2),Q("ngClass",r.isOpenMenu?"open":""),j(4),Q("ngClass",r.isOpenTrans?"open":""),j(2),Q("ngClass",r.isOpenMenu?"open":""),j(3),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin),j(1),Q("ngIf",r.isAfterLogin))},dependencies:[Ys,Js,JT],styles:[".header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:999999;background-color:var(--c-grey);color:var(--c-dark-blue);padding:18px 35px;font-size:28px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 .5em var(--c-blue);overflow-x:auto}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.225rem;padding:15px 10px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:1px;width:15px;background-color:var(--c-blue);transition:.5s all}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(1){width:0;position:absolute}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg);margin-top:-5.6px;height:2px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(3){transform:rotate(45deg);height:2px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;filter:invert(264%) sepia(215%) saturate(207%) hue-rotate(89deg) saturate(475%) brightness(100%) contrast(304%)}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .translate[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .acc[_ngcontent-%COMP%]{width:30px;height:30px;filter:invert(91%) sepia(82%) saturate(2496%) hue-rotate(150deg) brightness(100%) contrast(98%)}.g-trans[_ngcontent-%COMP%]{position:fixed;top:-200px;z-index:99998;width:100%;max-width:490px;background-color:var(--c-grey);box-shadow:0 0 1em var(--c-blue);height:60px;transition:.5s top;border-bottom-left-radius:30px;border-bottom-right-radius:30px}.g-trans.open[_ngcontent-%COMP%]{top:75px}.g-trans[_ngcontent-%COMP%]   #google_translate_element[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:30px}.menu-container[_ngcontent-%COMP%]{position:fixed;top:-350px;z-index:99998;width:-webkit-fill-available;color:var(--c-blue);max-width:465px;background-color:var(--c-grey);box-shadow:0 0 1em var(--c-blue);transition:.5s top;overflow-x:hidden;overflow-y:auto;border-right:15px solid transparent;border-top:10px solid transparent;border-bottom:50px solid transparent;border-left:10px solid transparent;border-bottom-left-radius:30px;border-bottom-right-radius:30px;max-height:300px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{padding:16px 30px 50px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;margin-bottom:5px;pointer-events:none}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{padding:3px 0 3px 5px;font-size:15px;cursor:pointer}.menu-container.open[_ngcontent-%COMP%]{top:75px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),Uie=(()=>{class n{constructor(){this.title="SmartestAppes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=nn({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&He(0,"app-header")(1,"router-outlet")},dependencies:[xv,Lie]}),n})();try{ZT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ZT=!1}let Sr,zie=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Eq(n){return n===Wx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(N(Hh))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Sr=typeof global<"u"?global:typeof window<"u"?window:{};const TU="cdk-high-contrast-black-on-white",DU="cdk-high-contrast-white-on-black",tD="cdk-high-contrast-active";let rse=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(tD),t.remove(TU),t.remove(DU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(tD),t.add(TU)):2===r&&(t.add(tD),t.add(DU))}}}return n.\u0275fac=function(t){return new(t||n)(N(zie),N(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({}),n})();const SU=new Wi("13.0.0"),MU=new Wi("13.0.0"),ose=new B("mat-sanity-checks",{providedIn:"root",factory:function sse(){return!0}});let PU=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!function Nz(){return px=!0,fx}()||function Kie(){return typeof Sr.__karma__<"u"&&!!Sr.__karma__||typeof Sr.jasmine<"u"&&!!Sr.jasmine||typeof Sr.jest<"u"&&!!Sr.jest||typeof Sr.Mocha<"u"&&!!Sr.Mocha}())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&MU.full!==SU.full&&console.warn("The Angular Material version ("+MU.full+") does not match the Angular CDK version ("+SU.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(N(rse),N(ose,8),N(tt))},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({imports:[[AU],AU]}),n})(),_se=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n}),n.\u0275inj=Qt({imports:[[PU],PU]}),n})(),yse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=rn({type:n,bootstrap:[Uie]}),n.\u0275inj=Qt({providers:[{provide:Zi,useClass:Mx}],imports:[v9,jre.forRoot({trackingId:"G-726X1R2X45",trackPageviews:!0}),xie,_se,X7,Lre]}),n})();(function Fz(){if(px)throw new Error("Cannot enable prod mode after platform setup.");fx=!1})(),y9().bootstrapModule(yse).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=898)}]);