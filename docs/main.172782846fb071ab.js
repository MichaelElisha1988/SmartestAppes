"use strict";(self.webpackChunkSmartestAppes=self.webpackChunkSmartestAppes||[]).push([[179],{133:()=>{function Fe(n){return"function"==typeof n}function ku(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Td=ku(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ou(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class tn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Fe(r))try{r()}catch(s){e=s instanceof Td?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{lD(s)}catch(o){e=e??[],o instanceof Td?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Td(e)}}add(e){var t;if(e&&e!==this)if(this.closed)lD(e);else{if(e instanceof tn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ou(t,e)}remove(e){const{_finalizers:t}=this;t&&Ou(t,e),e instanceof tn&&e._removeParent(this)}}tn.EMPTY=(()=>{const n=new tn;return n.closed=!0,n})();const uD=tn.EMPTY;function cD(n){return n instanceof tn||n&&"closed"in n&&Fe(n.remove)&&Fe(n.add)&&Fe(n.unsubscribe)}function lD(n){Fe(n)?n():n.unsubscribe()}const Ms={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Dd={setTimeout(n,e,...t){const{delegate:r}=Dd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Dd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function dD(n){Dd.setTimeout(()=>{const{onUnhandledError:e}=Ms;if(!e)throw n;e(n)})}function hD(){}const OU=Hg("C",void 0,void 0);function Hg(n,e,t){return{kind:n,value:e,error:t}}let Ps=null;function Ad(n){if(Ms.useDeprecatedSynchronousErrorHandling){const e=!Ps;if(e&&(Ps={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Ps;if(Ps=null,t)throw r}}else n()}class Gg extends tn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cD(e)&&e.add(this)):this.destination=jU}static create(e,t,r){return new Nu(e,t,r)}next(e){this.isStopped?qg(function FU(n){return Hg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qg(function NU(n){return Hg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qg(OU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const LU=Function.prototype.bind;function zg(n,e){return LU.call(n,e)}class UU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Sd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Sd(r)}else Sd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Sd(t)}}}class Nu extends Gg{constructor(e,t,r){let i;if(super(),Fe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ms.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zg(e.next,s),error:e.error&&zg(e.error,s),complete:e.complete&&zg(e.complete,s)}):i=e}this.destination=new UU(i)}}function Sd(n){Ms.useDeprecatedSynchronousErrorHandling?function VU(n){Ms.useDeprecatedSynchronousErrorHandling&&Ps&&(Ps.errorThrown=!0,Ps.error=n)}(n):dD(n)}function qg(n,e){const{onStoppedNotification:t}=Ms;t&&Dd.setTimeout(()=>t(n,e))}const jU={closed:!0,next:hD,error:function BU(n){throw n},complete:hD},Wg="function"==typeof Symbol&&Symbol.observable||"@@observable";function xs(n){return n}function fD(n){return 0===n.length?xs:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function GU(n){return n&&n instanceof Gg||function HU(n){return n&&Fe(n.next)&&Fe(n.error)&&Fe(n.complete)}(n)&&cD(n)}(t)?t:new Nu(t,r,i);return Ad(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=pD(r))((i,s)=>{const o=new Nu({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Wg](){return this}pipe(...t){return fD(t)(this)}toPromise(t){return new(t=pD(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function pD(n){var e;return null!==(e=n??Ms.Promise)&&void 0!==e?e:Promise}const zU=ku(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Zn=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new gD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new zU}next(t){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ad(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?uD:(this.currentObservers=null,s.push(t),new tn(()=>{this.currentObservers=null,Ou(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ct;return t.source=this,t}}return n.create=(e,t)=>new gD(e,t),n})();class gD extends Zn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:uD}}function mD(n){return Fe(n?.lift)}function Vt(n){return e=>{if(mD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Tt(n,e,t,r,i){return new qU(n,e,t,r,i)}class qU extends Gg{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ue(n,e){return Vt((t,r)=>{let i=0;t.subscribe(Tt(r,s=>{r.next(n.call(e,s,i++))}))})}function Yg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Bi(n){return this instanceof Bi?(this.v=n,this):new Bi(n)}function vD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Bi?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function ID(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Zg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}const ED=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function CD(n){return Fe(n?.then)}function wD(n){return Fe(n[Wg])}function bD(n){return Symbol.asyncIterator&&Fe(n?.[Symbol.asyncIterator])}function TD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const DD=function lB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function AD(n){return Fe(n?.[DD])}function SD(n){return vD(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Bi(t.read());if(i)return yield Bi(void 0);yield yield Bi(r)}}finally{t.releaseLock()}})}function MD(n){return Fe(n?.getReader)}function hr(n){if(n instanceof ct)return n;if(null!=n){if(wD(n))return function dB(n){return new ct(e=>{const t=n[Wg]();if(Fe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(ED(n))return function hB(n){return new ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(CD(n))return function fB(n){return new ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dD)})}(n);if(bD(n))return PD(n);if(AD(n))return function pB(n){return new ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(MD(n))return function gB(n){return PD(SD(n))}(n)}throw TD(n)}function PD(n){return new ct(e=>{(function mB(n,e){var t,r,i,s;return function _D(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ID(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function ti(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function qt(n,e,t=1/0){return Fe(e)?qt((r,i)=>ue((s,o)=>e(r,s,i,o))(hr(n(r,i))),t):("number"==typeof e&&(t=e),Vt((r,i)=>function _B(n,e,t,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=g=>c<r?p(g):u.push(g),p=g=>{s&&e.next(g),c++;let m=!1;hr(t(g,l++)).subscribe(Tt(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;u.length&&c<r;){const v=u.shift();o?ti(e,o,()=>p(v)):p(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Tt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Ro(n=1/0){return qt(xs,n)}const ni=new ct(n=>n.complete());function Xg(n){return n[n.length-1]}function xD(n){return Fe(Xg(n))?n.pop():void 0}function Fu(n){return function vB(n){return n&&Fe(n.schedule)}(Xg(n))?n.pop():void 0}function RD(n,e=0){return Vt((t,r)=>{t.subscribe(Tt(r,i=>ti(r,n,()=>r.next(i),e),()=>ti(r,n,()=>r.complete(),e),i=>ti(r,n,()=>r.error(i),e)))})}function kD(n,e=0){return Vt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function OD(n,e){if(!n)throw new Error("Iterable cannot be null");return new ct(t=>{ti(t,e,()=>{const r=n[Symbol.asyncIterator]();ti(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function _t(n,e){return e?function DB(n,e){if(null!=n){if(wD(n))return function EB(n,e){return hr(n).pipe(kD(e),RD(e))}(n,e);if(ED(n))return function wB(n,e){return new ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(CD(n))return function CB(n,e){return hr(n).pipe(kD(e),RD(e))}(n,e);if(bD(n))return OD(n,e);if(AD(n))return function bB(n,e){return new ct(t=>{let r;return ti(t,e,()=>{r=n[DD](),ti(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Fe(r?.return)&&r.return()})}(n,e);if(MD(n))return function TB(n,e){return OD(SD(n),e)}(n,e)}throw TD(n)}(n,e):hr(n)}function em(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Nu({next:()=>{r.unsubscribe(),n()}});return e(...t).subscribe(r)}function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function tm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ne(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ne).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function nm(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const SB=Oe({__forward_ref__:Oe});function Ve(n){return n.__forward_ref__=Ve,n.toString=function(){return Ne(this())},n}function te(n){return rm(n)?n():n}function rm(n){return"function"==typeof n&&n.hasOwnProperty(SB)&&n.__forward_ref__===Ve}class k extends Error{constructor(e,t){super(function Md(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function oe(n){return"string"==typeof n?n:null==n?"":String(n)}function Pd(n,e){throw new k(-201,!1)}function Ln(n,e){null==n&&function Ae(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wt(n){return{providers:n.providers||[],imports:n.imports||[]}}function xd(n){return FD(n,Rd)||FD(n,LD)}function FD(n,e){return n.hasOwnProperty(e)?n[e]:null}function VD(n){return n&&(n.hasOwnProperty(im)||n.hasOwnProperty(VB))?n[im]:null}const Rd=Oe({\u0275prov:Oe}),im=Oe({\u0275inj:Oe}),LD=Oe({ngInjectableDef:Oe}),VB=Oe({ngInjectorDef:Oe});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let sm;function Xn(n){const e=sm;return sm=n,e}function UD(n,e,t){const r=xd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Y.Optional?null:void 0!==e?e:void Pd(Ne(n))}function ji(n){return{toString:n}.toString()}var fr=(()=>((fr=fr||{})[fr.OnPush=0]="OnPush",fr[fr.Default=1]="Default",fr))(),Mr=(()=>{return(n=Mr||(Mr={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Mr;var n})();const Le=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ko={},Te=[],kd=Oe({\u0275cmp:Oe}),om=Oe({\u0275dir:Oe}),am=Oe({\u0275pipe:Oe}),BD=Oe({\u0275mod:Oe}),ii=Oe({\u0275fac:Oe}),Vu=Oe({__NG_ELEMENT_ID__:Oe});let UB=0;function _n(n){return ji(()=>{const t=!0===n.standalone,r={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===fr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Mr.Emulated,id:"c"+UB++,styles:n.styles||Te,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return i.inputs=HD(n.inputs,r),i.outputs=HD(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(jD).filter($D):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(vn).filter($D):null,i})}function jD(n){return Me(n)||yn(n)}function $D(n){return null!==n}function nn(n){return ji(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function HD(n,e){if(null==n)return ko;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}const J=_n;function rn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Me(n){return n[kd]||null}function yn(n){return n[om]||null}function vn(n){return n[am]||null}function Un(n,e){const t=n[BD]||null;if(!t&&!0===e)throw new Error(`Type ${Ne(n)} does not have '\u0275mod' property.`);return t}function Mn(n){return Array.isArray(n)&&"object"==typeof n[1]}function gr(n){return Array.isArray(n)&&!0===n[1]}function lm(n){return 0!=(8&n.flags)}function Vd(n){return 2==(2&n.flags)}function Ld(n){return 1==(1&n.flags)}function mr(n){return null!==n.template}function zB(n){return 0!=(256&n[2])}function Fs(n,e){return n.hasOwnProperty(ii)?n[ii]:null}class KB{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function tr(){return qD}function qD(n){return n.type.prototype.ngOnChanges&&(n.setInput=YB),QB}function QB(){const n=KD(this),e=n?.current;if(e){const t=n.previous;if(t===ko)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function YB(n,e,t,r){const i=KD(n)||function JB(n,e){return n[WD]=e}(n,{previous:ko,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[t],u=o[a];s[a]=new KB(u&&u.currentValue,e,o===ko),n[r]=e}tr.ngInherit=!0;const WD="__ngSimpleChanges__";function KD(n){return n[WD]||null}function yt(n){for(;Array.isArray(n);)n=n[0];return n}function Ud(n,e){return yt(e[n])}function jn(n,e){return yt(e[n.index])}function gm(n,e){return n.data[e]}function Lo(n,e){return n[e]}function $n(n,e){const t=e[n];return Mn(t)?t:t[0]}function Bd(n){return 64==(64&n[2])}function $i(n,e){return null==e?null:n[e]}function QD(n){n[18]=0}function mm(n,e){n[5]+=e;let t=n,r=n[3];for(;null!==r&&(1===e&&1===t[5]||-1===e&&0===t[5]);)r[5]+=e,t=r,r=r[3]}const ie={lFrame:sA(null),bindingsEnabled:!0};function JD(){return ie.bindingsEnabled}function D(){return ie.lFrame.lView}function Ee(){return ie.lFrame.tView}function Dt(n){return ie.lFrame.contextLView=n,n[8]}function At(n){return ie.lFrame.contextLView=null,n}function St(){let n=ZD();for(;null!==n&&64===n.type;)n=n.parent;return n}function ZD(){return ie.lFrame.currentTNode}function Pr(n,e){const t=ie.lFrame;t.currentTNode=n,t.isParent=e}function _m(){return ie.lFrame.isParent}function In(){const n=ie.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Uo(){return ie.lFrame.bindingIndex++}function oi(n){const e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hj(n,e){const t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,vm(e)}function vm(n){ie.lFrame.currentDirectiveIndex=n}function nA(){return ie.lFrame.currentQueryIndex}function Em(n){ie.lFrame.currentQueryIndex=n}function pj(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function rA(n,e,t){if(t&Y.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Y.Host||(i=pj(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ie.lFrame=iA();return r.currentTNode=e,r.lView=n,!0}function Cm(n){const e=iA(),t=n[1];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function iA(){const n=ie.lFrame,e=null===n?null:n.child;return null===e?sA(n):e}function sA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function oA(){const n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const aA=oA;function wm(){const n=oA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function En(){return ie.lFrame.selectedIndex}function Hi(n){ie.lFrame.selectedIndex=n}function Ze(){const n=ie.lFrame;return gm(n.tView,n.selectedIndex)}function jd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=l&&(n.destroyHooks||(n.destroyHooks=[])).push(t,l)}}function $d(n,e,t){uA(n,e,3,t)}function Hd(n,e,t,r){(3&n[2])===t&&uA(n,e,t,r)}function bm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function uA(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(wj(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function wj(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];if(i){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Hu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Gd(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];lA(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function cA(n){return 3===n||4===n||6===n}function lA(n){return 64===n.charCodeAt(0)}function zd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||dA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function dA(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}function hA(n){return-1!==n}function Bo(n){return 32767&n}function jo(n,e){let t=function Sj(n){return n>>16}(n),r=e;for(;t>0;)r=r[15],t--;return r}let Dm=!0;function qd(n){const e=Dm;return Dm=n,e}let Mj=0;const xr={};function zu(n,e){const t=Sm(n,e);if(-1!==t)return t;const r=e[1];r.firstCreatePass&&(n.injectorIndex=e.length,Am(r.data,n),Am(e,null),Am(r.blueprint,null));const i=Wd(n,e),s=n.injectorIndex;if(hA(i)){const o=Bo(i),a=jo(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Sm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Wd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=EA(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Kd(n,e,t){!function Pj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vu)&&(r=t[Vu]),null==r&&(r=t[Vu]=Mj++);const i=255&r;e.data[n+(i>>5)]|=1<<i}(n,e,t)}function gA(n,e,t){if(t&Y.Optional||void 0!==n)return n;Pd()}function mA(n,e,t,r){if(t&Y.Optional&&void 0===r&&(r=null),0==(t&(Y.Self|Y.Host))){const i=n[9],s=Xn(void 0);try{return i?i.get(e,r,t&Y.Optional):UD(e,r,t&Y.Optional)}finally{Xn(s)}}return gA(r,0,t)}function _A(n,e,t,r=Y.Default,i){if(null!==n){if(1024&e[2]){const o=function Nj(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=yA(s,o,t,r|Y.Self,xr);if(a!==xr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(t,xr,r);if(l!==xr)return l}u=EA(o),o=o[15]}s=u}return i}(n,e,t,r,xr);if(o!==xr)return o}const s=yA(n,e,t,r,xr);if(s!==xr)return s}return mA(e,t,r,i)}function yA(n,e,t,r,i){const s=function kj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vu)?n[Vu]:void 0;return"number"==typeof e?e>=0?255&e:Oj:e}(t);if("function"==typeof s){if(!rA(e,n,r))return r&Y.Host?gA(i,0,r):mA(e,t,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;Pd()}finally{aA()}}else if("number"==typeof s){let o=null,a=Sm(n,e),u=-1,c=r&Y.Host?e[16][6]:null;for((-1===a||r&Y.SkipSelf)&&(u=-1===a?Wd(n,e):e[a+8],-1!==u&&IA(r,!1)?(o=e[1],a=Bo(u),e=jo(u,e)):a=-1);-1!==a;){const l=e[1];if(vA(s,a,l.data)){const d=Rj(a,e,t,o,r,c);if(d!==xr)return d}u=e[a+8],-1!==u&&IA(r,e[1].data[a+8]===c)&&vA(s,a,e)?(o=l,a=Bo(u),e=jo(u,e)):a=-1}}return i}function Rj(n,e,t,r,i,s){const o=e[1],a=o.data[n+8],l=Qd(a,o,t,null==r?Vd(a)&&Dm:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==l?qu(e,o,l,a):xr}function Qd(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,l=s>>20,h=i?a+l:n.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&mr(f)&&f.type===t)return u}return null}function qu(n,e,t,r){let i=n[t];const s=e.data;if(function bj(n){return n instanceof Hu}(i)){const o=i;o.resolving&&function MB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new k(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():oe(n)}(s[t]));const a=qd(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Xn(o.injectImpl):null;rA(n,r,Y.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Cj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=qD(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&Xn(u),qd(a),o.resolving=!1,aA()}}return i}function vA(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function IA(n,e){return!(n&Y.Self||n&Y.Host&&e)}class $o{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return _A(this._tNode,this._lView,e,r,t)}}function Oj(){return new $o(St(),D())}function an(n){return ji(()=>{const e=n.prototype.constructor,t=e[ii]||Mm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[ii]||Mm(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Mm(n){return rm(n)?()=>{const e=Mm(te(n));return e&&e()}:Fs(n)}function EA(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const Go="__parameters__";function qo(n,e,t){return ji(()=>{const r=function Pm(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(Go)?u[Go]:Object.defineProperty(u,Go,{value:[]})[Go];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}class B{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Hn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)?(e===n&&(e=n.slice(0,t)),Hn(r,e)):e!==n&&e.push(r)}return e}function ai(n,e){n.forEach(t=>Array.isArray(t)?ai(t,e):e(t))}function wA(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Gn(n,e,t){let r=Wo(n,e);return r>=0?n[1|r]=t:(r=~r,function Uj(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Rm(n,e){const t=Wo(n,e);if(t>=0)return n[1|t]}function Wo(n,e){return function DA(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ju={},Om="__NG_DI_FLAG__",Zd="ngTempTokenPath",Wj=/\n/gm,AA="__source";let Zu;function Ko(n){const e=Zu;return Zu=n,e}function Qj(n,e=Y.Default){if(void 0===Zu)throw new k(-203,!1);return null===Zu?UD(n,void 0,e):Zu.get(n,e&Y.Optional?null:void 0,e)}function N(n,e=Y.Default){return(function LB(){return sm}()||Qj)(te(n),e)}function Ke(n,e=Y.Default){return"number"!=typeof e&&(e=0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)),N(n,e)}function Nm(n){const e=[];for(let t=0;t<n.length;t++){const r=te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new k(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],u=Yj(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(N(i,s))}else e.push(N(r))}return e}function Xu(n,e){return n[Om]=e,n.prototype[Om]=e,n}function Yj(n){return n[Om]}const zi=Xu(qo("Optional"),8),Qo=Xu(qo("SkipSelf"),4);var Pn=(()=>((Pn=Pn||{})[Pn.Important=1]="Important",Pn[Pn.DashCase=2]="DashCase",Pn))();const Bm=new Map;let p$=0;const $m="__ngContext__";function un(n,e){Mn(e)?(n[$m]=e[20],function m$(n){Bm.set(n[20],n)}(e)):n[$m]=e}function Gm(n,e){return undefined(n,e)}function rc(n){const e=n[3];return gr(e)?e[3]:e}function zm(n){return KA(n[13])}function qm(n){return KA(n[4])}function KA(n){for(;null!==n&&!gr(n);)n=n[4];return n}function Jo(n,e,t,r,i){if(null!=r){let s,o=!1;gr(r)?s=r:Mn(r)&&(o=!0,r=r[0]);const a=yt(r);0===n&&null!==t?null==i?e0(e,t,a):Vs(e,t,a,i||null,!0):1===n&&null!==t?Vs(e,t,a,i||null,!0):2===n?function Xm(n,e,t){const r=th(n,e);r&&function L$(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function j$(n,e,t,r,i){const s=t[7];s!==yt(t)&&Jo(e,n,r,s,i);for(let a=10;a<t.length;a++){const u=t[a];ic(u[1],u,n,e,r,s)}}(e,n,s,t,i)}}function Km(n,e,t){return n.createElement(e,t)}function YA(n,e){const t=n[9],r=t.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,mm(i,-1)),t.splice(r,1)}function Qm(n,e){if(n.length<=10)return;const t=10+e,r=n[t];if(r){const i=r[17];null!==i&&i!==n&&YA(i,r),e>0&&(n[t-1][4]=r[4]);const s=Yd(n,10+e);!function P$(n,e){ic(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function JA(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&ic(n,e,t,3,null,null),function k$(n){let e=n[13];if(!e)return Ym(n[1],n);for(;e;){let t=null;if(Mn(e))t=e[13];else{const r=e[10];r&&(t=r)}if(!t){for(;e&&!e[4]&&e!==n;)Mn(e)&&Ym(e[1],e),e=e[3];null===e&&(e=n),Mn(e)&&Ym(e[1],e),t=e&&e[4]}e=t}}(e)}}function Ym(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function V$(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hu)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(n,e),function F$(n,e){const t=n.cleanup,r=e[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):yt(e[o]),u=r[i=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&gr(e[3])){t!==e[3]&&YA(t,e);const r=e[19];null!==r&&r.detachView(n)}!function _$(n){Bm.delete(n[20])}(e)}}function ZA(n,e,t){return function XA(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[0];if(2&r.flags){const i=n.data[r.directiveStart].encapsulation;if(i===Mr.None||i===Mr.Emulated)return null}return jn(r,t)}(n,e.parent,t)}function Vs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function e0(n,e,t){n.appendChild(e,t)}function t0(n,e,t,r,i){null!==r?Vs(n,e,t,r,i):e0(n,e,t)}function th(n,e){return n.parentNode(e)}let r_,s0=function r0(n,e,t){return 40&n.type?jn(n,t):null};function nh(n,e,t,r){const i=ZA(n,r,e),s=e[11],a=function n0(n,e,t){return s0(n,e,t)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)t0(s,i,t[u],a,!1);else t0(s,i,t,a,!1)}function rh(n,e){if(null!==e){const t=e.type;if(3&t)return jn(e,n);if(4&t)return Zm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rh(n,r);{const i=n[e.index];return gr(i)?Zm(-1,i):yt(i)}}if(32&t)return Gm(e,n)()||yt(n[e.index]);{const r=a0(n,e);return null!==r?Array.isArray(r)?r[0]:rh(rc(n[16]),r):rh(n,e.next)}}return null}function a0(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Zm(n,e){const t=10+n+1;if(t<e.length){const r=e[t],i=r[1].firstChild;if(null!==i)return rh(r,i)}return e[7]}function e_(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&un(yt(a),r),t.flags|=4),64!=(64&t.flags))if(8&u)e_(n,e,t.child,r,i,s,!1),Jo(e,n,i,a,s);else if(32&u){const c=Gm(t,r);let l;for(;l=c();)Jo(e,n,i,l,s);Jo(e,n,i,a,s)}else 16&u?u0(n,e,r,t,i,s):Jo(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ic(n,e,t,r,i,s){e_(t,r,n.firstChild,e,i,s,!1)}function u0(n,e,t,r,i,s){const o=t[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)Jo(e,n,i,u[c],s);else e_(n,e,u,o[3],i,s,!0)}function c0(n,e,t){n.setAttribute(e,"style",t)}function t_(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}class Us{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function zn(n){return n instanceof Us?n.changingThisBreaksApplicationSecurity:n}const aH=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var De=(()=>((De=De||{})[De.NONE=0]="NONE",De[De.HTML=1]="HTML",De[De.STYLE=2]="STYLE",De[De.SCRIPT=3]="SCRIPT",De[De.URL=4]="URL",De[De.RESOURCE_URL=5]="RESOURCE_URL",De))();function Zo(n){const e=function oc(){const n=D();return n&&n[12]}();return e?e.sanitize(De.URL,n)||"":function Rr(n,e){const t=function Z$(n){return n instanceof Us&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?zn(n):function oh(n){return(n=String(n)).match(aH)?n:"unsafe:"+n}(oe(n))}const u_=new B("ENVIRONMENT_INITIALIZER"),C0=new B("INJECTOR",-1),w0=new B("INJECTOR_DEF_TYPES");class b0{get(e,t=Ju){if(t===Ju){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return t}}function IH(...n){return{\u0275providers:T0(0,n)}}function T0(n,...e){const t=[],r=new Set;let i;return ai(e,s=>{const o=s;c_(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&D0(i,t),t}function D0(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];ai(i,s=>{e.push(s)})}}function c_(n,e,t,r){if(!(n=te(n)))return!1;let i=null,s=VD(n);const o=!s&&Me(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=VD(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)c_(c,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ai(s.imports,l=>{c_(l,e,t,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&D0(c,e)}if(!a){const c=Fs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Te},{provide:w0,useValue:i,multi:!0},{provide:u_,useValue:()=>N(i),multi:!0})}const u=s.providers;null==u||a||ai(u,l=>{e.push(l)})}}return i!==n&&void 0!==n.providers}const EH=Oe({provide:String,useValue:Oe});function l_(n){return null!==n&&"object"==typeof n&&EH in n}function Bs(n){return"function"==typeof n}const d_=new B("Set Injector scope."),uh={},wH={};let h_;function ch(){return void 0===h_&&(h_=new b0),h_}class qi{}class M0 extends qi{constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,p_(e,o=>this.processProvider(o)),this.records.set(C0,Xo(void 0,this)),i.has("environment")&&this.records.set(qi,Xo(void 0,this));const s=this.records.get(d_);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(w0.multi,Te,Y.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=Ko(this),r=Xn(void 0);try{return e()}finally{Ko(t),Xn(r)}}get(e,t=Ju,r=Y.Default){this.assertNotDestroyed();const i=Ko(this),s=Xn(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function SH(n){return"function"==typeof n||"object"==typeof n&&n instanceof B}(e)&&xd(e);a=u&&this.injectableDefInScope(u)?Xo(f_(e),uh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?ch():this.parent).get(e,t=r&Y.Optional&&t===Ju?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Zd]=o[Zd]||[]).unshift(Ne(e)),i)throw o;return function Jj(n,e,t,r){const i=n[Zd];throw e[AA]&&i.unshift(e[AA]),n.message=function Zj(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Wj,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Zd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Xn(s),Ko(i)}}resolveInjectorInitializers(){const e=Ko(this),t=Xn(void 0);try{const r=this.get(u_.multi,Te,Y.Self);for(const i of r)i()}finally{Ko(e),Xn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new k(205,!1)}processProvider(e){let t=Bs(e=te(e))?e:te(e&&e.provide);const r=function TH(n){return l_(n)?Xo(void 0,n.useValue):Xo(P0(n),uh)}(e);if(Bs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Xo(void 0,uh,!0),i.factory=()=>Nm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===uh&&(t.value=wH,t.value=t.factory()),"object"==typeof t.value&&t.value&&function AH(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function f_(n){const e=xd(n),t=null!==e?e.factory:Fs(n);if(null!==t)return t;if(n instanceof B)throw new k(204,!1);if(n instanceof Function)return function bH(n){const e=n.length;if(e>0)throw function Yu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new k(204,!1);const t=function NB(n){const e=n&&(n[Rd]||n[LD]);if(e){const t=function FB(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new k(204,!1)}function P0(n,e,t){let r;if(Bs(n)){const i=te(n);return Fs(i)||f_(i)}if(l_(n))r=()=>te(n.useValue);else if(function S0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Nm(n.deps||[]));else if(function A0(n){return!(!n||!n.useExisting)}(n))r=()=>N(te(n.useExisting));else{const i=te(n&&(n.useClass||n.provide));if(!function DH(n){return!!n.deps}(n))return Fs(i)||f_(i);r=()=>new i(...Nm(n.deps))}return r}function Xo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function MH(n){return!!n.\u0275providers}function p_(n,e){for(const t of n)Array.isArray(t)?p_(t,e):MH(t)?p_(t.\u0275providers,e):e(t)}class x0{}class RH{resolveComponentFactory(e){throw function xH(n){const e=Error(`No component factory found for ${Ne(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ac=(()=>{class n{}return n.NULL=new RH,n})();function kH(){return ea(St(),D())}function ea(n,e){return new xn(jn(n,e))}let xn=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=kH,n})();function OH(n){return n instanceof xn?n.nativeElement:n}class k0{}let kr=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function NH(){const n=D(),t=$n(St().index,n);return(Mn(t)?t:n)[11]}(),n})(),FH=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>null}),n})();class Wi{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const VH=new Wi("14.3.0"),g_={};function __(n){return n.ngOriginalError}class Ki{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&__(e);for(;t&&__(t);)t=__(t);return t||null}}function ci(n){return n instanceof Function?n():n}function N0(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}const F0="ng-template";function KH(n,e,t){let r=0;for(;r<n.length;){let i=n[r++];if(t&&"class"===i){if(i=n[r],-1!==N0(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<n.length&&"string"==typeof(i=n[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function V0(n){return 4===n.type&&n.value!==F0}function QH(n,e,t){return e===(4!==n.type||t?n.value:F0)}function YH(n,e,t){let r=4;const i=n.attrs||[],s=function XH(n){for(let e=0;e<n.length;e++)if(cA(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!QH(n,u,t)||""===u&&1===e.length){if(_r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!KH(n.attrs,c,t)){if(_r(r))return!1;o=!0}continue}const d=JH(8&r?"class":u,i,V0(n),t);if(-1===d){if(_r(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==N0(f,c,0)||2&r&&c!==h){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(u))return!1;if(o&&_r(u))continue;o=!1,r=u|1&r}}return _r(r)||o}function _r(n){return 0==(1&n)}function JH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function e3(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function L0(n,e,t=!1){for(let r=0;r<e.length;r++)if(YH(n,e[r],t))return!0;return!1}function U0(n,e){return n?":not("+e.trim()+")":e}function n3(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_r(o)&&(e+=U0(s,i),i=""),r=o,s=s||!_r(r);t++}return""!==i&&(e+=U0(s,i)),e}const ae={};function j(n){B0(Ee(),D(),En()+n,!1)}function B0(n,e,t,r){if(!r)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&$d(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Hd(e,s,0,t)}Hi(t)}function G0(n,e=null,t=null,r){const i=z0(n,e,t,r);return i.resolveInjectorInitializers(),i}function z0(n,e=null,t=null,r,i=new Set){const s=[t||Te,IH(n)];return r=r||("object"==typeof n?void 0:Ne(n)),new M0(s,e||ch(),r||null,i)}let Rn=(()=>{class n{static create(t,r){if(Array.isArray(t))return G0({name:""},r,t,"");{const i=t.name??"";return G0({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=Ju,n.NULL=new b0,n.\u0275prov=q({token:n,providedIn:"any",factory:()=>N(C0)}),n.__NG_ELEMENT_ID__=-1,n})();function w(n,e=Y.Default){const t=D();return null===t?N(n,e):_A(St(),t,te(n),e)}function C_(){throw new Error("invalid")}function dh(n,e){return n<<17|e<<2}function yr(n){return n>>17&32767}function w_(n){return 2|n}function li(n){return(131068&n)>>2}function b_(n,e){return-131069&n|e<<2}function T_(n){return 1|n}function uS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=n.data[s];Em(i),o.contentQueries(2,e[s],s)}}}function ph(n,e,t,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||n&&1024&n[2])&&(d[2]|=1024),QD(d),d[3]=d[15]=n,d[8]=t,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=u||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=s,d[20]=function g$(){return p$++}(),d[21]=l,d[16]=2==e.type?n[16]:d,d}function ra(n,e,t,r,i){let s=n.data[e];if(null===s)s=function k_(n,e,t,r,i){const s=ZD(),o=_m(),u=n.data[e]=function U3(n,e,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,r,i),function dj(){return ie.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function $u(){const n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Pr(s,!0),s}function ia(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function O_(n,e,t){Cm(e);try{const r=n.viewQuery;null!==r&&$_(1,r,t);const i=n.template;null!==i&&cS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&uS(n,e),n.staticViewQueries&&$_(2,n.viewQuery,t);const s=n.components;null!==s&&function F3(n,e){for(let t=0;t<e.length;t++)t4(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[2]&=-5,wm()}}function gh(n,e,t,r){const i=e[2];if(128!=(128&i)){Cm(e);try{QD(e),function eA(n){return ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&cS(n,e,t,2,r);const o=3==(3&i);if(o){const c=n.preOrderCheckHooks;null!==c&&$d(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Hd(e,c,0,null),bm(e,0)}if(function X3(n){for(let e=zm(n);null!==e;e=qm(e)){if(!e[2])continue;const t=e[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&mm(s,1),i[2]|=512}}}(e),function Z3(n){for(let e=zm(n);null!==e;e=qm(e))for(let t=10;t<e.length;t++){const r=e[t],i=r[1];Bd(r)&&gh(i,r,i.template,r[8])}}(e),null!==n.contentQueries&&uS(n,e),o){const c=n.contentCheckHooks;null!==c&&$d(e,c)}else{const c=n.contentHooks;null!==c&&Hd(e,c,1),bm(e,1)}!function O3(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Hi(~i);else{const s=i,o=t[++r],a=t[++r];hj(o,s),a(2,e[s])}}}finally{Hi(-1)}}(n,e);const a=n.components;null!==a&&function N3(n,e){for(let t=0;t<e.length;t++)e4(n,e[t])}(e,a);const u=n.viewQuery;if(null!==u&&$_(2,u,r),o){const c=n.viewCheckHooks;null!==c&&$d(e,c)}else{const c=n.viewHooks;null!==c&&Hd(e,c,2),bm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,mm(e[3],-1))}finally{wm()}}}function cS(n,e,t,r,i){const s=En(),o=2&r;try{Hi(-1),o&&e.length>22&&B0(n,e,22,!1),t(r,i)}finally{Hi(s)}}function N_(n,e,t){!JD()||(function G3(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||zu(t,e),un(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],c=mr(u);c&&Q3(e,t,u);const l=qu(e,n,a,t);un(l,e),null!==o&&Y3(0,a-i,l,u,0,o),c&&($n(t.index,e)[8]=l)}}(n,e,t,jn(t,e)),128==(128&t.flags)&&function z3(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function fj(){return ie.lFrame.currentDirectiveIndex}();try{Hi(s);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];vm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_S(u,c)}}finally{Hi(-1),vm(o)}}(n,e,t))}function F_(n,e,t=jn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function dS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=V_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function V_(n,e,t,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function V3(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(l,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function hS(n,e,t,r){const i=CS(e);null===t?i.push(r):(i.push(t),n.firstCreatePass&&wS(n).push(r,i.length-1))}function fS(n,e,t){for(let r in n)if(n.hasOwnProperty(r)){const i=n[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(e,i):t[r]=[e,i]}return t}function pS(n,e){const r=e.directiveEnd,i=n.data,s=e.attrs,o=[];let a=null,u=null;for(let c=e.directiveStart;c<r;c++){const l=i[c],d=l.inputs,h=null===s||V0(e)?null:J3(d,s);o.push(h),a=fS(d,c,a),u=fS(l.outputs,c,u)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=u}function qn(n,e,t,r,i,s,o,a){const u=jn(e,t);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(H_(n,t,l,r,i),Vd(e)&&gS(t,e.index)):3&e.type&&(r=function B3(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function gS(n,e){const t=$n(e,n);16&t[2]||(t[2]|=32)}function L_(n,e,t,r){let i=!1;if(JD()){const s=function q3(n,e,t){const r=n.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];L0(t,o.selectors,!1)&&(i||(i=[]),Kd(zu(t,e),n,o.type),mr(o)?(yS(n,t),i.unshift(o)):i.push(o))}return i}(n,e,t),o=null===r?null:{"":-1};if(null!==s){i=!0,vS(t,n.data.length,s.length);for(let l=0;l<s.length;l++){const d=s[l];d.providersResolver&&d.providersResolver(d)}let a=!1,u=!1,c=ia(n,e,s.length,null);for(let l=0;l<s.length;l++){const d=s[l];t.mergedAttrs=zd(t.mergedAttrs,d.hostAttrs),IS(n,t,e,c,d),K3(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!u&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),u=!0),c++}pS(n,t)}o&&function W3(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new k(-301,!1);r.push(e[i],s)}}}(t,r,o)}return t.mergedAttrs=zd(t.mergedAttrs,t.attrs),i}function mS(n,e,t,r,i,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~e.index;(function H3(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=u&&a.push(u),a.push(r,i,o)}}function _S(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function yS(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function K3(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mr(e)&&(t[""]=n)}}function vS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function IS(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=Fs(i.type)),o=new Hu(s,mr(i),w);n.blueprint[r]=o,t[r]=o,mS(n,e,0,r,ia(n,t,i.hostVars,ae),i)}function Q3(n,e,t){const r=jn(e,n),i=dS(t),s=n[10],o=mh(n,ph(n,i,null,t.onPush?32:16,r,e,s,s.createRenderer(r,t),null,null,null));n[e.index]=o}function Or(n,e,t,r,i,s){const o=jn(n,e);!function U_(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?oe(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[11],o,s,n.value,t,r,i)}function Y3(n,e,t,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(t,d,c,l):t[l]=d}}}function J3(n,e){let t=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;n.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,n[i],e[r+1])),r+=2}else r+=2;else r+=4}return t}function ES(n,e,t,r){return new Array(n,!0,!1,e,null,0,r,t,null,null)}function e4(n,e){const t=$n(e,n);if(Bd(t)){const r=t[1];48&t[2]?gh(r,t,r.template,t[8]):t[5]>0&&B_(t)}}function B_(n){for(let r=zm(n);null!==r;r=qm(r))for(let i=10;i<r.length;i++){const s=r[i];if(Bd(s))if(512&s[2]){const o=s[1];gh(o,s,o.template,s[8])}else s[5]>0&&B_(s)}const t=n[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=$n(t[r],n);Bd(i)&&i[5]>0&&B_(i)}}function t4(n,e){const t=$n(e,n),r=t[1];(function n4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(r,t),O_(r,t,t[8])}function mh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function j_(n){for(;n;){n[2]|=32;const e=rc(n);if(zB(n)&&!e)return n;n=e}return null}function _h(n,e,t,r=!0){const i=e[10];i.begin&&i.begin();try{gh(n,e,n.template,t)}catch(o){throw r&&TS(e,o),o}finally{i.end&&i.end()}}function $_(n,e,t){Em(0),e(n,t)}function CS(n){return n[7]||(n[7]=[])}function wS(n){return n.cleanup||(n.cleanup=[])}function TS(n,e){const t=n[9],r=t?t.get(Ki,null):null;r&&r.handleError(e)}function H_(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],u=e[o],c=n.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function di(n,e,t){const r=Ud(e,n);!function QA(n,e,t){n.setValue(e,t)}(n[11],r,t)}function yh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=nm(i,a):2==s&&(r=nm(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function vh(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(yt(s)),gr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&vh(u[1],u,c,r)}const o=t.type;if(8&o)vh(n,e,t.child,r);else if(32&o){const a=Gm(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=a0(e,t);if(Array.isArray(a))r.push(...a);else{const u=rc(e[16]);vh(u[1],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}class uc{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return vh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Qm(e,r),Yd(t,r))}this._attachedToViewContainer=!1}JA(this._lView[1],this._lView)}onDestroy(e){hS(this._lView[1],this._lView,null,e)}markForCheck(){j_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){_h(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new k(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function R$(n,e){ic(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new k(902,!1);this._appRef=e}}class r4 extends uc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;_h(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class G_ extends ac{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Me(e);return new cc(t,this.ngModule)}}function DS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class s4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){const i=this.injector.get(e,g_,r);return i!==g_||t===g_?i:this.parentInjector.get(e,t,r)}}class cc extends x0{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function r3(n){return n.map(n3).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return DS(this.componentDef.inputs)}get outputs(){return DS(this.componentDef.outputs)}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof qi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new s4(e,s):e,a=o.get(k0,null);if(null===a)throw new k(407,!1);const u=o.get(FH,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function L3(n,e,t){return n.selectRootElement(e,t===Mr.ShadowDom)}(c,r,this.componentDef.encapsulation):Km(c,l,function i4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=V_(0,null,null,1,0,null,null,null,null,null),p=ph(null,f,null,h,null,null,a,c,u,o,null);let g,m;Cm(p);try{const v=function u4(n,e,t,r,i,s){const o=t[1];t[22]=n;const u=ra(o,22,2,"#host",null),c=u.mergedAttrs=e.hostAttrs;null!==c&&(yh(u,c,!0),null!==n&&(Gd(i,n,c),null!==u.classes&&t_(i,n,u.classes),null!==u.styles&&c0(i,n,u.styles)));const l=r.createRenderer(n,e),d=ph(t,dS(e),null,e.onPush?32:16,t[22],u,r,l,s||null,null,null);return o.firstCreatePass&&(Kd(zu(u,t),o,e.type),yS(o,u),vS(u,t.length,1)),mh(t,d),t[22]=d}(d,this.componentDef,p,a,c);if(d)if(r)Gd(c,d,["ng-version",VH.full]);else{const{attrs:C,classes:y}=function s3(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);C&&Gd(c,d,C),y&&y.length>0&&t_(c,d,y.join(" "))}if(m=gm(f,22),void 0!==t){const C=m.projection=[];for(let y=0;y<this.ngContentSelectors.length;y++){const P=t[y];C.push(null!=P?Array.from(P):null)}}g=function c4(n,e,t,r){const i=t[1],s=function $3(n,e,t){const r=St();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),IS(n,r,e,ia(n,e,1,null),t),pS(n,r));const i=qu(e,n,r.directiveStart,r);un(i,e);const s=jn(r,e);return s&&un(s,e),i}(i,t,e);if(n[8]=t[8]=s,null!==r)for(const a of r)a(s,e);if(e.contentQueries){const a=St();e.contentQueries(1,s,a.directiveStart)}const o=St();return!i.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Hi(o.index),mS(t[1],o,0,o.directiveStart,o.directiveEnd,e),_S(e,s)),s}(v,this.componentDef,p,[l4]),O_(f,p,null)}finally{wm()}return new a4(this.componentType,g,ea(m,p),p,m)}}class a4 extends class PH{}{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new r4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;H_(s[1],s,i,e,t),gS(s,this._tNode.index)}}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function l4(){const n=St();jd(D()[1],n)}function Pe(n){let e=function AS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(mr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new k(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=z_(n.inputs),o.declaredInputs=z_(n.declaredInputs),o.outputs=z_(n.outputs);const a=i.hostBindings;a&&p4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&h4(n,u),c&&f4(n,c),tm(n.inputs,i.inputs),tm(n.declaredInputs,i.declaredInputs),tm(n.outputs,i.outputs),mr(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Pe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function d4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zd(i.hostAttrs,t=zd(t,i.hostAttrs))}}(r)}function z_(n){return n===ko?{}:n===Te?[]:n}function h4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function f4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function p4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}let Ih=null;function js(){if(!Ih){const n=Le.Symbol;if(n&&n.iterator)Ih=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const r=e[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ih=r)}}}return Ih}function lc(n){return!!q_(n)&&(Array.isArray(n)||!(n instanceof Map)&&js()in n)}function q_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Nr(n,e,t){return n[e]=t}function cn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function $s(n,e,t,r){const i=cn(n,e,t);return cn(n,e+1,r)||i}function Wn(n,e,t,r){const i=D();return cn(i,Uo(),e)&&(Ee(),Or(Ze(),i,n,e,t,r)),Wn}function oa(n,e,t,r){return cn(n,Uo(),t)?e+oe(t)+r:ae}function aa(n,e,t,r,i,s){const a=$s(n,function si(){return ie.lFrame.bindingIndex}(),t,i);return oi(2),a?e+oe(t)+r+oe(i)+s:ae}function we(n,e,t,r,i,s,o,a){const u=D(),c=Ee(),l=n+22,d=c.firstCreatePass?function C4(n,e,t,r,i,s,o,a,u){const c=e.consts,l=ra(e,n,4,o||null,$i(c,a));L_(e,t,l,$i(c,u)),jd(e,l);const d=l.tViews=V_(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,t,r,i,s,o):c.data[l];Pr(d,!1);const h=u[11].createComment("");nh(c,u,h,d),un(h,u),mh(u,u[l]=ES(h,u,h,d)),Ld(d)&&N_(c,u,d),null!=o&&F_(u,d,a)}function W_(n){return Lo(function lj(){return ie.lFrame.contextLView}(),22+n)}function X(n,e,t){const r=D();return cn(r,Uo(),e)&&qn(Ee(),Ze(),r,n,e,r[11],t,!1),X}function K_(n,e,t,r,i){const o=i?"class":"style";H_(n,t,e.inputs[o],o,r)}function b(n,e,t,r){const i=D(),s=Ee(),o=22+n,a=i[11],u=i[o]=Km(a,e,function Ej(){return ie.lFrame.currentNamespace}()),c=s.firstCreatePass?function b4(n,e,t,r,i,s,o){const a=e.consts,c=ra(e,n,2,i,$i(a,s));return L_(e,t,c,$i(a,o)),null!==c.attrs&&yh(c,c.attrs,!1),null!==c.mergedAttrs&&yh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,t,r):s.data[o];Pr(c,!0);const l=c.mergedAttrs;null!==l&&Gd(a,u,l);const d=c.classes;null!==d&&t_(a,u,d);const h=c.styles;return null!==h&&c0(a,u,h),64!=(64&c.flags)&&nh(s,i,u,c),0===function sj(){return ie.lFrame.elementDepthCount}()&&un(u,i),function oj(){ie.lFrame.elementDepthCount++}(),Ld(c)&&(N_(s,i,c),function lS(n,e,t){if(lm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,c,i)),null!==r&&F_(i,c),b}function T(){let n=St();_m()?function ym(){ie.lFrame.isParent=!1}():(n=n.parent,Pr(n,!1));const e=n;!function aj(){ie.lFrame.elementDepthCount--}();const t=Ee();return t.firstCreatePass&&(jd(t,n),lm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Dj(n){return 0!=(16&n.flags)}(e)&&K_(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Aj(n){return 0!=(32&n.flags)}(e)&&K_(t,e,D(),e.stylesWithoutHost,!1),T}function Pt(n,e,t,r){return b(n,e,t,r),T(),Pt}function Kt(){return D()}function hc(n){return!!n&&"function"==typeof n.then}const J_=function LS(n){return!!n&&"function"==typeof n.subscribe};function ne(n,e,t,r){const i=D(),s=Ee(),o=St();return function BS(n,e,t,r,i,s,o,a){const u=Ld(r),l=n.firstCreatePass&&wS(n),d=e[8],h=CS(e);let f=!0;if(3&r.type||a){const m=jn(r,e),v=a?a(m):m,C=h.length,y=a?H=>a(yt(H[r.index])):r.index;let P=null;if(!a&&u&&(P=function D4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=s,P.__ngLastListenerFn__=s,f=!1;else{s=$S(r,e,d,s,!1);const H=t.listen(v,i,s);h.push(s,H),l&&l.push(i,y,C,C+1)}}else s=$S(r,e,d,s,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[i])){const m=g.length;if(m)for(let v=0;v<m;v+=2){const K=e[g[v]][g[v+1]].subscribe(s),Se=h.length;h.push(s,K),l&&l.push(i,r.index,Se,-(Se+1))}}}(s,i,i[11],o,n,e,0,r),ne}function jS(n,e,t,r){try{return!1!==t(r)}catch(i){return TS(n,i),!1}}function $S(n,e,t,r,i){return function s(o){if(o===Function)return r;j_(2&n.flags?$n(n.index,e):e);let u=jS(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=jS(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Ie(n=1){return function gj(n){return(ie.lFrame.contextLView=function mj(n,e){for(;n>0;)e=e[15],n--;return e}(n,ie.lFrame.contextLView))[8]}(n)}function Hs(n,e,t){return Z_(n,"",e,"",t),Hs}function Z_(n,e,t,r,i){const s=D(),o=oa(s,e,t,r);return o!==ae&&qn(Ee(),Ze(),s,n,o,s[11],i,!1),Z_}function JS(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?yr(s):li(s),u=!1;for(;0!==a&&(!1===u||o);){const l=n[a+1];R4(n[a],e)&&(u=!0,n[a+1]=r?T_(l):w_(l)),a=r?yr(l):li(l)}u&&(n[t+1]=r?w_(s):T_(s))}function R4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Wo(n,e)>=0}const xt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ZS(n){return n.substring(xt.key,xt.keyEnd)}function XS(n,e){const t=xt.textEnd;return t===e?-1:(e=xt.keyEnd=function F4(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,xt.key=e,t),pa(n,e,t))}function pa(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function X_(n,e,t){return vr(n,e,t,!1),X_}function Ch(n,e){return vr(n,e,null,!0),Ch}function iM(n){!function Ir(n,e,t,r){const i=Ee(),s=oi(2);i.firstUpdatePass&&oM(i,null,s,r);const o=D();if(t!==ae&&cn(o,s,t)){const a=i.data[En()];if(lM(a,r)&&!sM(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=nm(u,t||"")),K_(i,a,o,t,r)}else!function z4(n,e,t,r,i,s,o,a){i===ae&&(i=Te);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let g,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,g=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,g=f),null!==p&&uM(n,e,t,r,p,g,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function G4(n,e,t){if(null==t||""===t)return Te;const r=[],i=zn(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Gn,Vr,n,!0)}function Vr(n,e){for(let t=function O4(n){return function tM(n){xt.key=0,xt.keyEnd=0,xt.value=0,xt.valueEnd=0,xt.textEnd=n.length}(n),XS(n,pa(n,0,xt.textEnd))}(e);t>=0;t=XS(e,t))Gn(n,ZS(e),!0)}function vr(n,e,t,r){const i=D(),s=Ee(),o=oi(2);s.firstUpdatePass&&oM(s,n,o,r),e!==ae&&cn(i,o,e)&&uM(s,s.data[En()],i,i[11],n,i[o+1]=function q4(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ne(zn(n)))),n}(e,t),r,o)}function sM(n,e){return e>=n.expandoStartIndex}function oM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[En()],o=sM(n,t);lM(s,r)&&null===e&&!o&&(e=!1),e=function B4(n,e,t,r){const i=function Im(n){const e=ie.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=fc(t=ey(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=ey(i,n,e,t,r),null===s){let u=function j4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==li(r))return n[yr(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=ey(null,n,e,u[1],r),u=fc(u,e.attrs,r),function $4(n,e,t,r){n[yr(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function H4(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=fc(r,n[s].hostAttrs,t);return fc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function P4(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yr(o),u=li(o);n[r]=t;let l,c=!1;if(Array.isArray(t)){const d=t;l=d[1],(null===l||Wo(d,l)>0)&&(c=!0)}else l=t;if(i)if(0!==u){const h=yr(n[a+1]);n[r+1]=dh(h,a),0!==h&&(n[h+1]=b_(n[h+1],r)),n[a+1]=function b3(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=dh(a,0),0!==a&&(n[a+1]=b_(n[a+1],r)),a=r;else n[r+1]=dh(u,0),0===a?a=r:n[u+1]=b_(n[u+1],r),u=r;c&&(n[r+1]=w_(n[r+1])),JS(n,l,r,!0),JS(n,l,r,!1),function x4(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Wo(s,e)>=0&&(t[r+1]=T_(t[r+1]))}(e,l,n,r,s),o=dh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function ey(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=fc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function fc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gn(n,o,!!t||e[++s]))}return void 0===n?null:n}function uM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,c=u[a+1];wh(function eS(n){return 1==(1&n)}(c)?cM(u,e,t,i,li(c),o):void 0)||(wh(s)||function X0(n){return 2==(2&n)}(c)&&(s=cM(u,null,t,i,a,o)),function $$(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Pn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Pn.Important),n.setStyle(t,r,i,s))}}(r,o,Ud(En(),t),i,s))}function cM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=t[i+1];h===ae&&(h=d?Te:void 0);let f=d?Rm(h,r):l===r?h:void 0;if(c&&!wh(f)&&(f=Rm(u,r)),wh(f)&&(a=f,o))return a;const p=n[i+1];i=o?yr(p):li(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Rm(u,r))}return a}function wh(n){return void 0!==n}function lM(n,e){return 0!=(n.flags&(e?16:32))}function x(n,e=""){const t=D(),r=Ee(),i=n+22,s=r.firstCreatePass?ra(r,i,1,e,null):r.data[i],o=t[i]=function Wm(n,e){return n.createText(e)}(t[11],e);nh(r,t,o,s),Pr(s,!1)}function hi(n){return ln("",n,""),hi}function ln(n,e,t){const r=D(),i=oa(r,n,e,t);return i!==ae&&di(r,En(),i),ln}function bh(n,e,t,r,i){const s=D(),o=aa(s,n,e,t,r,i);return o!==ae&&di(s,En(),o),bh}const Gs=void 0;var hG=["en",[["a","p"],["AM","PM"],Gs],[["AM","PM"],Gs,Gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gs,"{1} 'at' {0}",Gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dG(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let ga={};function wn(n){const e=function fG(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=PM(e);if(t)return t;const r=e.split("-")[0];if(t=PM(r),t)return t;if("en"===r)return hG;throw new k(701,!1)}function PM(n){return n in ga||(ga[n]=Le.ng&&Le.ng.common&&Le.ng.common.locales&&Le.ng.common.locales[n]),ga[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const ma="en-US";let xM=ma;function ry(n,e,t,r,i){if(n=te(n),Array.isArray(n))for(let s=0;s<n.length;s++)ry(n[s],e,t,r,i);else{const s=Ee(),o=D();let a=Bs(n)?n:te(n.provide),u=P0(n);const c=St(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Bs(n)||!n.multi){const f=new Hu(u,i,w),p=sy(a,e,i?l:l+h,d);-1===p?(Kd(zu(c,o),s,a),iy(s,n,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=sy(a,e,l+h,d),p=sy(a,e,l,l+h),g=f>=0&&t[f],m=p>=0&&t[p];if(i&&!m||!i&&!g){Kd(zu(c,o),s,a);const v=function l5(n,e,t,r,i){const s=new Hu(n,t,w);return s.multi=[],s.index=e,s.componentProviders=0,nP(s,i,r&&!t),s}(i?c5:u5,t.length,i,r,u);!i&&m&&(t[p].providerFactory=v),iy(s,n,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),t.push(v),o.push(v)}else iy(s,n,f>-1?f:p,nP(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function iy(n,e,t,r){const i=Bs(e),s=function CH(n){return!!n.useClass}(e);if(i||s){const u=(s?te(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(t);-1===l?c.push(t,[r,u]):c[l+1].push(r,u)}else c.push(t,u)}}}function nP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function sy(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function u5(n,e,t,r){return oy(this.multi,[])}function c5(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=qu(t,t[1],this.providerFactory.index,r);s=a.slice(0,o),oy(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],oy(i,s);return s}function oy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Qe(n,e=[]){return t=>{t.providersResolver=(r,i)=>function a5(n,e,t){const r=Ee();if(r.firstCreatePass){const i=mr(n);ry(t,r.data,r.blueprint,i,!0),ry(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class zs{}class rP{}class iP extends zs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new G_(this);const r=Un(e);this._bootstrapComponents=ci(r.bootstrap),this._r3Injector=z0(e,t,[{provide:zs,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class ay extends rP{constructor(e){super(),this.moduleType=e}create(e){return new iP(this.moduleType,e)}}class h5 extends zs{constructor(e,t,r){super(),this.componentFactoryResolver=new G_(this),this.instance=null;const i=new M0([...e,{provide:zs,useValue:this},{provide:ac,useValue:this.componentFactoryResolver}],t||ch(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Mh(n,e,t=null){return new h5(n,e,t).injector}let f5=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=T0(0,t.type),i=r.length>0?Mh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=q({token:n,providedIn:"environment",factory:()=>new n(N(qi))}),n})();function sP(n){n.getStandaloneInjector=e=>e.get(f5).getOrCreateStandaloneInjector(n)}function cy(n,e,t,r){return fP(D(),In(),n,e,t,r)}function hP(n,e,t,r,i,s,o,a){const u=In()+n,c=D(),l=function rr(n,e,t,r,i,s){const o=$s(n,e,t,r);return $s(n,e+2,i,s)||o}(c,u,t,r,i,s);return cn(c,u+4,o)||l?Nr(c,u+5,a?e.call(a,t,r,i,s,o):e(t,r,i,s,o)):function dc(n,e){return n[e]}(c,u+5)}function vc(n,e){const t=n[e];return t===ae?void 0:t}function fP(n,e,t,r,i,s){const o=e+t;return cn(n,o,i)?Nr(n,o+1,s?r.call(s,i):r(i)):vc(n,o+1)}function _a(n,e){const t=Ee();let r;const i=n+22;t.firstCreatePass?(r=function P5(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=Fs(r.type)),o=Xn(w);try{const a=qd(!1),u=s();return qd(a),function w4(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,D(),i,u),u}finally{Xn(o)}}function ly(n,e,t){const r=n+22,i=D(),s=Lo(i,r);return Ic(i,r)?fP(i,In(),e,s.transform,t,s):s.transform(t)}function dy(n,e,t,r){const i=n+22,s=D(),o=Lo(s,i);return Ic(s,i)?function pP(n,e,t,r,i,s,o){const a=e+t;return $s(n,a,i,s)?Nr(n,a+2,o?r.call(o,i,s):r(i,s)):vc(n,a+2)}(s,In(),e,o.transform,t,r,o):o.transform(t,r)}function yP(n,e,t){const r=n+22,i=D(),s=Lo(i,r);return Ic(i,r)?function _P(n,e,t,r,i,s){let o=e+t,a=!1;for(let u=0;u<i.length;u++)cn(n,o++,i[u])&&(a=!0);return a?Nr(n,o,r.apply(s,i)):vc(n,o)}(i,In(),e,s.transform,t,s):s.transform.apply(s,t)}function Ic(n,e){return n[1].data[e].pure}function hy(n){return e=>{setTimeout(n,void 0,e)}}const Xe=class k5 extends Zn{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=hy(s),i&&(i=hy(i)),o&&(o=hy(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof tn&&e.add(a),a}};function O5(){return this._results[js()]()}class fy{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=js(),r=fy.prototype;r[t]||(r[t]=O5)}get changes(){return this._changes||(this._changes=new Xe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=Hn(e);(this._changesDetected=!function Vj(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fi=(()=>{class n{}return n.__NG_ELEMENT_ID__=V5,n})();const N5=fi,F5=class extends N5{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(e,t){const r=this._declarationTContainer.tViews,i=ph(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),O_(r,i,e),new uc(i)}};function V5(){return Ph(St(),D())}function Ph(n,e){return 4&n.type?new F5(e,n,ea(n,e)):null}let Er=(()=>{class n{}return n.__NG_ELEMENT_ID__=L5,n})();function L5(){return EP(St(),D())}const U5=Er,vP=class extends U5{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ea(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wd(this._hostTNode,this._hostLView);if(hA(e)){const t=jo(e,this._hostLView),r=Bo(e);return new $o(t[1].data[r+8],t)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=IP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(e,t,r,i,s){const o=e&&!function Qu(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new cc(Me(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(qi,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,t){const r=e._lView,i=r[1];if(function ij(n){return gr(n[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new vP(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function O$(n,e,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=e),r<s-10?(e[4]=t[i],wA(t,10+r,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function N$(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=64}(i,r,o,s);const a=Zm(s,o),u=r[11],c=th(u,o[7]);return null!==c&&function x$(n,e,t,r,i,s){r[0]=i,r[6]=e,ic(n,r,t,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),wA(py(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=IP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Qm(this._lContainer,t);r&&(Yd(py(this._lContainer),t),JA(r[1],r))}detach(e){const t=this._adjustIndex(e,-1),r=Qm(this._lContainer,t);return r&&null!=Yd(py(this._lContainer),t)?new uc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function IP(n){return n[8]}function py(n){return n[8]||(n[8]=[])}function EP(n,e){let t;const r=e[n.index];if(gr(r))t=r;else{let i;if(8&n.type)i=yt(r);else{const s=e[11];i=s.createComment("");const o=jn(n,e);Vs(s,th(s,o),i,function U$(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=ES(r,e,i,n),mh(e,t)}return new vP(t,n,e)}class gy{constructor(e){this.queryList=e,this.matches=null}clone(){return new gy(this.queryList)}setDirty(){this.queryList.setDirty()}}class my{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new my(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==DP(e,t).matches&&this.queries[t].setDirty()}}class CP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class _y{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new _y(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class yy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new yy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,$5(t,s)),this.matchTNodeWithReadOption(e,t,Qd(t,e,s,!1,!1))}else r===fi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Qd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===xn||i===Er||i===fi&&4&t.type)this.addMatch(t.index,-2);else{const s=Qd(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function $5(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function G5(n,e,t,r){return-1===t?function H5(n,e){return 11&n.type?ea(n,e):4&n.type?Ph(n,e):null}(e,n):-2===t?function z5(n,e,t){return t===xn?ea(e,n):t===fi?Ph(e,n):t===Er?EP(e,n):void 0}(n,e,r):qu(n,n[1],t,e)}function wP(n,e,t,r){const i=e[19].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:G5(e,s[c],o[u+1],t.metadata.read))}i.matches=a}return i.matches}function vy(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=wP(n,e,i,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&vy(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];vy(f[1],f,c,r)}}}}}return r}function ya(n){const e=D(),t=Ee(),r=nA();Em(r+1);const i=DP(t,r);if(n.dirty&&function rj(n){return 4==(4&n[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?vy(t,e,r,[]):wP(t,e,i,r);n.reset(s,OH),n.notifyOnChanges()}return!0}return!1}function xh(n,e,t){const r=Ee();r.firstCreatePass&&(function TP(n,e,t){null===n.queries&&(n.queries=new _y),n.queries.track(new yy(e,t))}(r,new CP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function bP(n,e,t){const r=new fy(4==(4&t));hS(n,e,r,r.destroy),null===e[19]&&(e[19]=new my),e[19].queries.push(new gy(r))}(r,D(),e)}function va(){return function q5(n,e){return n[19].queries[e].queryList}(D(),nA())}function DP(n,e){return n.queries.getByIndex(e)}function Ey(n,e){return Ph(n,e)}function kh(...n){}const Oh=new B("Application Initializer");let Nh=(()=>{class n{constructor(t){this.appInits=t,this.resolve=kh,this.reject=kh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(hc(s))t.push(s);else if(J_(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(N(Oh,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Cc=new B("AppId",{providedIn:"root",factory:function zP(){return`${Dy()}${Dy()}${Dy()}`}});function Dy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qP=new B("Platform Initializer"),Fh=new B("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),WP=new B("appBootstrapListener");let fz=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Lr=new B("LocaleId",{providedIn:"root",factory:()=>Ke(Lr,Y.Optional|Y.SkipSelf)||function pz(){return typeof $localize<"u"&&$localize.locale||ma}()});class mz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Ay=(()=>{class n{compileModuleSync(t){return new ay(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=ci(Un(t).declarations).reduce((o,a)=>{const u=Me(a);return u&&o.push(new cc(u)),o},[]);return new mz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vz=(()=>Promise.resolve(0))();function Sy(n){typeof Zone>"u"?vz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Rt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xe(!1),this.onMicrotaskEmpty=new Xe(!1),this.onStable=new Xe(!1),this.onError=new Xe(!1),typeof Zone>"u")throw new k(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Iz(){let n=Le.requestAnimationFrame,e=Le.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function wz(n){const e=()=>{!function Cz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Le,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Py(n),n.isCheckStableRunning=!0,My(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Py(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return YP(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),JP(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return YP(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),JP(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Py(n),My(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rt.isInAngularZone())throw new k(909,!1)}static assertNotInAngularZone(){if(Rt.isInAngularZone())throw new k(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Ez,kh,kh);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Ez={};function My(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Py(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function YP(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function JP(n){n._nesting--,My(n)}class bz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xe,this.onMicrotaskEmpty=new Xe,this.onStable=new Xe,this.onError=new Xe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const ZP=new B(""),Vh=new B("");let ky,xy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ky||(function Tz(n){ky=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rt.assertNotInAngularZone(),Sy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)(N(Rt),N(Ry),N(Vh))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Ry=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ky?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Ji=null;const XP=new B("AllowMultipleToken"),Oy=new B("PlatformDestroyListeners");class ex{constructor(e,t){this.name=e,this.token=t}}function nx(n,e,t=[]){const r=`Platform: ${e}`,i=new B(r);return(s=[])=>{let o=Ny();if(!o||o.injector.get(XP,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function Sz(n){if(Ji&&!Ji.get(XP,!1))throw new k(400,!1);Ji=n;const e=n.get(ix);(function tx(n){const e=n.get(qP,null);e&&e.forEach(t=>t())})(n)}(function rx(n=[],e){return Rn.create({name:e,providers:[{provide:d_,useValue:"platform"},{provide:Oy,useValue:new Set([()=>Ji=null])},...n]})}(a,r))}return function Pz(n){const e=Ny();if(!e)throw new k(401,!1);return e}()}}function Ny(){return Ji?.get(ix)??null}let ix=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function ox(n,e){let t;return t="noop"===n?new bz:("zone.js"===n?void 0:n)||new Rt(e),t}(r?.ngZone,function sx(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Rt,useValue:i}];return i.run(()=>{const o=Rn.create({providers:s,parent:this.injector,name:t.moduleType.name}),a=t.create(o),u=a.injector.get(Ki,null);if(!u)throw new k(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Uh(this._modules,a),c.unsubscribe()})}),function ax(n,e,t){try{const r=t();return hc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Nh);return c.runInitializers(),c.donePromise.then(()=>(function RM(n){Ln(n,"Expected localeId to be defined"),"string"==typeof n&&(xM=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Lr,ma)||ma),this._moduleDoBootstrap(a),a))})})}bootstrapModule(t,r=[]){const i=ux({},r);return function Dz(n,e,t){const r=new ay(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(Lh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new k(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new k(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Oy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(N(Rn))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function ux(n,e){return Array.isArray(e)?e.reduce(ux,n):{...n,...e}}let Lh=(()=>{class n{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ct(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ct(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Rt.assertNotInAngularZone(),Sy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Rt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function AB(...n){const e=Fu(n),t=function IB(n,e){return"number"==typeof Xg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?hr(r[0]):Ro(t)(_t(r,e)):ni}(s,o.pipe(function ND(n={}){const{connector:e=(()=>new Zn),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return Vt((g,m)=>{c++,!d&&!l&&h();const v=u=u??e();m.add(()=>{c--,0===c&&!d&&!l&&(a=em(p,i))}),v.subscribe(m),!o&&c>0&&(o=new Nu({next:C=>v.next(C),error:C=>{d=!0,h(),a=em(f,t,C),v.error(C)},complete:()=>{l=!0,h(),a=em(f,r),v.complete()}}),hr(g).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof x0;if(!this._injector.get(Nh).done)throw!i&&function Oo(n){const e=Me(n)||yn(n)||vn(n);return null!==e&&e.standalone}(t),new k(405,false);let o;o=i?t:this._injector.get(ac).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Az(n){return n.isBoundToModule}(o)?void 0:this._injector.get(zs),c=o.create(Rn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(ZP,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Uh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new k(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Uh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(WP,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Uh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new k(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(N(Rt),N(qi),N(Ki))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lx=!0,dx=!1,Bh=(()=>{class n{}return n.__NG_ELEMENT_ID__=Oz,n})();function Oz(n){return function Nz(n,e,t){if(Vd(n)&&!t){const r=$n(n.index,e);return new uc(r,r)}return 47&n.type?new uc(e[16],e):null}(St(),D(),16==(16&n))}class gx{constructor(){}supports(e){return lc(e)}create(e){return new jz(e)}}const Bz=(n,e)=>e;class jz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Bz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<_x(r,i,s)?t:r,a=_x(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!lc(e))throw new k(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function v4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[js()]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new $z(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new mx),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mx),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class $z{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class mx{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Hz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _x(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class yx{constructor(){}supports(e){return e instanceof Map||q_(e)}create(){return new Gz}}class Gz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||q_(e)))throw new k(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new zz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class zz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vx(){return new Hh([new gx])}let Hh=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||vx()),deps:[[n,new Qo,new zi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new k(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:vx}),n})();function Ix(){return new wc([new yx])}let wc=(()=>{class n{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Ix()),deps:[[n,new Qo,new zi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new k(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:Ix}),n})();const Kz=nx(null,"core",[]);let Qz=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(N(Lh))},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({}),n})(),Gh=null;function Ur(){return Gh}const et=new B("DocumentToken");let By=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return function Xz(){return N(Ex)}()},providedIn:"platform"}),n})();const e6=new B("Location Initialized");let Ex=(()=>{class n extends By{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(t){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Cx()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Cx()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=q({token:n,factory:function(){return function t6(){return new Ex(N(et))}()},providedIn:"platform"}),n})();function Cx(){return!!window.history.pushState}function jy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function wx(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function mi(n){return n&&"?"!==n[0]?"?"+n:n}let Ws=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return Ke(Tx)},providedIn:"root"}),n})();const bx=new B("appBaseHref");let Tx=(()=>{class n extends Ws{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ke(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(By),N(bx,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n6=(()=>{class n extends Ws{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(N(By),N(bx,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),$y=(()=>{class n{constructor(t){this._subject=new Xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=wx(Dx(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+mi(r))}normalize(t){return n.stripTrailingSlash(function i6(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Dx(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=mi,n.joinWithSlash=jy,n.stripTrailingSlash=wx,n.\u0275fac=function(t){return new(t||n)(N(Ws))},n.\u0275prov=q({token:n,factory:function(){return function r6(){return new $y(N(Ws))}()},providedIn:"root"}),n})();function Dx(n){return n.replace(/\/index.html$/,"")}var lt=(()=>((lt=lt||{})[lt.Format=0]="Format",lt[lt.Standalone=1]="Standalone",lt))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),tt=(()=>((tt=tt||{})[tt.Short=0]="Short",tt[tt.Medium=1]="Medium",tt[tt.Long=2]="Long",tt[tt.Full=3]="Full",tt))(),Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Group=1]="Group",Q[Q.List=2]="List",Q[Q.PercentSign=3]="PercentSign",Q[Q.PlusSign=4]="PlusSign",Q[Q.MinusSign=5]="MinusSign",Q[Q.Exponential=6]="Exponential",Q[Q.SuperscriptingExponent=7]="SuperscriptingExponent",Q[Q.PerMille=8]="PerMille",Q[Q.Infinity=9]="Infinity",Q[Q.NaN=10]="NaN",Q[Q.TimeSeparator=11]="TimeSeparator",Q[Q.CurrencyDecimal=12]="CurrencyDecimal",Q[Q.CurrencyGroup=13]="CurrencyGroup",Q))();function zh(n,e){return sr(wn(n)[U.DateFormat],e)}function qh(n,e){return sr(wn(n)[U.TimeFormat],e)}function Wh(n,e){return sr(wn(n)[U.DateTimeFormat],e)}function ir(n,e){const t=wn(n),r=t[U.NumberSymbols][e];if(typeof r>"u"){if(e===Q.CurrencyDecimal)return t[U.NumberSymbols][Q.Decimal];if(e===Q.CurrencyGroup)return t[U.NumberSymbols][Q.Group]}return r}function Sx(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sr(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Gy(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const _6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bc={},y6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.ShortGMT=1]="ShortGMT",kt[kt.Long=2]="Long",kt[kt.Extended=3]="Extended",kt))(),ee=(()=>((ee=ee||{})[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee))(),he=(()=>((he=he||{})[he.DayPeriods=0]="DayPeriods",he[he.Days=1]="Days",he[he.Months=2]="Months",he[he.Eras=3]="Eras",he))();function v6(n,e,t,r){let i=function S6(n){if(xx(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,s=1,o=1]=n.split("-").map(a=>+a);return Kh(i,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(_6))return function M6(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,u,c),e}(r)}const e=new Date(n);if(!xx(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=_i(t,e)||e;let a,o=[];for(;e;){if(a=y6.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const l=o.pop();if(!l)break;e=l}}let u=i.getTimezoneOffset();r&&(u=Px(r,u),i=function A6(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function D6(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Px(e,i)-i))}(i,r,!0));let c="";return o.forEach(l=>{const d=function T6(n){if(qy[n])return qy[n];let e;switch(n){case"G":case"GG":case"GGG":e=Be(he.Eras,ge.Abbreviated);break;case"GGGG":e=Be(he.Eras,ge.Wide);break;case"GGGGG":e=Be(he.Eras,ge.Narrow);break;case"y":e=It(ee.FullYear,1,0,!1,!0);break;case"yy":e=It(ee.FullYear,2,0,!0,!0);break;case"yyy":e=It(ee.FullYear,3,0,!1,!0);break;case"yyyy":e=It(ee.FullYear,4,0,!1,!0);break;case"Y":e=Zh(1);break;case"YY":e=Zh(2,!0);break;case"YYY":e=Zh(3);break;case"YYYY":e=Zh(4);break;case"M":case"L":e=It(ee.Month,1,1);break;case"MM":case"LL":e=It(ee.Month,2,1);break;case"MMM":e=Be(he.Months,ge.Abbreviated);break;case"MMMM":e=Be(he.Months,ge.Wide);break;case"MMMMM":e=Be(he.Months,ge.Narrow);break;case"LLL":e=Be(he.Months,ge.Abbreviated,lt.Standalone);break;case"LLLL":e=Be(he.Months,ge.Wide,lt.Standalone);break;case"LLLLL":e=Be(he.Months,ge.Narrow,lt.Standalone);break;case"w":e=zy(1);break;case"ww":e=zy(2);break;case"W":e=zy(1,!0);break;case"d":e=It(ee.Date,1);break;case"dd":e=It(ee.Date,2);break;case"c":case"cc":e=It(ee.Day,1);break;case"ccc":e=Be(he.Days,ge.Abbreviated,lt.Standalone);break;case"cccc":e=Be(he.Days,ge.Wide,lt.Standalone);break;case"ccccc":e=Be(he.Days,ge.Narrow,lt.Standalone);break;case"cccccc":e=Be(he.Days,ge.Short,lt.Standalone);break;case"E":case"EE":case"EEE":e=Be(he.Days,ge.Abbreviated);break;case"EEEE":e=Be(he.Days,ge.Wide);break;case"EEEEE":e=Be(he.Days,ge.Narrow);break;case"EEEEEE":e=Be(he.Days,ge.Short);break;case"a":case"aa":case"aaa":e=Be(he.DayPeriods,ge.Abbreviated);break;case"aaaa":e=Be(he.DayPeriods,ge.Wide);break;case"aaaaa":e=Be(he.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":e=Be(he.DayPeriods,ge.Abbreviated,lt.Standalone,!0);break;case"bbbb":e=Be(he.DayPeriods,ge.Wide,lt.Standalone,!0);break;case"bbbbb":e=Be(he.DayPeriods,ge.Narrow,lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Be(he.DayPeriods,ge.Abbreviated,lt.Format,!0);break;case"BBBB":e=Be(he.DayPeriods,ge.Wide,lt.Format,!0);break;case"BBBBB":e=Be(he.DayPeriods,ge.Narrow,lt.Format,!0);break;case"h":e=It(ee.Hours,1,-12);break;case"hh":e=It(ee.Hours,2,-12);break;case"H":e=It(ee.Hours,1);break;case"HH":e=It(ee.Hours,2);break;case"m":e=It(ee.Minutes,1);break;case"mm":e=It(ee.Minutes,2);break;case"s":e=It(ee.Seconds,1);break;case"ss":e=It(ee.Seconds,2);break;case"S":e=It(ee.FractionalSeconds,1);break;case"SS":e=It(ee.FractionalSeconds,2);break;case"SSS":e=It(ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Yh(kt.Short);break;case"ZZZZZ":e=Yh(kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Yh(kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Yh(kt.Long);break;default:return null}return qy[n]=e,e}(l);c+=d?d(i,t,u):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Kh(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function _i(n,e){const t=function s6(n){return wn(n)[U.LocaleId]}(n);if(bc[t]=bc[t]||{},bc[t][e])return bc[t][e];let r="";switch(e){case"shortDate":r=zh(n,tt.Short);break;case"mediumDate":r=zh(n,tt.Medium);break;case"longDate":r=zh(n,tt.Long);break;case"fullDate":r=zh(n,tt.Full);break;case"shortTime":r=qh(n,tt.Short);break;case"mediumTime":r=qh(n,tt.Medium);break;case"longTime":r=qh(n,tt.Long);break;case"fullTime":r=qh(n,tt.Full);break;case"short":const i=_i(n,"shortTime"),s=_i(n,"shortDate");r=Qh(Wh(n,tt.Short),[i,s]);break;case"medium":const o=_i(n,"mediumTime"),a=_i(n,"mediumDate");r=Qh(Wh(n,tt.Medium),[o,a]);break;case"long":const u=_i(n,"longTime"),c=_i(n,"longDate");r=Qh(Wh(n,tt.Long),[u,c]);break;case"full":const l=_i(n,"fullTime"),d=_i(n,"fullDate");r=Qh(Wh(n,tt.Full),[l,d])}return r&&(bc[t][e]=r),r}function Qh(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function wr(n,e,t="-",r,i){let s="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return r&&(o=o.slice(o.length-e)),s+o}function It(n,e,t=0,r=!1,i=!1){return function(s,o){let a=function E6(n,e){switch(n){case ee.FullYear:return e.getFullYear();case ee.Month:return e.getMonth();case ee.Date:return e.getDate();case ee.Hours:return e.getHours();case ee.Minutes:return e.getMinutes();case ee.Seconds:return e.getSeconds();case ee.FractionalSeconds:return e.getMilliseconds();case ee.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===ee.Hours)0===a&&-12===t&&(a=12);else if(n===ee.FractionalSeconds)return function I6(n,e){return wr(n,3).substring(0,e)}(a,e);const u=ir(o,Q.MinusSign);return wr(a,e,u,r,i)}}function Be(n,e,t=lt.Format,r=!1){return function(i,s){return function C6(n,e,t,r,i,s){switch(t){case he.Months:return function u6(n,e,t){const r=wn(n),s=sr([r[U.MonthsFormat],r[U.MonthsStandalone]],e);return sr(s,t)}(e,i,r)[n.getMonth()];case he.Days:return function a6(n,e,t){const r=wn(n),s=sr([r[U.DaysFormat],r[U.DaysStandalone]],e);return sr(s,t)}(e,i,r)[n.getDay()];case he.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function h6(n){const e=wn(n);return Sx(e),(e[U.ExtraData][2]||[]).map(r=>"string"==typeof r?Gy(r):[Gy(r[0]),Gy(r[1])])}(e),l=function f6(n,e,t){const r=wn(n);Sx(r);const s=sr([r[U.ExtraData][0],r[U.ExtraData][1]],e)||[];return sr(s,t)||[]}(e,i,r),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function o6(n,e,t){const r=wn(n),s=sr([r[U.DayPeriodsFormat],r[U.DayPeriodsStandalone]],e);return sr(s,t)}(e,i,r)[o<12?0:1];case he.Eras:return function c6(n,e){return sr(wn(n)[U.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,s,n,e,t,r)}}function Yh(n){return function(e,t,r){const i=-1*r,s=ir(t,Q.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case kt.Short:return(i>=0?"+":"")+wr(o,2,s)+wr(Math.abs(i%60),2,s);case kt.ShortGMT:return"GMT"+(i>=0?"+":"")+wr(o,1,s);case kt.Long:return"GMT"+(i>=0?"+":"")+wr(o,2,s)+":"+wr(Math.abs(i%60),2,s);case kt.Extended:return 0===r?"Z":(i>=0?"+":"")+wr(o,2,s)+":"+wr(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Mx(n){return Kh(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function zy(n,e=!1){return function(t,r){let i;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();i=1+Math.floor((o+s)/7)}else{const s=Mx(t),o=function b6(n){const e=Kh(n,0,1).getDay();return Kh(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();i=1+Math.round(a/6048e5)}return wr(i,n,ir(r,Q.MinusSign))}}function Zh(n,e=!1){return function(t,r){return wr(Mx(t).getFullYear(),n,ir(r,Q.MinusSign),e)}}const qy={};function Px(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function xx(n){return n instanceof Date&&!isNaN(n.valueOf())}function Nx(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}let Ks=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(lc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ne(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(w(Hh),w(wc),w(xn),w(kr))},n.\u0275dir=J({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class $6{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dc=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $6(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),Lx(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Lx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(Er),w(fi),w(Hh))},n.\u0275dir=J({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Lx(n,e){n.context.$implicit=e.item}let Ca=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new G6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ux("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ux("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(w(Er),w(fi))},n.\u0275dir=J({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class G6{constructor(){this.$implicit=null,this.ngIf=null}}function Ux(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ne(e)}'.`)}function br(n,e){return new k(2100,!1)}let jx=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw br();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=rn({name:"uppercase",type:n,pure:!0,standalone:!0}),n})();const iq=new B("DATE_PIPE_DEFAULT_TIMEZONE");let $x=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",i,s){if(null==t||""===t||t!=t)return null;try{return v6(t,r,s||this.locale,i??this.defaultTimezone??void 0)}catch(o){throw br()}}}return n.\u0275fac=function(t){return new(t||n)(w(Lr,16),w(iq,24))},n.\u0275pipe=rn({name:"date",type:n,pure:!0,standalone:!0}),n})(),gq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({}),n})();const Gx="browser";let Iq=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>new Eq(N(et),window)}),n})();class Eq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Cq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=zx(this.window.history)||zx(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function zx(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qx{}class iv extends class Qq extends class Zz{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Jz(n){Gh||(Gh=n)}(new iv)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Yq(){return Sc=Sc||document.querySelector("base"),Sc?Sc.getAttribute("href"):null}();return null==t?null:function Jq(n){nf=nf||document.createElement("a"),nf.setAttribute("href",n);const e=nf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Sc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nx(document.cookie,e)}}let nf,Sc=null;const Jx=new B("TRANSITION_ID"),Xq=[{provide:Oh,useFactory:function Zq(n,e,t){return()=>{t.get(Nh).donePromise.then(()=>{const r=Ur(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[Jx,et,Rn],multi:!0}];let t9=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const rf=new B("EventManagerPlugins");let sf=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(N(rf),N(Rt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class Zx{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=Ur().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Xx=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Mc=(()=>{class n extends Xx{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(eR),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(eR))}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function eR(n){Ur().remove(n)}const sv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ov=/%COMP%/g;function af(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?af(n,i,t):(i=i.replace(ov,n),t.push(i))}return t}function rR(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let av=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new uv(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Mr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new a9(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Mr.ShadowDom:return new u9(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=af(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(N(sf),N(Mc),N(Cc))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class uv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(sv[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(sR(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(sR(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=sv[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=sv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Pn.DashCase|Pn.Important)?e.style.setProperty(t,r,i&Pn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Pn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,rR(r)):this.eventManager.addEventListener(e,t,rR(r))}}function sR(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class a9 extends uv{constructor(e,t,r,i){super(e),this.component=r;const s=af(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function i9(n){return"_ngcontent-%COMP%".replace(ov,n)}(i+"-"+r.id),this.hostAttr=function s9(n){return"_nghost-%COMP%".replace(ov,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class u9 extends uv{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=af(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let c9=(()=>{class n extends Zx{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const oR=["alt","control","meta","shift"],l9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},d9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let h9=(()=>{class n extends Zx{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),oR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=l9[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),oR.forEach(o=>{o!==i&&(0,d9[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const uR=[{provide:Fh,useValue:Gx},{provide:qP,useValue:function f9(){iv.makeCurrent()},multi:!0},{provide:et,useFactory:function g9(){return function q$(n){r_=n}(document),document},deps:[]}],m9=nx(Kz,"browser",uR),cR=new B(""),lR=[{provide:Vh,useClass:class e9{addToWindow(e){Le.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Le.getAllAngularTestabilities=()=>e.getAllTestabilities(),Le.getAllAngularRootElements=()=>e.getAllRootElements(),Le.frameworkStabilizers||(Le.frameworkStabilizers=[]),Le.frameworkStabilizers.push(r=>{const i=Le.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ur().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:ZP,useClass:xy,deps:[Rt,Ry,Vh]},{provide:xy,useClass:xy,deps:[Rt,Ry,Vh]}],dR=[{provide:d_,useValue:"root"},{provide:Ki,useFactory:function p9(){return new Ki},deps:[]},{provide:rf,useClass:c9,multi:!0,deps:[et,Rt,Fh]},{provide:rf,useClass:h9,multi:!0,deps:[et]},{provide:av,useClass:av,deps:[sf,Mc,Cc]},{provide:k0,useExisting:av},{provide:Xx,useExisting:Mc},{provide:Mc,useClass:Mc,deps:[et]},{provide:sf,useClass:sf,deps:[rf,Rt]},{provide:qx,useClass:t9,deps:[]},[]];let _9=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Cc,useValue:t.appId},{provide:Jx,useExisting:Cc},Xq]}}}return n.\u0275fac=function(t){return new(t||n)(N(cR,12))},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({providers:[...dR,...lR],imports:[gq,Qz]}),n})(),hR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(N(et))},n.\u0275prov=q({token:n,factory:function(t){let r=null;return r=t?new t:function v9(){return new hR(N(et))}(),r},providedIn:"root"}),n})();function W(...n){return _t(n,Fu(n))}typeof window<"u"&&window;class st extends Zn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const uf=ku(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:A9}=Array,{getPrototypeOf:S9,prototype:M9,keys:P9}=Object;function mR(n){if(1===n.length){const e=n[0];if(A9(e))return{args:e,keys:null};if(function x9(n){return n&&"object"==typeof n&&S9(n)===M9}(e)){const t=P9(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:R9}=Array;function _R(n){return ue(e=>function k9(n,e){return R9(e)?n(...e):n(e)}(n,e))}function yR(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function vR(...n){const e=Fu(n),t=xD(n),{args:r,keys:i}=mR(n);if(0===r.length)return _t([],e);const s=new ct(function O9(n,e,t=xs){return r=>{IR(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)IR(e,()=>{const c=_t(n[u],e);let l=!1;c.subscribe(Tt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>yR(i,o):xs));return t?s.pipe(_R(t)):s}function IR(n,e,t){n?ti(t,n,e):e()}function hv(...n){return function N9(){return Ro(1)}()(_t(n,Fu(n)))}function ER(n){return new ct(e=>{hr(n()).subscribe(e)})}function wa(n,e){const t=Fe(n)?n:()=>n,r=i=>i.error(t());return new ct(e?i=>e.schedule(r,0,i):r)}function fv(){return Vt((n,e)=>{let t=null;n._refCount++;const r=Tt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class CR extends ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new tn;const t=this.getSubject();e.add(this.source.subscribe(Tt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=tn.EMPTY)}return e}refCount(){return fv()(this)}}function Br(n,e){return Vt((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(Tt(r,u=>{i?.unsubscribe();let c=0;const l=s++;hr(n(u,l)).subscribe(i=Tt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Pc(n){return n<=0?()=>ni:Vt((e,t)=>{let r=0;e.subscribe(Tt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jr(n,e){return Vt((t,r)=>{let i=0;t.subscribe(Tt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function cf(n){return Vt((e,t)=>{let r=!1;e.subscribe(Tt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function wR(n=V9){return Vt((e,t)=>{let r=!1;e.subscribe(Tt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function V9(){return new uf}function Xi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jr((i,s)=>n(i,s,r)):xs,Pc(1),t?cf(e):wR(()=>new uf))}function es(n,e){return Fe(e)?qt(n,e,1):qt(n,1)}function Et(n,e,t){const r=Fe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Vt((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(Tt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):xs}function yi(n){return Vt((e,t)=>{let s,r=null,i=!1;r=e.subscribe(Tt(t,void 0,void 0,o=>{s=hr(n(o,yi(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function L9(n,e,t,r,i){return(s,o)=>{let a=t,u=e,c=0;s.subscribe(Tt(o,l=>{const d=c++;u=a?n(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function bR(n,e){return Vt(L9(n,e,arguments.length>=2,!0))}function pv(n){return n<=0?()=>ni:Vt((e,t)=>{let r=[];e.subscribe(Tt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function TR(n,e){const t=arguments.length>=2;return r=>r.pipe(n?jr((i,s)=>n(i,s,r)):xs,pv(1),t?cf(e):wR(()=>new uf))}function lf(n){return Vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const fe="primary",xc=Symbol("RouteTitle");class j9{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ba(n){return new j9(n)}function $9(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $r(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!DR(n[i],e[i]))return!1;return!0}function DR(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function AR(n){return Array.prototype.concat.apply([],n)}function SR(n){return n.length>0?n[n.length-1]:null}function Qt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ts(n){return J_(n)?n:hc(n)?_t(Promise.resolve(n)):W(n)}const z9={exact:function xR(n,e,t){if(!Ys(n.segments,e.segments)||!df(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!xR(n.children[r],e.children[r],t))return!1;return!0},subset:RR},MR={exact:function q9(n,e){return $r(n,e)},subset:function W9(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DR(n[t],e[t]))},ignored:()=>!0};function PR(n,e,t){return z9[t.paths](n.root,e.root,t.matrixParams)&&MR[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function RR(n,e,t){return kR(n,e,e.segments,t)}function kR(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ys(i,t)||e.hasChildren()||!df(i,t,r))}if(n.segments.length===t.length){if(!Ys(n.segments,t)||!df(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!RR(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ys(n.segments,i)&&df(n.segments,i,r)&&n.children[fe])&&kR(n.children[fe],e,s,r)}}function df(n,e,t){return e.every((r,i)=>MR[t](n[i].parameters,r.parameters))}class Qs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ba(this.queryParams)),this._queryParamMap}toString(){return Y9.serialize(this)}}class pe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Qt(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hf(this)}}class Rc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ba(this.parameters)),this._parameterMap}toString(){return VR(this)}}function Ys(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let OR=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return new mv},providedIn:"root"}),n})();class mv{parse(e){const t=new s8(e);return new Qs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kc(e.root,!0)}`,r=function X9(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${ff(t)}=${ff(i)}`).join("&"):`${ff(t)}=${ff(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function J9(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Y9=new mv;function hf(n){return n.segments.map(e=>VR(e)).join("/")}function kc(n,e){if(!n.hasChildren())return hf(n);if(e){const t=n.children[fe]?kc(n.children[fe],!1):"",r=[];return Qt(n.children,(i,s)=>{s!==fe&&r.push(`${s}:${kc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Q9(n,e){let t=[];return Qt(n.children,(r,i)=>{i===fe&&(t=t.concat(e(r,i)))}),Qt(n.children,(r,i)=>{i!==fe&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===fe?[kc(n.children[fe],!1)]:[`${i}:${kc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fe]?`${hf(n)}/${t[0]}`:`${hf(n)}/(${t.join("//")})`}}function NR(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ff(n){return NR(n).replace(/%3B/gi,";")}function _v(n){return NR(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pf(n){return decodeURIComponent(n)}function FR(n){return pf(n.replace(/\+/g,"%20"))}function VR(n){return`${_v(n.path)}${function Z9(n){return Object.keys(n).map(e=>`;${_v(e)}=${_v(n[e])}`).join("")}(n.parameters)}`}const e8=/^[^\/()?;=#]+/;function gf(n){const e=n.match(e8);return e?e[0]:""}const t8=/^[^=?&#]+/,r8=/^[^&#]+/;class s8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[fe]=new pe(e,t)),r}parseSegment(){const e=gf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Rc(pf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=gf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=gf(this.remaining);i&&(r=i,this.capture(r))}e[pf(t)]=pf(r)}parseQueryParam(e){const t=function n8(n){const e=n.match(t8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function i8(n){const e=n.match(r8);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=FR(t),s=FR(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=gf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=fe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[fe]:new pe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}}function yv(n){return n.segments.length>0?new pe([],{[fe]:n}):n}function mf(n){const e={};for(const r of Object.keys(n.children)){const s=mf(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function o8(n){if(1===n.numberOfChildren&&n.children[fe]){const e=n.children[fe];return new pe(n.segments.concat(e.segments),e.children)}return n}(new pe(n.segments,e))}function Js(n){return n instanceof Qs}function c8(n,e,t,r,i){if(0===t.length)return Ta(e.root,e.root,e.root,r,i);const s=function BR(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new UR(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Qt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new UR(t,e,r)}(t);return s.toRoot()?Ta(e.root,e.root,new pe([],{}),r,i):function o(u){const c=function d8(n,e,t,r){if(n.isAbsolute)return new Da(e.root,!0,0);if(-1===r)return new Da(t,t===e.root,0);return function jR(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Da(r,!1,i-s)}(t,r+(Oc(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),l=c.processChildren?Fc(c.segmentGroup,c.index,s.commands):Iv(c.segmentGroup,c.index,s.commands);return Ta(e.root,c.segmentGroup,l,r,i)}(n.snapshot?._lastPathIndex)}function Oc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nc(n){return"object"==typeof n&&null!=n&&n.outlets}function Ta(n,e,t,r,i){let o,s={};r&&Qt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=n===e?t:LR(n,e,t);const a=yv(mf(o));return new Qs(a,s,i)}function LR(n,e,t){const r={};return Qt(n.children,(i,s)=>{r[s]=i===e?t:LR(i,e,t)}),new pe(n.segments,r)}class UR{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Oc(r[0]))throw new k(4003,!1);const i=r.find(Nc);if(i&&i!==SR(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Da{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Iv(n,e,t){if(n||(n=new pe([],{})),0===n.segments.length&&n.hasChildren())return Fc(n,e,t);const r=function f8(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(Nc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!HR(u,c,o))return s;r+=2}else{if(!HR(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new pe(n.segments.slice(0,r.pathIndex),{});return s.children[fe]=new pe(n.segments.slice(r.pathIndex),n.children),Fc(s,0,i)}return r.match&&0===i.length?new pe(n.segments,{}):r.match&&!n.hasChildren()?Ev(n,e,t):r.match?Fc(n,0,i):Ev(n,e,t)}function Fc(n,e,t){if(0===t.length)return new pe(n.segments,{});{const r=function h8(n){return Nc(n[0])?n[0].outlets:{[fe]:n}}(t),i={};return Qt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Iv(n.children[o],e,s))}),Qt(n.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new pe(n.segments,i)}}function Ev(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(Nc(s)){const u=p8(s.outlets);return new pe(r,u)}if(0===i&&Oc(t[0])){r.push(new Rc(n.segments[e].path,$R(t[0]))),i++;continue}const o=Nc(s)?s.outlets[fe]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Oc(a)?(r.push(new Rc(o,$R(a))),i+=2):(r.push(new Rc(o,{})),i++)}return new pe(r,{})}function p8(n){const e={};return Qt(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ev(new pe([],{}),0,t))}),e}function $R(n){const e={};return Qt(n,(t,r)=>e[r]=`${t}`),e}function HR(n,e,t){return n==t.path&&$r(e,t.parameters)}class vi{constructor(e,t){this.id=e,this.url=t}}class Cv extends vi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ns extends vi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _f extends vi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class GR extends vi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class g8 extends vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class m8 extends vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _8 extends vi{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class y8 extends vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v8 extends vi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class E8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zR{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=wv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=wv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bv(e,this._root).map(t=>t.value)}}function wv(n,e){if(n===e.value)return e;for(const t of e.children){const r=wv(n,t);if(r)return r}return null}function bv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bv(n,t);if(r.length)return r.unshift(e),r}return[]}class Ii{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Aa(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class WR extends qR{constructor(e,t){super(e),this.snapshot=t,Tv(this,e)}toString(){return this.snapshot.toString()}}function KR(n,e){const t=function A8(n,e){const o=new yf([],{},{},"",{},fe,e,null,n.root,-1,{});return new YR("",new Ii(o,[]))}(n,e),r=new st([new Rc("",{})]),i=new st({}),s=new st({}),o=new st({}),a=new st(""),u=new Zs(r,i,o,a,s,fe,e,t.root);return u.snapshot=t.root,new WR(new Ii(u,[]),t)}class Zs{constructor(e,t,r,i,s,o,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(ue(c=>c[xc]))??W(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ue(e=>ba(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ue(e=>ba(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function S8(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class yf{constructor(e,t,r,i,s,o,a,u,c,l,d,h){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.[xc],this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._correctedLastPathIndex=h??l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ba(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ba(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class YR extends qR{constructor(e,t){super(t),this.url=e,Tv(this,t)}toString(){return JR(this._root)}}function Tv(n,e){e.value._routerState=n,e.children.forEach(t=>Tv(n,t))}function JR(n){const e=n.children.length>0?` { ${n.children.map(JR).join(", ")} } `:"";return`${n.value}${e}`}function Dv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$r(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$r(e.params,t.params)||n.params.next(t.params),function H9(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$r(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$r(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Av(n,e){const t=$r(n.params,e.params)&&function K9(n,e){return Ys(n,e)&&n.every((t,r)=>$r(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Av(n.parent,e.parent))}function Vc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function P8(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Vc(n,r,i);return Vc(n,r)})}(n,e,t);return new Ii(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Vc(n,a)),o}}const r=function x8(n){return new Zs(new st(n.url),new st(n.params),new st(n.queryParams),new st(n.fragment),new st(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>Vc(n,s));return new Ii(r,i)}}const Sv="ngNavigationCancelingError";function ZR(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Js(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=XR(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function XR(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Sv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ek(n){return tk(n)&&Js(n.url)}function tk(n){return n&&n[Sv]}class R8{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Lc,this.attachRef=null}}let Lc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new R8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const vf=!1;let Mv=(()=>{class n{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Xe,this.deactivateEvents=new Xe,this.attachEvents=new Xe,this.detachEvents=new Xe,this.name=i||fe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,vf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,vf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,vf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new k(4013,vf);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new k8(t,a,i.injector);if(r&&function O8(n){return!!n.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(w(Lc),w(Er),function Wu(n){return function xj(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(cA(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(St(),n)}("name"),w(Bh),w(qi))},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class k8{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zs?this.route:e===Lc?this.childContexts:this.parent.get(e,t)}}let Pv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["ng-component"]],standalone:!0,features:[sP],decls:1,vars:0,template:function(t,r){1&t&&Pt(0,"router-outlet")},dependencies:[Mv],encapsulation:2}),n})();function nk(n,e){return n.providers&&!n._injector&&(n._injector=Mh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Rv(n){const e=n.children&&n.children.map(Rv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==fe&&(t.component=Pv),t}function or(n){return n.outlet||fe}function rk(n,e){const t=n.filter(r=>or(r)===e);return t.push(...n.filter(r=>or(r)!==e)),t}function Uc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class U8{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Dv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Aa(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Qt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Aa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Aa(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Aa(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new T8(s.value.snapshot))}),e.children.length&&this.forwardEvent(new w8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(Dv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Uc(i.snapshot),u=a?.get(ac)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class ik{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class If{constructor(e,t){this.component=e,this.route=t}}function B8(n,e,t){const r=n._root;return Bc(r,e?e._root:null,t,[r.value])}function Sa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function OB(n){return null!==xd(n)}(n)?e.get(n):n:r}function Bc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Aa(e);return n.children.forEach(o=>{(function $8(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function H8(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ys(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(n.url,e.url)||!$r(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Av(n,e)||!$r(n.queryParams,e.queryParams);default:return!Av(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ik(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Bc(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new If(a.outlet.component,o))}else o&&jc(e,a,i),i.canActivateChecks.push(new ik(r)),Bc(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Qt(s,(o,a)=>jc(o,t.getContext(a),i)),i}function jc(n,e,t){const r=Aa(n),i=n.value;Qt(r,(s,o)=>{jc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new If(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $c(n){return"function"==typeof n}function kv(n){return n instanceof uf||"EmptyError"===n?.name}const Ef=Symbol("INITIAL_VALUE");function Ma(){return Br(n=>vR(n.map(e=>e.pipe(Pc(1),function F9(...n){const e=Fu(n);return Vt((t,r)=>{(e?hv(n,t,e):hv(n,t)).subscribe(r)})}(Ef)))).pipe(ue(e=>{for(const t of e)if(!0!==t){if(t===Ef)return Ef;if(!1===t||t instanceof Qs)return t}return!0}),jr(e=>e!==Ef),Pc(1)))}function sk(n){return function $U(...n){return fD(n)}(Et(e=>{if(Js(e))throw ZR(0,e)}),ue(e=>!0===e))}const Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ok(n,e,t,r,i){const s=Nv(n,e,t);return s.matched?function oW(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?W(i.map(o=>{const a=Sa(o,n);return ts(function Q8(n){return n&&$c(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ma(),sk()):W(!0)}(r=nk(e,r),e,t).pipe(ue(o=>!0===o?s:{...Ov})):W(s)}function Nv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ov}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||$9)(t,n,e);if(!i)return{...Ov};const s={};Qt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Cf(n,e,t,r,i="corrected"){if(t.length>0&&function cW(n,e,t){return t.some(r=>wf(n,e,r)&&or(r)!==fe)}(n,t,r)){const o=new pe(e,function uW(n,e,t,r){const i={};i[fe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&or(s)!==fe){const o=new pe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,i[or(s)]=o}return i}(n,e,r,new pe(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function lW(n,e,t){return t.some(r=>wf(n,e,r))}(n,t,r)){const o=new pe(n.segments,function aW(n,e,t,r,i,s){const o={};for(const a of r)if(wf(n,t,a)&&!i[or(a)]){const u=new pe([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[or(a)]=u}return{...i,...o}}(n,e,t,r,n.children,i));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new pe(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function wf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function ak(n,e,t,r){return!!(or(n)===r||r!==fe&&wf(e,t,n))&&("**"===n.path||Nv(e,n,t).matched)}function uk(n,e,t){return 0===e.length&&!n.children[t]}const bf=!1;class Tf{constructor(e){this.segmentGroup=e||null}}class ck{constructor(e){this.urlTree=e}}function Hc(n){return wa(new Tf(n))}function lk(n){return wa(new ck(n))}class pW{constructor(e,t,r,i,s){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Cf(this.urlTree.root,[],[],this.config).segmentGroup,t=new pe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,fe).pipe(ue(s=>this.createUrlTree(mf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yi(s=>{if(s instanceof ck)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Tf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,fe).pipe(ue(i=>this.createUrlTree(mf(i),e.queryParams,e.fragment))).pipe(yi(i=>{throw i instanceof Tf?this.noMatchError(i):i}))}noMatchError(e){return new k(4002,bf)}createUrlTree(e,t,r){const i=yv(e);return new Qs(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe(ue(s=>new pe([],s))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return _t(i).pipe(es(s=>{const o=r.children[s],a=rk(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(ue(u=>({segment:u,outlet:s})))}),bR((s,o)=>(s[o.outlet]=o.segment,s),{}),TR())}expandSegment(e,t,r,i,s,o){return _t(r).pipe(es(a=>this.expandSegmentAgainstRoute(e,t,r,a,i,s,o).pipe(yi(c=>{if(c instanceof Tf)return W(null);throw c}))),Xi(a=>!!a),yi((a,u)=>{if(kv(a))return uk(t,i,s)?W(new pe([],{})):Hc(t);throw a}))}expandSegmentAgainstRoute(e,t,r,i,s,o,a){return ak(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o):Hc(t):Hc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lk(s):this.lineralizeSegments(r,s).pipe(qt(o=>{const a=new pe(o,{});return this.expandSegment(e,a,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Nv(t,i,s);if(!a)return Hc(t);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?lk(d):this.lineralizeSegments(i,d).pipe(qt(h=>this.expandSegment(e,t,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s){return"**"===r.path?(e=nk(r,e),r.loadChildren?(r._loadedRoutes?W({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(ue(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new pe(i,{})))):W(new pe(i,{}))):ok(t,r,i,e).pipe(Br(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(qt(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Cf(t,a,u,h),g=new pe(f.segments,f.children);if(0===p.length&&g.hasChildren())return this.expandChildren(d,h,g).pipe(ue(y=>new pe(a,y)));if(0===h.length&&0===p.length)return W(new pe(a,{}));const m=or(r)===s;return this.expandSegment(d,g,h,p,m?fe:s,!0).pipe(ue(C=>new pe(a.concat(C.segments),C.children)))})):Hc(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?W({routes:t._loadedRoutes,injector:t._loadedInjector}):function sW(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(o=>{const a=Sa(o,n);return ts(function z8(n){return n&&$c(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ma(),sk())}(e,t,r).pipe(qt(i=>i?this.configLoader.loadChildren(e,t).pipe(Et(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function hW(n){return wa(XR(bf,3))}())):W({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[fe])return wa(new k(4e3,bf));i=i.children[fe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Qs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Qt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=t[a]}else r[s]=i}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Qt(t.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new pe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new k(4001,bf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class mW{}class vW{constructor(e,t,r,i,s,o,a,u){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const e=Cf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,fe).pipe(ue(t=>{if(null===t)return null;const r=new yf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fe,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ii(r,t),s=new YR(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,r=QR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return _t(Object.keys(r.children)).pipe(es(i=>{const s=r.children[i],o=rk(t,i);return this.processSegmentGroup(e,o,s,i)}),bR((i,s)=>i&&s?(i.push(...s),i):null),function U9(n,e=!1){return Vt((t,r)=>{let i=0;t.subscribe(Tt(r,s=>{const o=n(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),cf(null),TR(),ue(i=>{if(null===i)return null;const s=dk(i);return function IW(n){n.sort((e,t)=>e.value.outlet===fe?-1:t.value.outlet===fe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,r,i,s){return _t(t).pipe(es(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xi(o=>!!o),yi(o=>{if(kv(o))return uk(r,i,s)?W([]):W(null);throw o}))}processSegmentAgainstRoute(e,t,r,i,s){if(t.redirectTo||!ak(t,r,i,s))return W(null);let o;if("**"===t.path){const a=i.length>0?SR(i).parameters:{},u=fk(r)+i.length;o=W({snapshot:new yf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gk(t),or(t),t.component??t._loadedComponent??null,t,hk(r),u,mk(t),u),consumedSegments:[],remainingSegments:[]})}else o=ok(r,t,i,e).pipe(ue(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=fk(r)+u.length;return{snapshot:new yf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,gk(t),or(t),t.component??t._loadedComponent??null,t,hk(r),d,mk(t),d),consumedSegments:u,remainingSegments:c}}));return o.pipe(Br(a=>{if(null===a)return W(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=t._injector??e;const d=t._loadedInjector??e,h=function EW(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:f,slicedSegments:p}=Cf(r,c,l,h.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution);if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(ue(m=>null===m?null:[new Ii(u,m)]));if(0===h.length&&0===p.length)return W([new Ii(u,[])]);const g=or(t)===s;return this.processSegment(d,h,f,p,g?fe:s).pipe(ue(m=>null===m?null:[new Ii(u,m)]))}))}}function CW(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function dk(n){const e=[],t=new Set;for(const r of n){if(!CW(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=dk(r.children);e.push(new Ii(r.value,i))}return e.filter(r=>!t.has(r))}function hk(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function fk(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function gk(n){return n.data||{}}function mk(n){return n.resolve||{}}function _k(n){return"string"==typeof n.title||null===n.title}function Fv(n){return Br(e=>{const t=n(e);return t?_t(t).pipe(ue(()=>e)):W(e)})}let yk=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[xc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:function(){return Ke(vk)},providedIn:"root"}),n})(),vk=(()=>{class n extends yk{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(N(hR))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class PW{}class RW extends class xW{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Af=new B("",{providedIn:"root",factory:()=>({})}),Vv=new B("ROUTES");let Lv=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ts(t.loadComponent()).pipe(Et(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),lf(()=>{this.componentLoaders.delete(t)})),i=new CR(r,()=>new Zn).pipe(fv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(ue(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(t).injector,c=AR(u.get(Vv,[],Y.Self|Y.Optional)));return{routes:c.map(Rv),injector:u}}),lf(()=>{this.childrenLoaders.delete(r)})),o=new CR(s,()=>new Zn).pipe(fv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return ts(t()).pipe(qt(r=>r instanceof rP||Array.isArray(r)?W(r):_t(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(N(Rn),N(Ay))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class OW{}class NW{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function FW(n){throw n}function VW(n,e,t){return e.parse("/")}const LW={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UW={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Ek(){const n=Ke(OR),e=Ke(Lc),t=Ke($y),r=Ke(Rn),i=Ke(Ay),s=Ke(Vv,{optional:!0})??[],o=Ke(Af,{optional:!0})??{},a=Ke(vk),u=Ke(yk,{optional:!0}),c=Ke(OW,{optional:!0}),l=Ke(PW,{optional:!0}),d=new ot(null,n,e,t,r,i,AR(s));return c&&(d.urlHandlingStrategy=c),l&&(d.routeReuseStrategy=l),d.titleStrategy=u??a,function BW(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,d),d}let ot=(()=>{class n{constructor(t,r,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zn,this.errorHandler=FW,this.malformedUriErrorHandler=VW,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>W(void 0),this.urlHandlingStrategy=new NW,this.routeReuseStrategy=new RW,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Lv),this.configLoader.onLoadEndListener=h=>this.triggerEvent(new E8(h)),this.configLoader.onLoadStartListener=h=>this.triggerEvent(new I8(h)),this.ngModule=o.get(zs),this.console=o.get(fz);const d=o.get(Rt);this.isNgZoneEnabled=d instanceof Rt&&Rt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function G9(){return new Qs(new pe([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=KR(this.currentUrlTree,this.rootComponentType),this.transitions=new st({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(jr(i=>0!==i.id),ue(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Br(i=>{let s=!1,o=!1;return W(i).pipe(Et(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Br(a=>{const u=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Ck(a.source)&&(this.browserUrlTree=a.extractedUrl),W(a).pipe(Br(d=>{const h=this.transitions.getValue();return r.next(new Cv(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ni:Promise.resolve(d)}),function gW(n,e,t,r){return Br(i=>function fW(n,e,t,r,i){return new pW(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe(ue(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Et(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},i.urlAfterRedirects=d.urlAfterRedirects}),function bW(n,e,t,r,i,s){return qt(o=>function yW(n,e,t,r,i,s,o="emptyOnly",a="legacy"){return new vW(n,e,t,r,i,o,a,s).recognize().pipe(Br(u=>null===u?function _W(n){return new ct(e=>e.error(n))}(new mW):W(u)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(ue(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Et(d=>{if(i.targetSnapshot=d.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new g8(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);r.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=a,v=new Cv(h,this.serializeUrl(f),p,g);r.next(v);const C=KR(f,this.rootComponentType).snapshot;return W(i={...a,targetSnapshot:C,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),ni}),Et(a=>{const u=new m8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),ue(a=>i={...a,guards:B8(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function J8(n,e){return qt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?W({...t,guardsResult:!0}):function Z8(n,e,t,r){return _t(n).pipe(qt(i=>function iW(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?W(s.map(a=>{const u=Uc(e)??i,c=Sa(a,u);return ts(function K8(n){return n&&$c(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Xi())})).pipe(Ma()):W(!0)}(i.component,i.route,t,e,r)),Xi(i=>!0!==i,!0))}(o,r,i,n).pipe(qt(a=>a&&function G8(n){return"boolean"==typeof n}(a)?function X8(n,e,t,r){return _t(e).pipe(es(i=>hv(function tW(n,e){return null!==n&&e&&e(new C8(n)),W(!0)}(i.route.parent,r),function eW(n,e){return null!==n&&e&&e(new b8(n)),W(!0)}(i.route,r),function rW(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function j8(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>ER(()=>W(o.guards.map(u=>{const c=Uc(o.node)??t,l=Sa(u,c);return ts(function W8(n){return n&&$c(n.canActivateChild)}(l)?l.canActivateChild(r,n):c.runInContext(()=>l(r,n))).pipe(Xi())})).pipe(Ma())));return W(s).pipe(Ma())}(n,i.path,t),function nW(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(s=>ER(()=>{const o=Uc(e)??t,a=Sa(s,o);return ts(function q8(n){return n&&$c(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Xi())}));return W(i).pipe(Ma())}(n,i.route,t))),Xi(i=>!0!==i,!0))}(r,s,n,e):W(a)),ue(a=>({...t,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Et(a=>{if(i.guardsResult=a.guardsResult,Js(a.guardsResult))throw ZR(0,a.guardsResult);const u=new _8(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),jr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),Fv(a=>{if(a.guards.canActivateChecks.length)return W(a).pipe(Et(u=>{const c=new y8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}),Br(u=>{let c=!1;return W(u).pipe(function TW(n,e){return qt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=0;return _t(i).pipe(es(o=>function DW(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!_k(i)&&(s[xc]=i.title),function AW(n,e,t,r){const i=function SW(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return W({});const s={};return _t(i).pipe(qt(o=>function MW(n,e,t,r){const i=Uc(e)??r,s=Sa(n,i);return ts(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Xi(),Et(a=>{s[o]=a}))),pv(1),function B9(n){return ue(()=>n)}(s),yi(o=>kv(o)?ni:wa(o)))}(s,n,e,r).pipe(ue(o=>(n._resolvedData=o,n.data=QR(n,t).resolve,i&&_k(i)&&(n.data[xc]=i.title),null)))}(o.route,r,n,e)),Et(()=>s++),pv(1),qt(o=>s===i.length?W(t):ni))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Et({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Et(u=>{const c=new v8(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(c)}))}),Fv(a=>{const u=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Et(d=>{c.component=d}),ue(()=>{})));for(const d of c.children)l.push(...u(d));return l};return vR(u(a.targetSnapshot.root)).pipe(cf(),Pc(1))}),Fv(()=>this.afterPreactivation()),ue(a=>{const u=function M8(n,e,t){const r=Vc(n,e._root,t?t._root:void 0);return new WR(r,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return i={...a,targetRouterState:u}}),Et(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>ue(r=>(new U8(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Et({next(){s=!0},complete(){s=!0}}),lf(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),yi(a=>{if(o=!0,tk(a)){ek(a)||(this.navigated=!0,this.restoreHistory(i,!0));const u=new _f(i.id,this.serializeUrl(i.extractedUrl),a.message,a.cancellationCode);if(r.next(u),ek(a)){const c=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),l={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ck(i.source)};this.scheduleNavigation(c,"imperative",null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const u=new GR(i.id,this.serializeUrl(i.extractedUrl),a,i.targetSnapshot??void 0);r.next(u);try{i.resolve(this.errorHandler(a))}catch(c){i.reject(c)}}return ni}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Rv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=i||this.routerState.root,l=u?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),c8(c,this.currentUrlTree,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Js(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function jW(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new k(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...LW}:!1===r?{...UW}:r,Js(t))return PR(this.currentUrlTree,t,i);const s=this.parseUrl(t);return PR(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ns(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((h,f)=>{a=h,u=f});const l=++this.navigationId;let d;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),d=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):d=0,this.setTransition({id:l,targetPageId:d,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new _f(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){C_()},n.\u0275prov=q({token:n,factory:function(){return Ek()},providedIn:"root"}),n})();function Ck(n){return"imperative"!==n}class wk{}let GW=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(jr(t=>t instanceof ns),es(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Mh(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return _t(i).pipe(Ro())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):W(null);const s=i.pipe(qt(o=>null===o?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?_t([s,this.loader.loadComponent(r)]).pipe(Ro()):s})}}return n.\u0275fac=function(t){return new(t||n)(N(ot),N(Ay),N(qi),N(wk),N(Lv))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jv=new B("");let bk=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Cv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ns&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof zR&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new zR(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){C_()},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function Pa(n,e){return{\u0275kind:n,\u0275providers:e}}function $v(n){return[{provide:Vv,multi:!0,useValue:n}]}function Dk(){const n=Ke(Rn);return e=>{const t=n.get(Lh);if(e!==t.components[0])return;const r=n.get(ot),i=n.get(Ak);1===n.get(Hv)&&r.initialNavigation(),n.get(Sk,null,Y.Optional)?.setUpPreloading(),n.get(jv,null,Y.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Ak=new B("",{factory:()=>new Zn}),Hv=new B("",{providedIn:"root",factory:()=>1});const Sk=new B("");function KW(n){return Pa(0,[{provide:Sk,useExisting:GW},{provide:wk,useExisting:n}])}const Mk=new B("ROUTER_FORROOT_GUARD"),QW=[$y,{provide:OR,useClass:mv},{provide:ot,useFactory:Ek},Lc,{provide:Zs,useFactory:function Tk(n){return n.routerState.root},deps:[ot]},Lv];function YW(){return new ex("Router",ot)}let Pk=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[QW,[],$v(t),{provide:Mk,useFactory:e7,deps:[[ot,new zi,new Qo]]},{provide:Af,useValue:r||{}},r?.useHash?{provide:Ws,useClass:n6}:{provide:Ws,useClass:Tx},{provide:jv,useFactory:()=>{const n=Ke(ot),e=Ke(Iq),t=Ke(Af);return t.scrollOffset&&e.setOffset(t.scrollOffset),new bk(n,e,t)}},r?.preloadingStrategy?KW(r.preloadingStrategy).\u0275providers:[],{provide:ex,multi:!0,useFactory:YW},r?.initialNavigation?t7(r):[],[{provide:xk,useFactory:Dk},{provide:WP,multi:!0,useExisting:xk}]]}}static forChild(t){return{ngModule:n,providers:[$v(t)]}}}return n.\u0275fac=function(t){return new(t||n)(N(Mk,8))},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({imports:[Pv]}),n})();function e7(n){return"guarded"}function t7(n){return["disabled"===n.initialNavigation?Pa(3,[{provide:Oh,multi:!0,useFactory:()=>{const e=Ke(ot);return()=>{e.setUpLocationChangeListener()}}},{provide:Hv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Pa(2,[{provide:Hv,useValue:0},{provide:Oh,multi:!0,deps:[Rn],useFactory:e=>{const t=e.get(e6,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=e.get(ot),a=e.get(Ak);(function i(s){e.get(ot).events.pipe(jr(a=>a instanceof ns||a instanceof _f||a instanceof GR),ue(a=>a instanceof ns||a instanceof _f&&(0===a.code||1===a.code)&&null),jr(a=>null!==a),Pc(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||a.closed?W(void 0):a),o.initialNavigation()}))}}]).\u0275providers:[]]}const xk=new B("");let kk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(w(kr),w(xn))},n.\u0275dir=J({type:n}),n})(),Xs=(()=>{class n extends kk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[Pe]}),n})();const Hr=new B("NgValueAccessor"),i7={provide:Hr,useExisting:Ve(()=>xa),multi:!0},o7=new B("CompositionEventMode");let xa=(()=>{class n extends kk{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function s7(){const n=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(w(kr),w(xn),w(o7,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&ne("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Qe([i7]),Pe]}),n})();function rs(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Nk(n){return null!=n&&"number"==typeof n.length}const dn=new B("NgValidators"),is=new B("NgAsyncValidators"),u7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ei{static min(e){return function Fk(n){return e=>{if(rs(e.value)||rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Vk(n){return e=>{if(rs(e.value)||rs(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Lk(n){return rs(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Uk(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Bk(n){return rs(n.value)||u7.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jk(n){return e=>rs(e.value)||!Nk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return $k(e)}static pattern(e){return Hk(e)}static nullValidator(e){return null}static compose(e){return Qk(e)}static composeAsync(e){return Yk(e)}}function $k(n){return e=>Nk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Hk(n){if(!n)return xf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(rs(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function xf(n){return null}function Gk(n){return null!=n}function zk(n){return hc(n)?_t(n):n}function qk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Wk(n,e){return e.map(t=>t(n))}function Kk(n){return n.map(e=>function c7(n){return!n.validate}(e)?e:t=>e.validate(t))}function Qk(n){if(!n)return null;const e=n.filter(Gk);return 0==e.length?null:function(t){return qk(Wk(t,e))}}function Gv(n){return null!=n?Qk(Kk(n)):null}function Yk(n){if(!n)return null;const e=n.filter(Gk);return 0==e.length?null:function(t){return function Rk(...n){const e=xD(n),{args:t,keys:r}=mR(n),i=new ct(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;hr(t[l]).subscribe(Tt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?yR(r,a):a),s.complete())}))}});return e?i.pipe(_R(e)):i}(Wk(t,e).map(zk)).pipe(ue(qk))}}function zv(n){return null!=n?Yk(Kk(n)):null}function Jk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zk(n){return n._rawValidators}function Xk(n){return n._rawAsyncValidators}function qv(n){return n?Array.isArray(n)?n:[n]:[]}function Rf(n,e){return Array.isArray(n)?n.includes(e):n===e}function e1(n,e){const t=qv(e);return qv(n).forEach(i=>{Rf(t,i)||t.push(i)}),t}function t1(n,e){return qv(e).filter(t=>!Rf(n,t))}class n1{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Tn extends n1{get formDirective(){return null}get path(){return null}}class ss extends n1{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class r1{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kf=(()=>{class n extends r1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(ss,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Ch("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Pe]}),n})(),Of=(()=>{class n extends r1{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(w(Tn,10))},n.\u0275dir=J({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&Ch("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[Pe]}),n})();const Gc="VALID",Ff="INVALID",Ra="PENDING",zc="DISABLED";function Yv(n){return(Vf(n)?n.validators:n)||null}function o1(n){return Array.isArray(n)?Gv(n):n||null}function Jv(n,e){return(Vf(e)?e.asyncValidators:n)||null}function a1(n){return Array.isArray(n)?zv(n):n||null}function Vf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class l1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=o1(this._rawValidators),this._composedAsyncValidatorFn=a1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Gc}get invalid(){return this.status===Ff}get pending(){return this.status==Ra}get disabled(){return this.status===zc}get enabled(){return this.status!==zc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=o1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=a1(e)}addValidators(e){this.setValidators(e1(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(e1(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(t1(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(t1(e,this._rawAsyncValidators))}hasValidator(e){return Rf(this._rawValidators,e)}hasAsyncValidator(e){return Rf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ra,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gc||this.status===Ra)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?zc:Gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ra,this._hasOwnPendingAsyncValidator=!0;const t=zk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Xe,this.statusChanges=new Xe}_calculateStatus(){return this._allControlsDisabled()?zc:this.errors?Ff:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ra)?Ra:this._anyControlsHaveStatus(Ff)?Ff:Gc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class ka extends l1{constructor(e,t,r){super(Yv(t),Jv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function c1(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new k(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function u1(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new k(1e3,"");if(!r[t])throw new k(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function qc(n,e){Zv(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function y7(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&d1(n,e)})}(n,e),function I7(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function v7(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&d1(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _7(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Uf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),jf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Zv(n,e){const t=Zk(n);null!==e.validator?n.setValidators(Jk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Xk(n);null!==e.asyncValidator?n.setAsyncValidators(Jk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Bf(e._rawValidators,i),Bf(e._rawAsyncValidators,i)}function jf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Zk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Xk(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return Bf(e._rawValidators,r),Bf(e._rawAsyncValidators,r),t}function d1(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function g1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function m1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Tr=class extends l1{constructor(e=null,t,r){super(Yv(t),Jv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=m1(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){g1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){g1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){m1(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let $f=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),C1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({}),n})();const nI=new B("NgModelWithFormControlWarning"),O7={provide:Tn,useExisting:Ve(()=>Oa)};let Oa=(()=>{class n extends Tn{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Xe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return qc(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Uf(t.control||null,t,!1),function b7(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function p1(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Uf(r||null,t),(n=>n instanceof Tr)(i)&&(qc(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function h1(n,e){Zv(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function E7(n,e){return jf(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Zv(this.form,this),this._oldForm&&jf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(w(dn,10),w(is,10))},n.\u0275dir=J({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&ne("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qe([O7]),Pe,tr]}),n})();const V7={provide:ss,useExisting:Ve(()=>Kc)};let Kc=(()=>{class n extends ss{constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Xe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function eI(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===xa?t=s:function w7(n){return Object.getPrototypeOf(n.constructor)===Xs}(s)?r=s:i=s}),i||r||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Xv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Lf(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(w(Tn,13),w(dn,10),w(is,10),w(Hr,10),w(nI,8))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qe([V7]),Pe,tr]}),n})();const L7={provide:Hr,useExisting:Ve(()=>Hf),multi:!0};function A1(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Hf=(()=>{class n extends Xs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=A1(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function U7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&ne("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qe([L7]),Pe]}),n})(),S1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(A1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(w(xn),w(kr),w(Hf,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const B7={provide:Hr,useExisting:Ve(()=>sI),multi:!0};function M1(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let sI=(()=>{class n extends Xs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],s=r.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);i.push(c)}}else{const o=r.options;for(let a=0;a<o.length;a++){const u=o[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function j7(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&ne("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qe([B7]),Pe]}),n})(),P1=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(M1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(M1(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(w(xn),w(kr),w(sI,9))},n.\u0275dir=J({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let eo=(()=>{class n{constructor(){this._validator=xf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,features:[tr]}),n})();const K7={provide:dn,useExisting:Ve(()=>aI),multi:!0};let aI=(()=>{class n extends eo{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function x1(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>$k(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Wn("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Qe([K7]),Pe]}),n})();const Q7={provide:dn,useExisting:Ve(()=>uI),multi:!0};let uI=(()=>{class n extends eo{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>Hk(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=an(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&Wn("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Qe([Q7]),Pe]}),n})(),Y7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({imports:[C1]}),n})(),J7=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:nI,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({imports:[Y7]}),n})();function L1(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function _(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){L1(s,r,i,o,a,"next",u)}function a(u){L1(s,r,i,o,a,"throw",u)}o(void 0)})}}const U1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},B1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(U1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new nK;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gf=function(n){return function(n){const e=U1(n);return B1.encodeByteArray(e,!0)}(n).replace(/\./g,"")},zf=function(n){try{return B1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},qf=()=>{try{return function sK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&zf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},$1=n=>{var e,t;return null===(t=null===(e=qf())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},H1=()=>{var n;return null===(n=qf())||void 0===n?void 0:n.config},G1=n=>{var e;return null===(e=qf())||void 0===e?void 0:e[`_${n}`]};class z1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Ot(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function IK(n,e){return n.replace(EK,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Ci(i,`${this.serviceName}: ${o} (${i}).`,r)}}const EK=/\{\$([^}]+)}/g;function CK(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(W1(s)&&W1(o)){if(!Kf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function W1(n){return null!==n&&"object"==typeof n}function Qf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class bK{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function TK(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=lI),void 0===i.error&&(i.error=lI),void 0===i.complete&&(i.complete=lI);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lI(){}function ar(n){return n&&n._delegate?n._delegate:n}class to{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const no="[DEFAULT]";class xK{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new z1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function kK(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:no})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=no){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return _(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=no){return this.instances.has(e)}getOptions(e=no){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===no?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=no){return this.component?this.component.multipleInstances?e:no:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class OK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new xK(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hI=[];var me=(()=>{return(n=me||(me={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",me;var n})();const K1={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},NK=me.INFO,FK={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},VK=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=FK[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class fI{constructor(e){this.name=e,this._logLevel=NK,this._logHandler=VK,this._userLogHandler=null,hI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?K1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}let Q1,Y1;const J1=new WeakMap,pI=new WeakMap,Z1=new WeakMap,gI=new WeakMap,mI=new WeakMap;let _I={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return pI.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Z1.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function zK(n){return"function"==typeof n?function GK(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function BK(){return Y1||(Y1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(yI(this),e),os(J1.get(this))}:function(...e){return os(n.apply(yI(this),e))}:function(e,...t){const r=n.call(yI(this),e,...t);return Z1.set(r,e.sort?e.sort():[e]),os(r)}}(n):(n instanceof IDBTransaction&&function $K(n){if(pI.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});pI.set(n,e)}(n),((n,e)=>e.some(t=>n instanceof t))(n,function UK(){return Q1||(Q1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,_I):n)}function os(n){if(n instanceof IDBRequest)return function jK(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(os(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&J1.set(t,n)}).catch(()=>{}),mI.set(e,n),e}(n);if(gI.has(n))return gI.get(n);const e=zK(n);return e!==n&&(gI.set(n,e),mI.set(e,n)),e}const yI=n=>mI.get(n),WK=["get","getKey","getAll","getAllKeys","count"],KK=["put","add","delete","clear"],vI=new Map;function X1(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(vI.get(e))return vI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=KK.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!WK.includes(t))return;const s=function(){var o=_(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[t](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return vI.set(e,s),s}!function HK(n){_I=n(_I)}(n=>({...n,get:(e,t,r)=>X1(e,t)||n.get(e,t,r),has:(e,t)=>!!X1(e,t)||n.has(e,t)}));class QK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function YK(n){return"VERSION"===n.getComponent()?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Yf="@firebase/app",ro=new fI("@firebase/app"),Jf="[DEFAULT]",CQ={[Yf]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},io=new Map,Zc=new Map,Xc=new Map;function eO(n,e){try{n.container.addComponent(e)}catch(t){ro.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Na(n){const e=n.name;if(Xc.has(e))return ro.debug(`There were multiple attempts to register component ${e}.`),!1;Xc.set(e,n);for(const t of io.values())eO(t,n);for(const t of Zc.values())eO(t,n);return!0}function Zf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gr(n){return void 0!==n.settings}const ur=new Qc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class TQ{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}const Fa="10.11.1";function tO(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ur.create("bad-app-name",{appName:String(i)});if(t||(t=H1()),!t)throw ur.create("no-options");const s=io.get(i);if(s){if(Kf(t,s.options)&&Kf(r,s.config))return s;throw ur.create("duplicate-app",{appName:i})}const o=new OK(i);for(const u of Xc.values())o.addComponent(u);const a=new TQ(t,r,o);return io.set(i,a),a}function nO(n=Jf){const e=io.get(n);if(!e&&n===Jf&&H1())return tO();if(!e)throw ur.create("no-app",{appName:n});return e}function wi(n,e,t){var r;let i=null!==(r=CQ[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ro.warn(a.join(" "))}Na(new to(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const el="firebase-heartbeat-store";let CI=null;function rO(){return CI||(CI=function qK(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=os(o);return r&&o.addEventListener("upgradeneeded",u=>{r(os(o.result),u.oldVersion,u.newVersion,os(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(el)}catch(t){console.warn(t)}}}).catch(n=>{throw ur.create("idb-open",{originalErrorMessage:n.message})})),CI}function wI(){return(wI=_(function*(n){try{const t=(yield rO()).transaction(el),r=yield t.objectStore(el).get(sO(n));return yield t.done,r}catch(e){if(e instanceof Ci)ro.warn(e.message);else{const t=ur.create("idb-get",{originalErrorMessage:e?.message});ro.warn(t.message)}}})).apply(this,arguments)}function iO(n,e){return bI.apply(this,arguments)}function bI(){return(bI=_(function*(n,e){try{const r=(yield rO()).transaction(el,"readwrite");yield r.objectStore(el).put(e,sO(n)),yield r.done}catch(t){if(t instanceof Ci)ro.warn(t.message);else{const r=ur.create("idb-set",{originalErrorMessage:t?.message});ro.warn(r.message)}}})).apply(this,arguments)}function sO(n){return`${n.name}!${n.options.appId}`}class kQ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NQ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return _(function*(){var t,r;const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oO();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(a=>a.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return _(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=oO(),{heartbeatsToSend:i,unsentEntries:s}=function OQ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),aO(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),aO(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=Gf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o})()}}function oO(){return(new Date).toISOString().substring(0,10)}class NQ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!function _K(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function yK(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return _(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function PQ(n){return wI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return iO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return _(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return iO(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function aO(n){return Gf(JSON.stringify({version:2,heartbeats:n})).length}!function FQ(n){Na(new to("platform-logger",e=>new QK(e),"PRIVATE")),Na(new to("heartbeat",e=>new kQ(e),"PRIVATE")),wi(Yf,"0.10.2",n),wi(Yf,"0.10.2","esm2017"),wi("fire-js","")}("");const VQ=function uO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},cO=new Qc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xf=new fI("@firebase/auth");function ep(n,...e){Xf.logLevel<=me.ERROR&&Xf.error(`Auth (${Fa}): ${n}`,...e)}function On(n,...e){throw DI(n,...e)}function cr(n,...e){return DI(n,...e)}function TI(n,e,t){const r=Object.assign(Object.assign({},VQ()),{[e]:t});return new Qc("auth","Firebase",r).create(e,{appName:n.name})}function Ut(n){return TI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return cO.create(n,...e)}function R(n,e,...t){if(!n)throw DI(e,...t)}function zr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw ep(e),new Error(e)}function as(n,e){n||zr(e)}function tl(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function lO(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function UQ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function AI(){return"http:"===lO()||"https:"===lO()}()||function fK(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,as(t>e,"Short delay should be less than long delay!"),this.isMobile=function dK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}()||function pK(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return UQ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function SI(n,e){as(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class dO{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jQ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$Q=new nl(3e4,6e4);function He(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ge(n,e,t,r){return MI.apply(this,arguments)}function MI(){return(MI=_(function*(n,e,t,r,i={}){return hO(n,i,_(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Qf(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),dO.fetch()(fO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function hO(n,e,t){return PI.apply(this,arguments)}function PI(){return(PI=_(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},jQ),e);try{const i=new GQ(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw rl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw rl(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw rl(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw rl(n,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw TI(n,l,c);On(n,l)}}catch(i){if(i instanceof Ci)throw i;On(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function bi(n,e,t,r){return xI.apply(this,arguments)}function xI(){return(xI=_(function*(n,e,t,r,i={}){const s=yield Ge(n,e,t,r,i);return"mfaPendingCredential"in s&&On(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function fO(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?SI(n.config,i):`${n.config.apiScheme}://${i}`}function HQ(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GQ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(cr(this.auth,"network-request-failed")),$Q.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rl(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=cr(n,e,r);return i.customData._tokenResponse=t,i}function gO(n){return void 0!==n&&void 0!==n.enterprise}class mO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return HQ(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function _O(n,e){return kI.apply(this,arguments)}function kI(){return(kI=_(function*(n,e){return Ge(n,"GET","/v2/recaptchaConfig",He(n,e))})).apply(this,arguments)}function OI(){return(OI=_(function*(n,e){return Ge(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function yO(n,e){return FI.apply(this,arguments)}function FI(){return(FI=_(function*(n,e){return Ge(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function il(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function VI(){return(VI=_(function*(n,e=!1){const t=ar(n),r=yield t.getIdToken(e),i=tp(r);R(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:il(LI(i.auth_time)),issuedAtTime:il(LI(i.iat)),expirationTime:il(LI(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function LI(n){return 1e3*Number(n)}function tp(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return ep("JWT malformed, contained fewer than 3 sections"),null;try{const i=zf(t);return i?JSON.parse(i):(ep("Failed to decode base64 JWT payload"),null)}catch(i){return ep("Caught error parsing JWT payload as JSON",i?.toString()),null}}function vO(n){const e=tp(n);return R(e,"internal-error"),R(typeof e.exp<"u","internal-error"),R(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ti(n,e){return UI.apply(this,arguments)}function UI(){return(UI=_(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ci&&QQ(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function QQ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class YQ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(_(function*(){yield t.iteration()}),r)}iteration(){var e=this;return _(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class BI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sl(n){return jI.apply(this,arguments)}function jI(){return(jI=_(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Ti(n,yO(t,{idToken:r}));R(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?IO(s.providerUserInfo):[],a=ZQ(n.providerData,o),l=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new BI(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)})).apply(this,arguments)}function $I(){return($I=_(function*(n){const e=ar(n);yield sl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ZQ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function IO(n){return n.map(e=>{var{providerId:t}=e,r=Yg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function HI(){return(HI=_(function*(n,e){const t=yield hO(n,{},_(function*(){const r=Qf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=fO(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function GI(){return(GI=_(function*(n,e){return Ge(n,"POST","/v2/accounts:revokeToken",He(n,e))})).apply(this,arguments)}class La{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){R(e.idToken,"internal-error"),R(typeof e.idToken<"u","internal-error"),R(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){R(0!==e.length,"internal-error");const t=vO(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return _(function*(){return t||!r.accessToken||r.isExpired?(R(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return _(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function XQ(n,e){return HI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new La;return r&&(R("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(R("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new La,this.toJSON())}_performRefresh(){return zr("not implemented")}}function us(n,e){R("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Di{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YQ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new BI(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return _(function*(){const r=yield Ti(t,t.stsTokenManager.getToken(t.auth,e));return R(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function KQ(n){return VI.apply(this,arguments)}(this,e)}reload(){return function JQ(n){return $I.apply(this,arguments)}(this)}_assign(e){this!==e&&(R(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return _(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield sl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return _(function*(){if(Gr(e.auth.app))return Promise.reject(Ut(e.auth));const t=yield e.getIdToken();return yield Ti(e,function qQ(n,e){return OI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,c,l;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,v=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:P,isAnonymous:H,providerData:K,stsTokenManager:Se}=t;R(y&&Se,e,"internal-error");const zt=La.fromJSON(this.name,Se);R("string"==typeof y,e,"internal-error"),us(d,e.name),us(h,e.name),R("boolean"==typeof P,e,"internal-error"),R("boolean"==typeof H,e,"internal-error"),us(f,e.name),us(p,e.name),us(g,e.name),us(m,e.name),us(v,e.name),us(C,e.name);const Ui=new Di({uid:y,auth:e,email:h,emailVerified:P,displayName:d,isAnonymous:H,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:zt,createdAt:v,lastLoginAt:C});return K&&Array.isArray(K)&&(Ui.providerData=K.map(Ss=>Object.assign({},Ss))),m&&(Ui._redirectEventId=m),Ui}static _fromIdTokenResponse(e,t,r=!1){return _(function*(){const i=new La;i.updateFromServerResponse(t);const s=new Di({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield sl(s),s})()}static _fromGetAccountInfoResponse(e,t,r){return _(function*(){const i=t.users[0];R(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?IO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash||s?.length),a=new La;a.updateFromIdToken(r);const u=new Di({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new BI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||s?.length)};return Object.assign(u,c),u})()}}const EO=new Map;function Ai(n){as(n instanceof Function,"Expected a class definition");let e=EO.get(n);return e?(as(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,EO.set(n,e),e)}const CO=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(t,r){var i=this;return _(function*(){i.storage[t]=r})()}_get(t){var r=this;return _(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return _(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function np(n,e,t){return`firebase:${n}:${e}:${t}`}class Ua{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=np(this.userKey,i.apiKey,s),this.fullPersistenceKey=np("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return _(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Di._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return _(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(function*(){if(!t.length)return new Ua(Ai(CO),e,r);const i=(yield Promise.all(t.map(function(){var c=_(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ai(CO);const o=np(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const l=yield c._get(o);if(l){const d=Di._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var c=_(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Ua(s,e,r)):new Ua(s,e,r)})()}}function wO(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SO(e))return"Blackberry";if(MO(e))return"Webos";if(zI(e))return"Safari";if((e.includes("chrome/")||TO(e))&&!e.includes("edge/"))return"Chrome";if(AO(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function bO(n=Ot()){return/firefox\//i.test(n)}function zI(n=Ot()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TO(n=Ot()){return/crios\//i.test(n)}function DO(n=Ot()){return/iemobile/i.test(n)}function AO(n=Ot()){return/android/i.test(n)}function SO(n=Ot()){return/blackberry/i.test(n)}function MO(n=Ot()){return/webos/i.test(n)}function rp(n=Ot()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function PO(n=Ot()){return rp(n)||AO(n)||MO(n)||SO(n)||/windows phone/i.test(n)||DO(n)}function xO(n,e=[]){let t;switch(n){case"Browser":t=wO(Ot());break;case"Worker":t=`${wO(Ot())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fa}/${r}`}class iY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return _(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function qI(){return(qI=_(function*(n,e={}){return Ge(n,"GET","/v2/passwordPolicy",He(n,e))})).apply(this,arguments)}class aY{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(s=u.containsUppercaseLetter)||void 0===s||s),u.isValid&&(u.isValid=null===(o=u.containsNumericCharacter)||void 0===o||o),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class uY{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RO(this),this.idTokenSubscription=new RO(this),this.beforeStateQueue=new iY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ai(t)),this._initializationPromise=this.queue(_(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Ua.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return _(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return _(function*(){try{const r=yield yO(t,{idToken:e}),i=yield Di._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return _(function*(){var r;if(Gr(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(u,u))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return R(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return _(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return _(function*(){try{yield sl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function BQ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return _(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return _(function*(){if(Gr(t.app))return Promise.reject(Ut(t));const r=e?ar(e):null;return r&&R(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return _(function*(){if(!r._deleted)return e&&R(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(_(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return _(function*(){return Gr(e.app)?Promise.reject(Ut(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Gr(this.app)?Promise.reject(Ut(this)):this.queue(_(function*(){yield t.assertedPersistence.setPersistence(Ai(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return _(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return _(function*(){const t=yield function sY(n){return qI.apply(this,arguments)}(e),r=new aY(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return _(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function eY(n,e){return GI.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return _(function*(){if(!t.redirectPersistenceManager){const r=e&&Ai(e)||t._popupRedirectResolver;R(r,t,"argument-error"),t.redirectPersistenceManager=yield Ua.create(t,[Ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return _(function*(){var r,i;return t._isInitialized&&(yield t.queue(_(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return _(function*(){if(e===t.currentUser)return t.queue(_(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(R(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{o=!0,u()}}{const u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){var t=this;return _(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return _(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return _(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function LQ(n,...e){Xf.logLevel<=me.WARN&&Xf.warn(`Auth (${Fa}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ht(n){return ar(n)}class RO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function wK(n,e){const t=new bK(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ol={loadJS:()=>_(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WI(n){return ol.loadJS(n)}function kO(n){return`__${n}${Math.floor(1e6*Math.random())}`}class OO{constructor(e){this.type="recaptcha-enterprise",this.auth=ht(e)}verify(e="verify",t=!1){var r=this;return _(function*(){function s(){return s=_(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=_(function*(c,l){_O(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new mO(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(c,l){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,c){const l=window.grecaptcha;gO(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(c=>{if(!t&&gO(window.grecaptcha))o(c,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));let l=function dY(){return ol.recaptchaEnterpriseScript}();0!==l.length&&(l+=c),WI(l).then(()=>{o(c,a,u)}).catch(d=>{u(d)})}}).catch(c=>{u(c)})})})()}}function NO(n,e,t){return KI.apply(this,arguments)}function KI(){return(KI=_(function*(n,e,t,r=!1){const i=new OO(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function al(n,e,t,r){return QI.apply(this,arguments)}function QI(){return QI=_(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield NO(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=_(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield NO(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),QI.apply(this,arguments)}function FO(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VO(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class LO{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}function CY(n,e){return XI.apply(this,arguments)}function XI(){return(XI=_(function*(n,e){return Ge(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function bY(n,e){return tE.apply(this,arguments)}function tE(){return(tE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithPassword",He(n,e))})).apply(this,arguments)}function aE(){return(aE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithEmailLink",He(n,e))})).apply(this,arguments)}function uE(){return(uE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithEmailLink",He(n,e))})).apply(this,arguments)}class ul extends LO{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ul(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ul(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return _(function*(){switch(t.signInMethod){case"password":return al(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",bY);case"emailLink":return function MY(n,e){return aE.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:On(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return _(function*(){switch(r.signInMethod){case"password":return al(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CY);case"emailLink":return function PY(n,e){return uE.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:On(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Si(n,e){return cE.apply(this,arguments)}function cE(){return(cE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signInWithIdp",He(n,e))})).apply(this,arguments)}class dl{constructor(e){var t,r,i,s,o,a;const u=Yc(Jc(e)),c=null!==(t=u.apiKey)&&void 0!==t?t:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,d=function VY(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);R(c&&l&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=l,this.continueUrl=null!==(s=u.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function LY(n){const e=Yc(Jc(n)).link,t=e?Yc(Jc(e)).deep_link_id:null,r=Yc(Jc(n)).deep_link_id;return(r?Yc(Jc(r)).link:null)||r||t||e||n}(e);try{return new dl(t)}catch{return null}}}let BO=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return ul._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=dl.parseLink(r);return R(i,"argument-error"),ul._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class cs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class UY extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function jO(n,e){return gE.apply(this,arguments)}function gE(){return(gE=_(function*(n,e){return bi(n,"POST","/v1/accounts:signUp",He(n,e))})).apply(this,arguments)}class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(function*(){const s=yield Di._fromIdTokenResponse(e,r,i),o=$O(r);return new lr({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return _(function*(){yield e._updateTokensIfNecessary(r,!0);const i=$O(r);return new lr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function $O(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class op extends Ci{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new op(e,t,r,i)}}function HO(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?op._fromErrorAndOperation(n,s,e,r):s})}function yE(n,e){return vE.apply(this,arguments)}function vE(){return(vE=_(function*(n,e,t=!1){const r=yield Ti(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return lr._forOperation(n,"link",r)})).apply(this,arguments)}function EE(){return(EE=_(function*(n,e,t=!1){const{auth:r}=n;if(Gr(r.app))return Promise.reject(Ut(r));const i="reauthenticate";try{const s=yield Ti(n,HO(r,i,e,n),t);R(s.idToken,r,"internal-error");const o=tp(s.idToken);R(o,r,"internal-error");const{sub:a}=o;return R(n.uid===a,r,"user-mismatch"),lr._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&On(r,"user-mismatch"),s}})).apply(this,arguments)}function qO(n,e){return CE.apply(this,arguments)}function CE(){return(CE=_(function*(n,e,t=!1){if(Gr(n.app))return Promise.reject(Ut(n));const r="signIn",i=yield HO(n,r,e),s=yield lr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function bE(){return(bE=_(function*(n,e){return qO(ht(n),e)})).apply(this,arguments)}function RE(n){return kE.apply(this,arguments)}function kE(){return(kE=_(function*(n){const e=ht(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function UE(){return(UE=_(function*(n,e,t){if(Gr(n.app))return Promise.reject(Ut(n));const r=ht(n),o=yield al(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jO).catch(u=>{throw"auth/password-does-not-meet-requirements"===u.code&&RE(n),u}),a=yield lr._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}const cp="__sak";class KO{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lJ=(()=>{class n extends KO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function aJ(){const n=Ot();return zI(n)||rp(n)}()&&function rY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=PO(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function nY(){return function gK(){const n=Ot();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return _(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return _(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),QO=(()=>{class n extends KO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let hJ=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return _(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function dJ(n){return Promise.all(n.map(function(){var e=_(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function tC(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class fJ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return _(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=tC("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ct(){return window}function nC(){return typeof Ct().WorkerGlobalScope<"u"&&"function"==typeof Ct().importScripts}function rC(){return(rC=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const YO="firebaseLocalStorageDb",lp="firebaseLocalStorage",JO="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function dp(n,e){return n.transaction([lp],e?"readwrite":"readonly").objectStore(lp)}function iC(){const n=indexedDB.open(YO,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(lp,{keyPath:JO})}catch(i){t(i)}}),n.addEventListener("success",_(function*(){const r=n.result;r.objectStoreNames.contains(lp)?e(r):(r.close(),yield function vJ(){const n=indexedDB.deleteDatabase(YO);return new fl(n).toPromise()}(),e(yield iC()))}))})}function ZO(n,e,t){return sC.apply(this,arguments)}function sC(){return(sC=_(function*(n,e,t){const r=dp(n,!0).put({[JO]:e,value:t});return new fl(r).toPromise()})).apply(this,arguments)}function oC(){return(oC=_(function*(n,e){const t=dp(n,!1).get(e),r=yield new fl(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function XO(n,e){const t=dp(n,!0).delete(e);return new fl(t).toPromise()}const wJ=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return _(function*(){return t.db||(t.db=yield iC()),t.db})()}_withRetries(t){var r=this;return _(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return _(function*(){return nC()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return _(function*(){t.receiver=hJ._getInstance(function _J(){return nC()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=_(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=_(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return _(function*(){var r,i;if(t.activeServiceWorker=yield function gJ(){return rC.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new fJ(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function mJ(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const t=yield iC();return yield ZO(t,cp,"1"),yield XO(t,cp),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return _(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(s=>ZO(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return _(function*(){const i=yield r._withRetries(s=>function IJ(n,e){return oC.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>XO(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return _(function*(){const r=yield t._withRetries(o=>{const a=dp(o,!1).getAll();return new fl(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function oo(n,e){return e?Ai(e):(R(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}kO("rcb"),new nl(3e4,6e4);class gC extends LO{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Si(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Si(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Si(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function LJ(n){return qO(n.auth,new gC(n),n.bypassAuthState)}function UJ(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),function zO(n,e){return EE.apply(this,arguments)}(t,new gC(n),n.bypassAuthState)}function BJ(n){return mC.apply(this,arguments)}function mC(){return(mC=_(function*(n){const{auth:e,user:t}=n;return R(t,e,"internal-error"),yE(t,new gC(n),n.bypassAuthState)})).apply(this,arguments)}new nl(2e3,1e4);const pl=new Map;class HJ extends class jJ{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=_(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(u)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LJ;case"linkViaPopup":case"linkViaRedirect":return BJ;case"reauthViaPopup":case"reauthViaRedirect":return UJ;default:On(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return _(function*(){let r=pl.get(t.auth._key());if(!r){try{const s=(yield function GJ(n,e){return EC.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}pl.set(t.auth._key(),r)}return t.bypassAuthState||pl.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function EC(){return(EC=_(function*(n,e){const t=nN(e),r=tN(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function zJ(n,e){pl.set(n._key(),e)}function tN(n){return Ai(n._redirectPersistence)}function nN(n){return np("pendingRedirect",n.config.apiKey,n.name)}function rN(n,e){return SC.apply(this,arguments)}function SC(){return(SC=_(function*(n,e,t=!1){if(Gr(n.app))return Promise.reject(Ut(n));const r=ht(n),i=oo(r,e),o=yield new HJ(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class YJ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function JJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oN(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oN(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(cr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sN(e))}saveEventToCache(e){this.cachedEventUids.add(sN(e)),this.lastProcessedEventTime=Date.now()}}function sN(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oN({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function ZJ(n){return PC.apply(this,arguments)}function PC(){return(PC=_(function*(n,e={}){return Ge(n,"GET","/v1/projects",e)})).apply(this,arguments)}const XJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eZ=/^https?/;function xC(){return(xC=_(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield ZJ(n);for(const t of e)try{if(nZ(t))return}catch{}On(n,"unauthorized-domain")})).apply(this,arguments)}function nZ(n){const e=tl(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!eZ.test(t))return!1;if(XJ.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rZ=new nl(3e4,6e4);function aN(){const n=Ct().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let fp=null;function sZ(n){return fp=fp||function iZ(n){return new Promise((e,t)=>{var r,i,s;function o(){aN(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aN(),t(cr(n,"network-request-failed"))},timeout:rZ.get()})}if(null!==(i=null===(r=Ct().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ct().gapi)||void 0===s||!s.load){const a=kO("iframefcb");return Ct()[a]=()=>{gapi.load?o():t(cr(n,"network-request-failed"))},WI(`${function hY(){return ol.gapiScript}()}?onload=${a}`).catch(u=>t(u))}o()}}).catch(e=>{throw fp=null,e})}(n),fp}const oZ=new nl(5e3,15e3),cZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dZ(n){const e=n.config;R(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?SI(e,"emulator/auth/iframe"):`https://${n.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:n.name,v:Fa},i=lZ.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Qf(r).slice(1)}`}function RC(){return RC=_(function*(n){const e=yield sZ(n),t=Ct().gapi;return R(t,n,"internal-error"),e.open({where:document.body,url:dZ(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cZ,dontclear:!0},r=>new Promise(function(){var i=_(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=cr(n,"network-request-failed"),u=Ct().setTimeout(()=>{o(a)},oZ.get());function c(){Ct().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),RC.apply(this,arguments)}const fZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uN{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const CZ=encodeURIComponent("fac");function cN(n,e,t,r,i,s){return kC.apply(this,arguments)}function kC(){return(kC=_(function*(n,e,t,r,i,s){R(n.config.authDomain,n,"auth-domain-config-required"),R(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Fa,eventId:i};if(e instanceof cs){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",CK(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof UY){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const u=yield n._getAppCheckToken(),c=u?`#${CZ}=${encodeURIComponent(u)}`:"";return`${wZ(n)}?${Qf(a).slice(1)}${c}`})).apply(this,arguments)}function wZ({config:n}){return n.emulator?SI(n,"emulator/auth/handler"):`https://${n.authDomain}/__/auth/handler`}const OC="webStorageSupport",TZ=class bZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QO,this._completeRedirectFn=rN,this._overrideRedirectResult=zJ}_openPopup(e,t,r,i){var s=this;return _(function*(){var o;as(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield cN(e,t,r,tl(),i);return function yZ(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},fZ),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ot().toLowerCase();t&&(a=TO(c)?"_blank":t),bO(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function tY(n=Ot()){var e;return rp(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function vZ(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new uN(null);const d=window.open(e||"",a,l);R(d,n,"popup-blocked");try{d.focus()}catch{}return new uN(d)}(e,a,tC())})()}_openRedirect(e,t,r,i){var s=this;return _(function*(){return yield s._originValidation(e),function pJ(n){Ct().location.href=n}(yield cN(e,t,r,tl(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(as(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return _(function*(){const r=yield function hZ(n){return RC.apply(this,arguments)}(e),i=new YJ(e);return r.register("authEvent",s=>(R(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(OC,{type:OC},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[OC];void 0!==o&&t(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function tZ(n){return xC.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return PO()||zI()||rp()}};var hN="@firebase/auth";class DZ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return _(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const PZ=G1("authIdTokenMaxAge")||300;let pN=null;const xZ=n=>function(){var e=_(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>PZ)return;const s=r?.token;pN!==s&&(pN=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function gN(n=nO()){const e=Zf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function mY(n,e){const t=Zf(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Kf(t.getOptions(),e??{}))return i;On(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:TZ,persistence:[wJ,lJ,QO]}),r=G1("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=xZ(s.toString());(function nJ(n,e,t){ar(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function tJ(n,e,t,r){ar(n).onIdTokenChanged(e,t,r)}(t,a=>o(a))}}const i=$1("auth");return i&&function yY(n,e,t){const r=ht(n);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=FO(e),{host:o,port:a}=function vY(n){const e=FO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:VO(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:VO(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function IY(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function cY(n){ol=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=cr("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function RZ(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function SZ(n){Na(new to("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;R(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xO(n)},c=new uY(r,i,s,u);return function _Y(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Na(new to("auth-internal",e=>{const t=ht(e.getProvider("auth").getImmediate());return new DZ(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(hN,"1.7.2",function AZ(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),wi(hN,"1.7.2","esm2017")}("Browser"),wi("firebase","10.11.1","app");const Dn_apiKey="AIzaSyAf1sfoQYQ1NBf11I7use2SgeYdmV7R1ak",Dn_appId="1:1001517841425:web:e8ad18680dbfe7caca85b0";var V,NZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dr={},FC=FC||{},se=NZ||self;function gp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function gl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var VC="closure_uid_"+(1e9*Math.random()>>>0),VZ=0;function LZ(n,e,t){return n.call.apply(n.bind,arguments)}function UZ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function hn(n,e,t){return(hn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LZ:UZ).apply(null,arguments)}function mp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Bt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ls(){this.s=this.s,this.o=this.o}ls.prototype.s=!1,ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function FZ(n){Object.prototype.hasOwnProperty.call(n,VC)&&n[VC]||(n[VC]=++VZ)}(this)},ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mN=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function LC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function _N(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(gp(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function fn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}fn.prototype.h=function(){this.defaultPrevented=!0};var jZ=function(){if(!se.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{const t=()=>{};se.addEventListener("test",t,e),se.removeEventListener("test",t,e)}catch{}return n}();function ml(n){return/^[\s\xa0]*$/.test(n)}function _p(){var n=se.navigator;return n&&(n=n.userAgent)?n:""}function qr(n){return-1!=_p().indexOf(n)}function UC(n){return UC[" "](n),n}UC[" "]=function(){};var jC,n,HZ=qr("Opera"),Ba=qr("Trident")||qr("MSIE"),yN=qr("Edge"),BC=yN||Ba,vN=qr("Gecko")&&!(-1!=_p().toLowerCase().indexOf("webkit")&&!qr("Edge"))&&!(qr("Trident")||qr("MSIE"))&&!qr("Edge"),GZ=-1!=_p().toLowerCase().indexOf("webkit")&&!qr("Edge");function IN(){var n=se.document;return n?n.documentMode:void 0}e:{var $C="",HC=(n=_p(),vN?/rv:([^\);]+)(\)|;)/.exec(n):yN?/Edge\/([\d\.]+)/.exec(n):Ba?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GZ?/WebKit\/(\S+)/.exec(n):HZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(HC&&($C=HC?HC[1]:""),Ba){var GC=IN();if(null!=GC&&GC>parseFloat($C)){jC=String(GC);break e}}jC=$C}var zZ=se.document&&Ba&&(IN()||parseInt(jC,10))||void 0;function _l(n,e){if(fn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(vN){e:{try{UC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:qZ[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&_l.$.h.call(this)}}Bt(_l,fn);var qZ={2:"touch",3:"pen",4:"mouse"};_l.prototype.h=function(){_l.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var yl="closure_listenable_"+(1e6*Math.random()|0),WZ=0;function KZ(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++WZ,this.fa=this.ia=!1}function yp(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function qC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function CN(n){const e={};for(const t in n)e[t]=n[t];return e}const wN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bN(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<wN.length;s++)t=wN[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vp(n){this.src=n,this.g={},this.h=0}function WC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=mN(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(yp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function KC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}vp.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=KC(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new KZ(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var QC="closure_lm_"+(1e6*Math.random()|0),YC={};function TN(n,e,t,r,i){if(r&&r.once)return AN(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)TN(n,e[s],t,r,i);return null}return t=ew(t),n&&n[yl]?n.O(e,t,gl(r)?!!r.capture:!!r,i):DN(n,e,t,!1,r,i)}function DN(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=gl(i)?!!i.capture:!!i,a=ZC(n);if(a||(n[QC]=a=new vp(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function YZ(){const e=JZ;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jZ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(MN(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function AN(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)AN(n,e[s],t,r,i);return null}return t=ew(t),n&&n[yl]?n.P(e,t,gl(r)?!!r.capture:!!r,i):DN(n,e,t,!0,r,i)}function SN(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)SN(n,e[s],t,r,i);else r=gl(r)?!!r.capture:!!r,t=ew(t),n&&n[yl]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=KC(s=n.g[e],t,r,i))&&(yp(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=ZC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=KC(e,t,r,i)),(t=-1<n?e[n]:null)&&JC(t))}function JC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[yl])WC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(MN(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ZC(e))?(WC(t,n),0==t.h&&(t.src=null,e[QC]=null)):yp(n)}}}function MN(n){return n in YC?YC[n]:YC[n]="on"+n}function JZ(n,e){if(n.fa)n=!0;else{e=new _l(e,this);var t=n.listener,r=n.la||n.src;n.ia&&JC(n),n=t.call(r,e)}return n}function ZC(n){return(n=n[QC])instanceof vp?n:null}var XC="__closure_events_fn_"+(1e9*Math.random()>>>0);function ew(n){return"function"==typeof n?n:(n[XC]||(n[XC]=function(e){return n.handleEvent(e)}),n[XC])}function jt(){ls.call(this),this.i=new vp(this),this.S=this,this.J=null}function Yt(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new fn(e,n);else if(e instanceof fn)e.target=e.target||n;else{var i=e;bN(e=new fn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Ip(o,r,!0,e)&&i}if(i=Ip(o=e.g=n,r,!0,e)&&i,i=Ip(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=Ip(o=e.g=t[s],r,!1,e)&&i}function Ip(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&WC(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Bt(jt,ls),jt.prototype[yl]=!0,jt.prototype.removeEventListener=function(n,e,t,r){SN(this,n,e,t,r)},jt.prototype.N=function(){if(jt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)yp(t[r]);delete n.g[e],n.h--}}this.J=null},jt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},jt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var tw=se.JSON.stringify;function XZ(){var n=nw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var PN=new class ZZ{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new tX,n=>n.reset());class tX{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nX(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function rX(n){se.setTimeout(()=>{throw n},0)}let vl,Il=!1,nw=new class eX{constructor(){this.h=this.g=null}add(e,t){const r=PN.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},xN=()=>{const n=se.Promise.resolve(void 0);vl=()=>{n.then(iX)}};var iX=()=>{for(var n;n=XZ();){try{n.h.call(n.g)}catch(t){rX(t)}var e=PN;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Il=!1};function Ep(n,e){jt.call(this),this.h=n||1,this.g=e||se,this.j=hn(this.qb,this),this.l=Date.now()}function rw(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function iw(n,e,t){if("function"==typeof n)t&&(n=hn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=hn(n.handleEvent,n)}return 2147483647<Number(e)?-1:se.setTimeout(n,e||0)}function RN(n){n.g=iw(()=>{n.g=null,n.i&&(n.i=!1,RN(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Bt(Ep,jt),(V=Ep.prototype).ga=!1,V.T=null,V.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Yt(this,"tick"),this.ga&&(rw(this),this.start()))}},V.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},V.N=function(){Ep.$.N.call(this),rw(this),delete this.g};class sX extends ls{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RN(this)}N(){super.N(),this.g&&(se.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(n){ls.call(this),this.h=n,this.g={}}Bt(El,ls);var kN=[];function ON(n,e,t,r){Array.isArray(t)||(t&&(kN[0]=t.toString()),t=kN);for(var i=0;i<t.length;i++){var s=TN(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function NN(n){qC(n.g,function(e,t){this.g.hasOwnProperty(t)&&JC(e)},n),n.g={}}function Cp(){this.g=!0}function ja(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cX(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return tw(t)}catch{return e}}(n,t)+(r?" "+r:"")})}El.prototype.N=function(){El.$.N.call(this),NN(this)},El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cp.prototype.Ea=function(){this.g=!1},Cp.prototype.info=function(){};var ao={},FN=null;function wp(){return FN=FN||new jt}function VN(n){fn.call(this,ao.Ta,n)}function Cl(n){const e=wp();Yt(e,new VN(e))}function LN(n,e){fn.call(this,ao.STAT_EVENT,n),this.stat=e}function An(n){const e=wp();Yt(e,new LN(e,n))}function UN(n,e){fn.call(this,ao.Ua,n),this.size=e}function wl(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return se.setTimeout(function(){n()},e)}ao.Ta="serverreachability",Bt(VN,fn),ao.STAT_EVENT="statevent",Bt(LN,fn),ao.Ua="timingevent",Bt(UN,fn);var bp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sw(){}function $N(){}sw.prototype.h=null;var uw,bl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ow(){fn.call(this,"d")}function aw(){fn.call(this,"c")}function Tp(){}function Tl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new El(this),this.P=lX,this.V=new Ep(n=BC?125:void 0),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new HN}function HN(){this.i=null,this.g="",this.h=!1}Bt(ow,fn),Bt(aw,fn),Bt(Tp,sw),Tp.prototype.g=function(){return new XMLHttpRequest},Tp.prototype.i=function(){return{}},uw=new Tp;var lX=45e3,GN={},cw={};function lw(n,e,t){n.L=1,n.A=Mp(Mi(e)),n.u=t,n.S=!0,zN(n,null)}function zN(n,e){n.G=Date.now(),Dl(n),n.B=Mi(n.A);var t=n.B,r=n.W;Array.isArray(r)||(r=[String(r)]),tF(t.i,"t",r),n.o=0,t=n.l.J,n.h=new HN,n.g=TF(n.l,t?e:null,!n.u),0<n.O&&(n.M=new sX(hn(n.Pa,n,n.g),n.O)),ON(n.U,n.g,"readystatechange",n.nb),e=n.I?CN(n.I):{},n.u?(n.v||(n.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.B,n.v,n.u,e)):(n.v="GET",n.g.ha(n.B,n.v,null,e)),Cl(),function oX(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.v,n.B,n.m,n.W,n.u)}function qN(n){return!!n.g&&"GET"==n.v&&2!=n.L&&n.l.Ha}function WN(n,e,t){let i,r=!0;for(;!n.J&&n.o<t.length;){if(i=dX(n,t),i==cw){4==e&&(n.s=4,An(14),r=!1),ja(n.j,n.m,null,"[Incomplete Response]");break}if(i==GN){n.s=4,An(15),ja(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ja(n.j,n.m,i,null),dw(n,i)}qN(n)&&0!=n.o&&(n.h.g=n.h.g.slice(n.o),n.o=0),4!=e||0!=t.length||n.h.h||(n.s=1,An(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),yw(e),e.M=!0,An(11))):(ja(n.j,n.m,t,"[Invalid Chunked Response]"),uo(n),Al(n))}function dX(n,e){var t=n.o,r=e.indexOf("\n",t);return-1==r?cw:(t=Number(e.substring(t,r)),isNaN(t)?GN:(r+=1)+t>e.length?cw:(e=e.slice(r,r+t),n.o=r+t,e))}function Dl(n){n.Y=Date.now()+n.P,KN(n,n.P)}function KN(n,e){if(null!=n.C)throw Error("WatchDog timer not null");n.C=wl(hn(n.lb,n),e)}function Dp(n){n.C&&(se.clearTimeout(n.C),n.C=null)}function Al(n){0==n.l.H||n.J||EF(n.l,n)}function uo(n){Dp(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,rw(n.V),NN(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function dw(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||hw(t.i,n)))if(!n.K&&hw(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Np(t),kp(t)}_w(t),An(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=wl(hn(t.ib,t),6e3));if(1>=iF(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else lo(t,11)}else if((n.K||t.g==n)&&Np(t),!ml(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const l=c[3];null!=l&&(t.ra=l,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(fw(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,ze(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=bF(r,r.J?r.pa:null,r.Y),o.K){sF(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.C&&(Dp(a),Dl(a)),r.g=o}else vF(r);0<t.j.length&&Op(t)}else"stop"!=c[0]&&"close"!=c[0]||lo(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?lo(t,7):mw(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Cl()}catch{}}function QN(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(gp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fX(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(gp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hX(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(gp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(V=Tl.prototype).setTimeout=function(n){this.P=n},V.nb=function(n){n=n.target;const e=this.M;e&&3==Wr(n)?e.l():this.Pa(n)},V.Pa=function(n){try{if(n==this.g)e:{const l=Wr(this.g);var e=this.g.Ia();if(this.g.da(),!(3>l)&&(3!=l||BC||this.g&&(this.h.h||this.g.ja()||fF(this.g)))){this.J||4!=l||7==e||Cl(),Dp(this);var t=this.g.da();this.ca=t;t:if(qN(this)){var r=fF(this.g);n="";var i=r.length,s=4==Wr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uo(this),Al(this);var o="";break t}this.h.i=new se.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=n,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function aX(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.v,this.B,this.m,this.W,l,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ml(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.s=3,An(12),uo(this),Al(this);break e}ja(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dw(this,t)}this.S?(WN(this,l,o),BC&&this.i&&3==l&&(ON(this.U,this.V,"tick",this.mb),this.V.start())):(ja(this.j,this.m,o,null),dw(this,o)),4==l&&uo(this),this.i&&!this.J&&(4==l?EF(this.l,this):(this.i=!1,Dl(this)))}else(function xX(n){const e={};n=(n.g&&2<=Wr(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(ml(n[r]))continue;var t=nX(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function QZ(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.s=3,An(12)):(this.s=0,An(13)),uo(this),Al(this)}}}catch{}},V.mb=function(){if(this.g){var n=Wr(this.g),e=this.g.ja();this.o<e.length&&(Dp(this),WN(this,n,e),this.i&&4!=n&&Dl(this))}},V.cancel=function(){this.J=!0,uo(this)},V.lb=function(){this.C=null;const n=Date.now();0<=n-this.Y?(function uX(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.B),2!=this.L&&(Cl(),An(17)),uo(this),this.s=2,Al(this)):KN(this,this.Y-n)};var YN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof co){this.h=n.h,Ap(this,n.j),this.s=n.s,this.g=n.g,Sp(this,n.m),this.l=n.l;var e=n.i,t=new Pl;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),JN(this,t),this.o=n.o}else n&&(e=String(n).match(YN))?(this.h=!1,Ap(this,e[1]||"",!0),this.s=Sl(e[2]||""),this.g=Sl(e[3]||"",!0),Sp(this,e[4]),this.l=Sl(e[5]||"",!0),JN(this,e[6]||"",!0),this.o=Sl(e[7]||"")):(this.h=!1,this.i=new Pl(null,this.h))}function Mi(n){return new co(n)}function Ap(n,e,t){n.j=t?Sl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Sp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function JN(n,e,t){e instanceof Pl?(n.i=e,function IX(n,e){e&&!n.j&&(ds(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(XN(this,r),tF(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ml(e,yX)),n.i=new Pl(e,n.h))}function ze(n,e,t){n.i.set(e,t)}function Mp(n){return ze(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Sl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ml(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gX),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gX(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}co.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ml(e,ZN,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ml(e,ZN,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ml(t,"/"==t.charAt(0)?_X:mX,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ml(t,vX)),n.join("")};var ZN=/[#\/\?@]/g,mX=/[#\?:]/g,_X=/[#\?]/g,yX=/[#\?@]/g,vX=/#/g;function Pl(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ds(n){n.g||(n.g=new Map,n.h=0,n.i&&function pX(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function XN(n,e){ds(n),e=$a(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function eF(n,e){return ds(n),e=$a(n,e),n.g.has(e)}function tF(n,e,t){XN(n,e),0<t.length&&(n.i=null,n.g.set($a(n,e),LC(t)),n.h+=t.length)}function $a(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function nF(n){this.l=n||CX,n=se.PerformanceNavigationTiming?0<(n=se.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(se.g&&se.g.Ka&&se.g.Ka()&&se.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(V=Pl.prototype).add=function(n,e){ds(this),this.i=null,n=$a(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},V.forEach=function(n,e){ds(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},V.ta=function(){ds(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},V.Z=function(n){ds(this);let e=[];if("string"==typeof n)eF(this,n)&&(e=e.concat(this.g.get($a(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},V.set=function(n,e){return ds(this),this.i=null,eF(this,n=$a(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},V.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},V.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var CX=10;function rF(n){return!!n.h||!!n.g&&n.g.size>=n.j}function iF(n){return n.h?1:n.g?n.g.size:0}function hw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function fw(n,e){n.g?n.g.add(e):n.h=e}function sF(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function oF(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return LC(n.i)}function bX(){this.g=new class{stringify(n){return se.JSON.stringify(n,void 0)}parse(n){return se.JSON.parse(n,void 0)}}}function TX(n,e,t){const r=t||"";try{QN(n,function(i,s){let o=i;gl(i)&&(o=tw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function xl(n){this.l=n.ec||null,this.j=n.ob||!1}function xp(n,e){jt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=pw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nF.prototype.cancel=function(){if(this.i=oF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bt(xl,sw),xl.prototype.g=function(){return new xp(this.l,this.j)},xl.prototype.i=function(n){return function(){return n}}({}),Bt(xp,jt);var pw=0;function aF(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Rl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,kl(n)}function kl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(V=xp.prototype).open=function(n,e){if(this.readyState!=pw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,kl(this)},V.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||se).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},V.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rl(this)),this.readyState=pw},V.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof se.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aF(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},V.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Rl(this):kl(this),3==this.readyState&&aF(this)}},V.Za=function(n){this.g&&(this.response=this.responseText=n,Rl(this))},V.Ya=function(n){this.g&&(this.response=n,Rl(this))},V.ka=function(){this.g&&Rl(this)},V.setRequestHeader=function(n,e){this.v.append(n,e)},V.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},V.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(xp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var AX=se.JSON.parse;function at(n){jt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uF,this.L=this.M=!1}Bt(at,jt);var uF="",SX=/^https?$/i,MX=["POST","PUT"];function cF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,lF(n),Rp(n)}function lF(n){n.F||(n.F=!0,Yt(n,"complete"),Yt(n,"error"))}function dF(n){if(n.h&&typeof FC<"u"&&(!n.C[1]||4!=Wr(n)||2!=n.da()))if(n.v&&4==Wr(n))iw(n.La,0,n);else if(Yt(n,"readystatechange"),4==Wr(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(YN)[1]||null;!i&&se.self&&se.self.location&&(i=se.self.location.protocol.slice(0,-1)),r=!SX.test(i?i.toLowerCase():"")}t=r}if(t)Yt(n,"complete"),Yt(n,"success");else{n.m=6;try{var s=2<Wr(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",lF(n)}}finally{Rp(n)}}}function Rp(n,e){if(n.g){hF(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Yt(n,"ready");try{t.onreadystatechange=r}catch{}}}function hF(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(se.clearTimeout(n.A),n.A=null)}function Wr(n){return n.g?n.g.readyState:0}function fF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case uF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function pF(n){let e="";return qC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function gw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=pF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ze(n,e,t))}function Ol(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function gF(n){this.Ga=0,this.j=[],this.l=new Cp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ol("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ol("baseRetryDelayMs",5e3,n),this.hb=Ol("retryDelaySeedMs",1e4,n),this.eb=Ol("forwardChannelMaxRetries",2,n),this.xa=Ol("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new nF(n&&n.concurrentRequestLimit),this.Ja=new bX,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function mw(n){if(mF(n),3==n.H){var e=n.W++,t=Mi(n.I);if(ze(t,"SID",n.K),ze(t,"RID",e),ze(t,"TYPE","terminate"),Nl(n,t),(e=new Tl(n,n.l,e)).L=2,e.A=Mp(Mi(t)),t=!1,se.navigator&&se.navigator.sendBeacon)try{t=se.navigator.sendBeacon(e.A.toString(),"")}catch{}!t&&se.Image&&((new Image).src=e.A,t=!0),t||(e.g=TF(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Dl(e)}wF(n)}function kp(n){n.g&&(yw(n),n.g.cancel(),n.g=null)}function mF(n){kp(n),n.u&&(se.clearTimeout(n.u),n.u=null),Np(n),n.i.cancel(),n.m&&("number"==typeof n.m&&se.clearTimeout(n.m),n.m=null)}function Op(n){if(!rF(n.i)&&!n.m){n.m=!0;var e=n.Na;vl||xN(),Il||(vl(),Il=!0),nw.add(e,n),n.C=0}}function _F(n,e){var t;t=e?e.m:n.W++;const r=Mi(n.I);ze(r,"SID",n.K),ze(r,"RID",t),ze(r,"AID",n.V),Nl(n,r),n.o&&n.s&&gw(r,n.o,n.s),t=new Tl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=yF(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),fw(n.i,t),lw(t,r,e)}function Nl(n,e){n.na&&qC(n.na,function(t,r){ze(e,r,t)}),n.h&&QN({},function(t,r){ze(e,r,t)})}function yF(n,e,t){t=Math.min(n.j.length,t);var r=n.h?hn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let c=i[u].g;const l=i[u].map;if(c-=s,0>c)s=Math.max(0,i[u].g-100),a=!1;else try{TX(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function vF(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;vl||xN(),Il||(vl(),Il=!0),nw.add(e,n),n.A=0}}function _w(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=wl(hn(n.Ma,n),CF(n,n.A)),n.A++,0))}function yw(n){null!=n.B&&(se.clearTimeout(n.B),n.B=null)}function IF(n){n.g=new Tl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Mi(n.wa);ze(e,"RID","rpc"),ze(e,"SID",n.K),ze(e,"AID",n.V),ze(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&ze(e,"TO",n.qa),ze(e,"TYPE","xmlhttp"),Nl(n,e),n.o&&n.s&&gw(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.A=Mp(Mi(e)),t.u=null,t.S=!0,zN(t,n)}function Np(n){null!=n.v&&(se.clearTimeout(n.v),n.v=null)}function EF(n,e){var t=null;if(n.g==e){Np(n),yw(n),n.g=null;var r=2}else{if(!hw(n.i,e))return;t=e.F,sF(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.u?e.u.length:0,e=Date.now()-e.G;var i=n.C;Yt(r=wp(),new UN(r,t)),Op(n)}else vF(n);else if(3==(i=e.s)||0==i&&0<e.ca||!(1==r&&function RX(n,e){return!(iF(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=wl(hn(n.Na,n,e),CF(n,n.C)),n.C++,0)))}(n,e)||2==r&&_w(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:lo(n,5);break;case 4:lo(n,10);break;case 3:lo(n,6);break;default:lo(n,2)}}function CF(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function lo(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=hn(n.pb,n);t||(t=new co("//www.google.com/images/cleardot.gif"),se.location&&"http"==se.location.protocol||Ap(t,"https"),Mp(t)),function DX(n,e){const t=new Cp;if(se.Image){const r=new Image;r.onload=mp(Pp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=mp(Pp,t,r,"TestLoadImage: error",!1,e),r.onabort=mp(Pp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=mp(Pp,t,r,"TestLoadImage: timeout",!1,e),se.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else An(2);n.H=0,n.h&&n.h.za(e),wF(n),mF(n)}function wF(n){if(n.H=0,n.ma=[],n.h){const e=oF(n.i);(0!=e.length||0!=n.j.length)&&(_N(n.ma,e),_N(n.ma,n.j),n.i.i.length=0,LC(n.j),n.j.length=0),n.h.ya()}}function bF(n,e,t){var r=t instanceof co?Mi(t):new co(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Sp(r,r.m);else{var i=se.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new co(null);r&&Ap(s,r),e&&(s.g=e),i&&Sp(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&ze(r,t,e),ze(r,"VER",n.ra),Nl(n,r),r}function TF(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new at(n.Ha&&!n.va?new xl({ob:t}):n.va)).Oa(n.J),e}function DF(){}function Fp(){if(Ba&&!(10<=Number(zZ)))throw Error("Environmental error: no available transport.")}function Kn(n,e){jt.call(this),this.g=new gF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!ml(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ml(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Ha(this)}function AF(n){ow.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SF(){aw.call(this),this.status=1}function Ha(n){this.g=n}function Ar(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function vw(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function xe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(V=at.prototype).Oa=function(n){this.M=n},V.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():uw.g(),this.C=function jN(n){return n.h||(n.h=n.i())}(this.u?this.u:uw),this.g.onreadystatechange=hn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void cF(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=se.FormData&&n instanceof se.FormData,!(0<=mN(MX,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hF(this),0<this.B&&((this.L=function PX(n){return Ba&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=hn(this.ua,this)):this.A=iw(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){cF(this,s)}},V.ua=function(){typeof FC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yt(this,"timeout"),this.abort(8))},V.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yt(this,"complete"),Yt(this,"abort"),Rp(this))},V.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rp(this,!0)),at.$.N.call(this)},V.La=function(){this.s||(this.G||this.v||this.l?dF(this):this.kb())},V.kb=function(){dF(this)},V.isActive=function(){return!!this.g},V.da=function(){try{return 2<Wr(this)?this.g.status:-1}catch{return-1}},V.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},V.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),AX(e)}},V.Ia=function(){return this.m},V.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(V=gF.prototype).ra=8,V.H=1,V.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Tl(this,this.l,n);let s=this.s;if(this.U&&(s?(s=CN(s),bN(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=yF(this,i,e),ze(t=Mi(this.I),"RID",n),ze(t,"CVER",22),this.F&&ze(t,"X-HTTP-Session-Id",this.F),Nl(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(pF(s)))+"&"+e:this.o&&gw(t,this.o,s)),fw(this.i,i),this.bb&&ze(t,"TYPE","init"),this.P?(ze(t,"$req",e),ze(t,"SID","null"),i.aa=!0,lw(i,t,null)):lw(i,t,e),this.H=2}}else 3==this.H&&(n?_F(this,n):0==this.j.length||rF(this.i)||_F(this))},V.Ma=function(){if(this.u=null,IF(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=wl(hn(this.jb,this),n)}},V.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,An(10),kp(this),IF(this))},V.ib=function(){null!=this.v&&(this.v=null,kp(this),_w(this),An(19))},V.pb=function(n){n?(this.l.info("Successfully pinged google.com"),An(2)):(this.l.info("Failed to ping google.com"),An(1))},V.isActive=function(){return!!this.h&&this.h.isActive(this)},(V=DF.prototype).Ba=function(){},V.Aa=function(){},V.za=function(){},V.ya=function(){},V.isActive=function(){return!0},V.Va=function(){},Fp.prototype.g=function(n,e){return new Kn(n,e)},Bt(Kn,jt),Kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;An(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=bF(n,null,n.Y),Op(n)},Kn.prototype.close=function(){mw(this.g)},Kn.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=tw(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Op(e)},Kn.prototype.N=function(){this.g.h=null,delete this.j,mw(this.g),delete this.g,Kn.$.N.call(this)},Bt(AF,ow),Bt(SF,aw),Bt(Ha,DF),Ha.prototype.Ba=function(){Yt(this.g,"a")},Ha.prototype.Aa=function(n){Yt(this.g,new AF(n))},Ha.prototype.za=function(n){Yt(this.g,new SF)},Ha.prototype.ya=function(){Yt(this.g,"b")},Bt(Ar,function kX(){this.blockSize=-1}),Ar.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ar.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)vw(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){vw(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){vw(this,r),i=0;break}}this.h=i,this.i+=e},Ar.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var OX={};function Iw(n){return-128<=n&&128>n?function $Z(n,e){var t=OX;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new xe([0|e],0>e?-1:0)}):new xe([0|n],0>n?-1:0)}function Kr(n){if(isNaN(n)||!isFinite(n))return Ga;if(0>n)return Jt(Kr(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Ew;return new xe(e,0)}var Ew=4294967296,Ga=Iw(0),Cw=Iw(1),PF=Iw(16777216);function Pi(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function dr(n){return-1==n.h}function Jt(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new xe(t,~n.h).add(Cw)}function Vp(n,e){return n.add(Jt(e))}function Lp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Fl(n,e){this.g=n,this.h=e}function Up(n,e){if(Pi(e))throw Error("division by zero");if(Pi(n))return new Fl(Ga,Ga);if(dr(n))return e=Up(Jt(n),e),new Fl(Jt(e.g),Jt(e.h));if(dr(e))return e=Up(n,Jt(e)),new Fl(Jt(e.g),e.h);if(30<n.g.length){if(dr(n)||dr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Cw,r=e;0>=r.X(n);)t=xF(t),r=xF(r);var i=za(t,1),s=za(r,1);for(r=za(r,2),t=za(t,2);!Pi(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=za(r,1),t=za(t,1)}return e=Vp(n,i.R(e)),new Fl(i,e)}for(i=Ga;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Kr(t)).R(e);dr(o)||0<o.X(n);)o=(s=Kr(t-=r)).R(e);Pi(s)&&(s=Cw),i=i.add(s),n=Vp(n,o)}return new Fl(i,n)}function xF(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new xe(t,n.h)}function za(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new xe(i,n.h)}(V=xe.prototype).ea=function(){if(dr(this))return-Jt(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Ew+r)*e,e*=Ew}return n},V.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Pi(this))return"0";if(dr(this))return"-"+Jt(this).toString(n);for(var e=Kr(Math.pow(n,6)),t=this,r="";;){var i=Up(t,e).g,s=((0<(t=Vp(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Pi(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},V.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},V.X=function(n){return dr(n=Vp(this,n))?-1:Pi(n)?0:1},V.abs=function(){return dr(this)?Jt(this):this},V.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new xe(t,-2147483648&t[t.length-1]?-1:0)},V.R=function(n){if(Pi(this)||Pi(n))return Ga;if(dr(this))return dr(n)?Jt(this).R(Jt(n)):Jt(Jt(this).R(n));if(dr(n))return Jt(this.R(Jt(n)));if(0>this.X(PF)&&0>n.X(PF))return Kr(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,Lp(t,2*r+2*i),t[2*r+2*i+1]+=s*u,Lp(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Lp(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Lp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new xe(t,0)},V.gb=function(n){return Up(this,n).h},V.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new xe(t,this.h&n.h)},V.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new xe(t,this.h|n.h)},V.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new xe(t,this.h^n.h)},Fp.prototype.createWebChannel=Fp.prototype.g,Kn.prototype.send=Kn.prototype.u,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,bp.NO_ERROR=0,bp.TIMEOUT=8,bp.HTTP_ERROR=6,BN.COMPLETE="complete",$N.EventType=bl,bl.OPEN="a",bl.CLOSE="b",bl.ERROR="c",bl.MESSAGE="d",jt.prototype.listen=jt.prototype.O,at.prototype.listenOnce=at.prototype.P,at.prototype.getLastError=at.prototype.Sa,at.prototype.getLastErrorCode=at.prototype.Ia,at.prototype.getStatus=at.prototype.da,at.prototype.getResponseJson=at.prototype.Wa,at.prototype.getResponseText=at.prototype.ja,at.prototype.send=at.prototype.ha,at.prototype.setWithCredentials=at.prototype.Oa,Ar.prototype.digest=Ar.prototype.l,Ar.prototype.reset=Ar.prototype.reset,Ar.prototype.update=Ar.prototype.j,xe.prototype.add=xe.prototype.add,xe.prototype.multiply=xe.prototype.R,xe.prototype.modulo=xe.prototype.gb,xe.prototype.compare=xe.prototype.X,xe.prototype.toNumber=xe.prototype.ea,xe.prototype.toString=xe.prototype.toString,xe.prototype.getBits=xe.prototype.D,xe.fromNumber=Kr,xe.fromString=function MF(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Jt(MF(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Kr(Math.pow(e,8)),r=Ga,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Kr(Math.pow(e,s)),r=r.R(s).add(Kr(o))):r=(r=r.R(t)).add(Kr(o))}return r};var NX=Dr.createWebChannelTransport=function(){return new Fp},FX=Dr.getStatEventTarget=function(){return wp()},ww=Dr.ErrorCode=bp,VX=Dr.EventType=BN,LX=Dr.Event=ao,RF=Dr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UX=Dr.FetchXmlHttpFactory=xl,Bp=Dr.WebChannel=$N,BX=Dr.XhrIo=at,jX=Dr.Md5=Ar,qa=Dr.Integer=xe;const kF="@firebase/firestore";class $t{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");let Wa="10.11.1";const hs=new fI("@firebase/firestore");function Ka(){return hs.logLevel}function S(n,...e){if(hs.logLevel<=me.DEBUG){const t=e.map(bw);hs.debug(`Firestore (${Wa}): ${n}`,...t)}}function ft(n,...e){if(hs.logLevel<=me.ERROR){const t=e.map(bw);hs.error(`Firestore (${Wa}): ${n}`,...t)}}function Qn(n,...e){if(hs.logLevel<=me.WARN){const t=e.map(bw);hs.warn(`Firestore (${Wa}): ${n}`,...t)}}function bw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function $(n="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+n;throw ft(e),new Error(e)}function G(n,e){n||$()}function O(n,e){return n}const E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class OF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $X{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t($t.UNAUTHENTICATED))}shutdown(){}}class HX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class GX{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let o=new Nt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(_(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(G("string"==typeof r.accessToken),new OF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return G(null===e||"string"==typeof e),new $t(e)}}class zX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new zX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(G("string"==typeof t.token),this.R=t.token,new NF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function KX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class FF{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=KX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function re(n,e){return n<e?-1:n>e?1:0}function Qa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class nt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return nt.fromMillis(Date.now())}static fromDate(e){return nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new nt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new nt(0,0))}static max(){return new z(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vl{constructor(e,t,r){void 0===t?t=0:t>e.length&&$(),void 0===r?r=e.length-t:r>e.length-t&&$(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _e extends Vl{construct(e,t,r){return new _e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(E.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _e(t)}static emptyPath(){return new _e([])}}const QX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Vl{construct(e,t,r){return new Ye(e,t,r)}static isValidIdentifier(e){return QX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ye(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new M(E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new M(E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new M(E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ye(t)}static emptyPath(){return new Ye([])}}class F{constructor(e){this.path=e}static fromPath(e){return new F(_e.fromString(e))}static fromName(e){return new F(_e.fromString(e).popFirst(5))}static empty(){return new F(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new F(new _e(e.slice()))}}function UF(n){return new Yn(n.readTime,n.key,-1)}class Yn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yn(z.min(),F.empty(),-1)}static max(){return new Yn(z.max(),F.empty(),-1)}}function Dw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=F.comparator(n.documentKey,e.documentKey),0!==t?t:re(n.largestBatchId,e.largestBatchId))}const BF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function fs(n){return Aw.apply(this,arguments)}function Aw(){return Aw=_(function*(n){if(n.code!==E.FAILED_PRECONDITION||n.message!==BF)throw n;S("LocalStore","Unexpectedly lost primary lease")}),Aw.apply(this,arguments)}class I{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new I((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof I?t:I.resolve(t)}catch(t){return I.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):I.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):I.reject(t)}static resolve(e){return new I((t,r)=>{t(e)})}static reject(e){return new I((t,r)=>{r(e)})}static waitFor(e){return new I((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=I.resolve(!1);for(const r of e)t=t.next(i=>i?I.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new I((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;t(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new I((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function ps(n){return"IndexedDbTransactionError"===n.name}let Jn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ul(n){return null==n}function Bl(n){return 0===n&&1/n==-1/0}function YF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class je{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new je(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hp(this.root,e,this.comparator,!0)}}class Hp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Zt.RED,this.left=i??Zt.EMPTY,this.right=s??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Zt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $();const e=this.left.check();if(e!==this.right.check())throw $();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1,Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw $()}get value(){throw $()}get color(){throw $()}get left(){throw $()}get right(){throw $()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ZF(this.data.getIterator())}getIteratorFrom(e){return new ZF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ke(this.comparator);return t.data=e,t}}class ZF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Nn{constructor(e){this.fields=e,e.sort(Ye.comparator)}static empty(){return new Nn([])}unionWith(e){let t=new ke(Ye.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class XF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new XF("Invalid base64 string: "+s):s}}(e);return new Ft(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Cee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(n){if(G(!!n),"string"==typeof n){let e=0;const t=Cee.exec(n);if(G(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ut(n.seconds),nanos:ut(n.nanos)}}function ut(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ri(n){return"string"==typeof n?Ft.fromBase64String(n):Ft.fromUint8Array(n)}function Gp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function zp(n){const e=n.mapValue.fields.__previous_value__;return Gp(e)?zp(e):e}function jl(n){const e=xi(n.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}class wee{constructor(e,t,r,i,s,o,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class go{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new go("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof go&&e.projectId===this.projectId&&e.database===this.database}}const ms_mapValue={fields:{__type__:{stringValue:"__max__"}}};function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Gp(n)?4:rV(n)?9007199254740991:10:$()}function Jr(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return jl(n).isEqual(jl(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=xi(i.timestampValue),a=xi(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Ri(n.bytesValue).isEqual(Ri(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ut(i.geoPointValue.latitude)===ut(s.geoPointValue.latitude)&&ut(i.geoPointValue.longitude)===ut(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ut(i.integerValue)===ut(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=ut(i.doubleValue),a=ut(s.doubleValue);return o===a?Bl(o)===Bl(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Qa(n.arrayValue.values||[],e.arrayValue.values||[],Jr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(YF(o)!==YF(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===a[u]||!Jr(o[u],a[u])))return!1;return!0}(n,e);default:return $()}var s}function $l(n,e){return void 0!==(n.values||[]).find(t=>Jr(t,e))}function ys(n,e){if(n===e)return 0;const t=_s(n),r=_s(e);if(t!==r)return re(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=ut(s.integerValue||s.doubleValue),u=ut(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return eV(n.timestampValue,e.timestampValue);case 4:return eV(jl(n),jl(e));case 5:return re(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Ri(s),u=Ri(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const l=re(a[c],u[c]);if(0!==l)return l}return re(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(ut(s.latitude),ut(o.latitude));return 0!==a?a:re(ut(s.longitude),ut(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const l=ys(a[c],u[c]);if(l)return l}return re(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ms_mapValue&&o===ms_mapValue)return 0;if(s===ms_mapValue)return 1;if(o===ms_mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},l=Object.keys(c);u.sort(),l.sort();for(let d=0;d<u.length&&d<l.length;++d){const h=re(u[d],l[d]);if(0!==h)return h;const f=ys(a[u[d]],c[l[d]]);if(0!==f)return f}return re(u.length,l.length)}(n.mapValue,e.mapValue);default:throw $()}}function eV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return re(n,e);const t=xi(n),r=xi(e),i=re(t.seconds,r.seconds);return 0!==i?i:re(t.nanos,r.nanos)}function Xa(n){return Pw(n)}function Pw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=xi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ri(n.bytesValue).toBase64():"referenceValue"in n?F.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=Pw(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Pw(t.fields[o])}`;return i+"}"}(n.mapValue):$()}function xw(n){return!!n&&"integerValue"in n}function Hl(n){return!!n&&"arrayValue"in n}function tV(n){return!!n&&"nullValue"in n}function nV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kp(n){return!!n&&"mapValue"in n}function Gl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function rV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gl(t)}setAll(e){let t=Ye.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=Gl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Kp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(Gl(this.value))}}function oV(n){const e=[];return gs(n.fields,(t,r)=>{const i=new Ye([t]);if(Kp(r)){const s=oV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Nn(e)}class qe{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qe(e,0,z.min(),z.min(),z.min(),Xt.empty(),0)}static newFoundDocument(e,t,r,i){return new qe(e,1,t,z.min(),r,i,0)}static newNoDocument(e,t){return new qe(e,2,t,z.min(),z.min(),Xt.empty(),0)}static newUnknownDocument(e,t){return new qe(e,3,t,z.min(),z.min(),Xt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class vs{constructor(e,t){this.position=e,this.inclusive=t}}function aV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?F.comparator(F.fromName(o.referenceValue),t.key):ys(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function uV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jr(n.position[t],e.position[t]))return!1;return!0}class zl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class cV{}class ye extends cV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Aee(e,t,r):"array-contains"===t?new Pee(e,r):"in"===t?new gV(e,r):"not-in"===t?new xee(e,r):"array-contains-any"===t?new Ree(e,r):new ye(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new See(e,r):new Mee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ys(t,this.value)):null!==t&&_s(this.value)===_s(t)&&this.matchesComparison(ys(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return $()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Re extends cV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Re(e,t)}matches(e){return eu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function eu(n){return"and"===n.op}function kw(n){return function lV(n){for(const e of n.filters)if(e instanceof Re)return!1;return!0}(n)&&eu(n)}function Ow(n){if(n instanceof ye)return n.field.canonicalString()+n.op.toString()+Xa(n.value);if(kw(n))return n.filters.map(e=>Ow(e)).join(",");{const e=n.filters.map(t=>Ow(t)).join(",");return`${n.op}(${e})`}}function dV(n,e){return n instanceof ye?(r=n,(i=e)instanceof ye&&r.op===i.op&&r.field.isEqual(i.field)&&Jr(r.value,i.value)):n instanceof Re?function(r,i){return i instanceof Re&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&dV(o,i.filters[a]),!0)}(n,e):void $();var r,i}function fV(n){return n instanceof ye?`${(t=n).field.canonicalString()} ${t.op} ${Xa(t.value)}`:n instanceof Re?function(t){return t.op.toString()+" {"+t.getFilters().map(fV).join(" ,")+"}"}(n):"Filter";var t}class Aee extends ye{constructor(e,t,r){super(e,t,r),this.key=F.fromName(r.referenceValue)}matches(e){const t=F.comparator(e.key,this.key);return this.matchesComparison(t)}}class See extends ye{constructor(e,t){super(e,"in",t),this.keys=pV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mee extends ye{constructor(e,t){super(e,"not-in",t),this.keys=pV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function pV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>F.fromName(r.referenceValue))}class Pee extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hl(t)&&$l(t.arrayValue,this.value)}}class gV extends ye{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$l(this.value.arrayValue,t)}}class xee extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$l(this.value.arrayValue,t)}}class Ree extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$l(this.value.arrayValue,r))}}class kee{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Nw(n,e=null,t=[],r=[],i=null,s=null,o=null){return new kee(n,e,t,r,i,s,o)}function _o(n){const e=O(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ow(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Ul(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Xa(r)).join(",")),e.ue=t}return e.ue}function ql(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Dee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uV(n.startAt,e.startAt)&&uV(n.endAt,e.endAt)}function Qp(n){return F.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ki{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function tu(n){return new ki(n)}function vV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function nu(n){const e=O(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ke(Ye.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new zl(s,r))}),t.has(Ye.keyField().canonicalString())||e.ce.push(new zl(Ye.keyField(),r))}return e.ce}function Sn(n){const e=O(n);return e.le||(e.le=function IV(n,e){if("F"===n.limitType)return Nw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new zl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new vs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vs(n.startAt.position,n.startAt.inclusive):null;return Nw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,nu(n))),e.le}function Jp(n,e,t){return new ki(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wl(n,e){return ql(Sn(n),Sn(e))&&n.limitType===e.limitType}function EV(n){return`${_o(Sn(n))}|lt:${n.limitType}`}function ru(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>fV(i)).join(", ")}]`),Ul(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Xa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Xa(i)).join(",")),`Target(${r})`}(Sn(n))}; limitType=${n.limitType})`}function Kl(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):F.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of nu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,u){const c=aV(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,nu(r),i)||r.endAt&&!function(o,a,u){const c=aV(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,nu(r),i)));var r,i}function wV(n){return(e,t)=>{let r=!1;for(const i of nu(n)){const s=Oee(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Oee(n,e,t){const r=n.field.isKeyField()?F.comparator(e.key,t.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return null!==u&&null!==c?ys(u,c):$()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return $()}}class Oi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return JF(this.inner)}size(){return this.innerSize}}const Nee=new je(F.comparator);function Fn(){return Nee}const bV=new je(F.comparator);function Ql(...n){let e=bV;for(const t of n)e=e.insert(t.key,t);return e}function TV(n){let e=bV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zr(){return Yl()}function DV(){return Yl()}function Yl(){return new Oi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Fee=new je(F.comparator),Vee=new ke(F.comparator);function le(...n){let e=Vee;for(const t of n)e=e.add(t);return e}const Lee=new ke(re);function AV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function SV(n){return{integerValue:""+n}}function MV(n,e){return function HF(n){return"number"==typeof n&&Number.isInteger(n)&&!Bl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?SV(e):AV(n,e)}class Zp{constructor(){this._=void 0}}function Uee(n,e,t){return n instanceof iu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Gp(s)&&(s=zp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof yo?xV(n,e):n instanceof vo?RV(n,e):function(i,s){const o=PV(i,s),a=kV(o)+kV(i.Pe);return xw(o)&&xw(i.Pe)?SV(a):AV(i.serializer,a)}(n,e)}function Bee(n,e,t){return n instanceof yo?xV(n,e):n instanceof vo?RV(n,e):t}function PV(n,e){return n instanceof su?xw(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class iu extends Zp{}class yo extends Zp{constructor(e){super(),this.elements=e}}function xV(n,e){const t=OV(e);for(const r of n.elements)t.some(i=>Jr(i,r))||t.push(r);return{arrayValue:{values:t}}}class vo extends Zp{constructor(e){super(),this.elements=e}}function RV(n,e){let t=OV(e);for(const r of n.elements)t=t.filter(i=>!Jr(i,r));return{arrayValue:{values:t}}}class su extends Zp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function kV(n){return ut(n.integerValue||n.doubleValue)}function OV(n){return Hl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $ee{constructor(e,t){this.version=e,this.transformResults=t}}class Je{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Je}static exists(e){return new Je(void 0,e)}static updateTime(e){return new Je(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class eg{}function NV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new au(n.key,Je.none()):new ou(n.key,n.data,Je.none());{const t=n.data,r=Xt.empty();let i=new ke(Ye.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Ni(n.key,r,new Nn(i.toArray()),Je.none())}}function Hee(n,e,t){n instanceof ou?function(i,s,o){const a=i.value.clone(),u=LV(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ni?function(i,s,o){if(!Xp(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=LV(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(VV(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zl(n,e,t,r){return n instanceof ou?function(s,o,a,u){if(!Xp(s.precondition,o))return a;const c=s.value.clone(),l=UV(s.fieldTransforms,u,o);return c.setAll(l),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ni?function(s,o,a,u){if(!Xp(s.precondition,o))return a;const c=UV(s.fieldTransforms,u,o),l=o.data;return l.setAll(VV(s)),l.setAll(c),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(n,e,t,r):(a=t,Xp(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function Gee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=PV(r.transform,i||null);null!=s&&(null===t&&(t=Xt.empty()),t.set(r.field,s))}return t||null}function FV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Qa(r,i,(s,o)=>function jee(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof yo&&i instanceof yo||r instanceof vo&&i instanceof vo?Qa(r.elements,i.elements,Jr):r instanceof su&&i instanceof su?Jr(r.Pe,i.Pe):r instanceof iu&&i instanceof iu);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ou extends eg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ni extends eg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function LV(n,e,t){const r=new Map;G(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Bee(o,a,t[i]))}return r}function UV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,Uee(s,o,e))}return r}class au extends eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uw extends eg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Hee(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=DV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const u=NV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),le())}isEqual(e){return this.batchId===e.batchId&&Qa(this.mutations,e.mutations,(t,r)=>FV(t,r))&&Qa(this.baseMutations,e.baseMutations,(t,r)=>FV(t,r))}}class jw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){G(e.mutations.length===r.length);let i=Fee;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jw(e,t,r,i)}}class $w{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class qee{constructor(e,t){this.count=e,this.unchangedNames=t}}var wt,Ce;function BV(n){switch(n){default:return $();case E.CANCELLED:case E.UNKNOWN:case E.DEADLINE_EXCEEDED:case E.RESOURCE_EXHAUSTED:case E.INTERNAL:case E.UNAVAILABLE:case E.UNAUTHENTICATED:return!1;case E.INVALID_ARGUMENT:case E.NOT_FOUND:case E.ALREADY_EXISTS:case E.PERMISSION_DENIED:case E.FAILED_PRECONDITION:case E.ABORTED:case E.OUT_OF_RANGE:case E.UNIMPLEMENTED:case E.DATA_LOSS:return!0}}function jV(n){if(void 0===n)return ft("GRPC error has no .code"),E.UNKNOWN;switch(n){case wt.OK:return E.OK;case wt.CANCELLED:return E.CANCELLED;case wt.UNKNOWN:return E.UNKNOWN;case wt.DEADLINE_EXCEEDED:return E.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return E.RESOURCE_EXHAUSTED;case wt.INTERNAL:return E.INTERNAL;case wt.UNAVAILABLE:return E.UNAVAILABLE;case wt.UNAUTHENTICATED:return E.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return E.INVALID_ARGUMENT;case wt.NOT_FOUND:return E.NOT_FOUND;case wt.ALREADY_EXISTS:return E.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return E.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return E.FAILED_PRECONDITION;case wt.ABORTED:return E.ABORTED;case wt.OUT_OF_RANGE:return E.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return E.UNIMPLEMENTED;case wt.DATA_LOSS:return E.DATA_LOSS;default:return $()}}(Ce=wt||(wt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";const Wee=new qa([4294967295,4294967295],0);function HV(n){const e=function $V(){return new TextEncoder}().encode(n),t=new jX;return t.update(e),new Uint8Array(t.digest())}function GV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new qa([t,r],0),new qa([i,s],0)]}class Hw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Xl(`Invalid padding: ${t}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Xl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Xl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qa.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(qa.fromNumber(r)));return 1===i.compare(Wee)&&(i=new qa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=HV(e),[r,i]=GV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Hw(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=HV(e),[r,i]=GV(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ed{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,td.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ed(z.min(),i,new je(re),Fn(),le())}}class td{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new td(r,t,le(),le(),le())}}class ng{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class zV{constructor(e,t){this.targetId=e,this.me=t}}class qV{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class WV{constructor(){this.fe=0,this.ge=QV(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=le(),t=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:$()}}),new td(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=QV()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,G(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Fn(),this.qe=KV(),this.Qe=new je(re)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:$()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(Qp(s))if(0===r){const o=new F(s.path);this.Ue(t,o,qe.newNoDocument(o,z.min()))}else G(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Ri(r).toUint8Array()}catch(u){if(u instanceof XF)return Qn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Hw(o,i,s)}catch(u){return Qn(u instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Qp(a.target)){const u=new F(a.target.path);null!==this.ke.get(u)||this.it(o,u)||this.Ue(o,u,qe.newNoDocument(u,e))}s.be&&(t.set(o,s.Ce()),s.ve())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ed(e,t,this.Qe,this.ke,r);return this.ke=Fn(),this.qe=KV(),this.Qe=new je(re),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new WV,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ke(re),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||S("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new WV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function KV(){return new je(F.comparator)}function QV(){return new je(F.comparator)}const Qee={asc:"ASCENDING",desc:"DESCENDING"},Yee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jee={and:"AND",or:"OR"};class Zee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Gw(n,e){return n.useProto3Json||Ul(e)?e:{value:e}}function uu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Xee(n,e){return uu(n,e.toTimestamp())}function pt(n){return G(!!n),z.fromTimestamp(function(t){const r=xi(t);return new nt(r.seconds,r.nanos)}(n))}function zw(n,e){return qw(n,e).canonicalString()}function qw(n,e){const t=(i=n,new _e(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function JV(n){const e=_e.fromString(n);return G(aL(e)),e}function nd(n,e){return zw(n.databaseId,e.path)}function Xr(n,e){const t=JV(e);if(t.get(1)!==n.databaseId.projectId)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new F(eL(t))}function ZV(n,e){return zw(n.databaseId,e)}function Ww(n){return new _e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eL(n){return G(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tL(n,e,t){return{name:nd(n,e),fields:t.value.mapValue.fields}}function rL(n,e){return{documents:[ZV(n,e.path)]}}function Qw(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=ZV(n,i);const s=function(c){if(0!==c.length)return oL(Re.create(c,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(c){if(0!==c.length)return c.map(l=>{return{field:Is((h=l).field),direction:ite(h.dir)};var h})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=Gw(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function iL(n){let e=function XV(n){const e=JV(n);return 4===e.length?_e.emptyPath():eL(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){G(1===r);const l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(d){const h=sL(d);return h instanceof Re&&kw(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(h=>{return new zl(cu((p=h).field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Ul(h)?null:h}(t.limit));let u=null;var d;t.startAt&&(u=new vs((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new vs(d.values||[],!d.before)}(t.endAt)),function yV(n,e,t,r,i,s,o,a){return new ki(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function sL(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=cu(t.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(t.unaryFilter.field);return ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=cu(t.unaryFilter.field);return ye.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cu(t.unaryFilter.field);return ye.create(o,"!=",{nullValue:"NULL_VALUE"});default:return $()}}(n):void 0!==n.fieldFilter?ye.create(cu((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Re.create(t.compositeFilter.filters.map(r=>sL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return $()}}(t.compositeFilter.op))}(n):$();var t}function ite(n){return Qee[n]}function ste(n){return Yee[n]}function ote(n){return Jee[n]}function Is(n){return{fieldPath:n.canonicalString()}}function cu(n){return Ye.fromServerFormat(n.fieldPath)}function oL(n){return n instanceof ye?function(t){if("=="===t.op){if(nV(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NAN"}};if(tV(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(nV(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NAN"}};if(tV(t.value))return{unaryFilter:{field:Is(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Is(t.field),op:ste(t.op),value:t.value}}}(n):n instanceof Re?function(t){const r=t.getFilters().map(i=>oL(i));return 1===r.length?r[0]:{compositeFilter:{op:ote(t.op),filters:r}}}(n):$()}function ate(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fi{constructor(e,t,r,i,s=z.min(),o=z.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uL{constructor(e){this.ut=e}}function Yw(n){const e=iL({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Jp(e,e.limit,"L"):e}class wo{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(ut(e.integerValue));else if("doubleValue"in e){const r=ut(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Bl(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Tt(t,20),"string"==typeof r&&(r=xi(r)),t.dt(`${r.seconds||""}`),t.Et(r.nanos||0)}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Ri(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?rV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):$()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),F.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}wo.St=new wo;class gte{constructor(){this.on=new nb}addToCollectionParentIndex(e,t){return this.on.add(t),I.resolve()}getCollectionParents(e,t){return I.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return I.resolve()}deleteFieldIndex(e,t){return I.resolve()}deleteAllFieldIndexes(e){return I.resolve()}createTargetIndexes(e,t){return I.resolve()}getDocumentsMatchingTarget(e,t){return I.resolve(null)}getIndexType(e,t){return I.resolve(0)}getFieldIndexes(e,t){return I.resolve([])}getNextCollectionGroupToUpdate(e){return I.resolve(null)}getMinOffset(e,t){return I.resolve(Yn.min())}getMinOffsetFromCollectionGroup(e,t){return I.resolve(Yn.min())}updateCollectionGroup(e,t,r){return I.resolve()}updateIndexEntries(e,t){return I.resolve()}}class nb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ke(_e.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(_e.comparator)).toArray()}}new Uint8Array(0);class gn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class To{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new To(0)}static Nn(){return new To(-1)}}class bte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class NL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Zl(r.mutation,i,Nn.empty(),nt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,t,r=le()){const i=Zr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Ql();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Zr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,le()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Fn();const o=Yl(),a=Yl();return t.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Ni)?s=s.insert(c.key,c):void 0!==l?(o.set(c.key,l.mutation.getFieldMask()),Zl(l.mutation,c,l.mutation.getFieldMask(),nt.now())):o.set(c.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),t.forEach((c,l)=>{var d;return a.set(c,new bte(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Yl();let i=new je((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let l=r.get(u)||Nn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=DV();l.forEach(h=>{if(!s.has(h)){const f=NV(t.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return I.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return F.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Fw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):I.resolve(Zr());let a=-1,u=s;return o.next(c=>I.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?I.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,le())).next(l=>({batchId:a,changes:TV(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new F(t)).next(r=>{let i=Ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Ql();return this.indexManager.getCollectionParents(e,s).next(a=>I.forEach(a,u=>{const c=(d=t,h=u.child(s),new ki(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,c)=>{const l=c.getKey();null===o.get(l)&&(o=o.insert(l,qe.newInvalidDocument(l)))});let a=Ql();return o.forEach((u,c)=>{const l=s.get(u);void 0!==l&&Zl(l.mutation,c,Nn.empty(),nt.now()),Kl(t,c)&&(a=a.insert(u,c))}),a})}}class Tte{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return I.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:pt(i.createTime)}),I.resolve();var i}getNamedQuery(e,t){return I.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:Yw(i.bundledQuery),readTime:pt(i.readTime)}),I.resolve();var i}}class Dte{constructor(){this.overlays=new je(F.comparator),this.lr=new Map}getOverlay(e,t){return I.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zr();return I.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),I.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),I.resolve()}getOverlaysForCollection(e,t,r){const i=Zr(),s=t.length+1,o=new F(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return I.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new je((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return I.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $w(t,r));let s=this.lr.get(t);void 0===s&&(s=le(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class rb{constructor(){this.hr=new ke(Gt.Pr),this.Ir=new ke(Gt.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new Gt(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new Gt(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new F(new _e([])),r=new Gt(t,e),i=new Gt(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new F(new _e([])),r=new Gt(t,e),i=new Gt(t,e+1);let s=le();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Gt(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Gt{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return F.comparator(e.key,t.key)||re(e.gr,t.gr)}static Tr(e,t){return re(e.gr,t.gr)||F.comparator(e.key,t.key)}}class Ate{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new ke(Gt.Pr)}checkEmpty(e){return I.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new Bw(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new Gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return I.resolve(o)}lookupMutationBatch(e,t){return I.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return I.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return I.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return I.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Gt(t,0),i=new Gt(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),I.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ke(re);return t.forEach(i=>{const s=new Gt(i,0),o=new Gt(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),I.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;F.isDocumentKey(s)||(s=s.child(""));const o=new Gt(new F(s),0);let a=new ke(re);return this.yr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.gr)),!0)},o),I.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){G(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return I.forEach(t.mutations,i=>{const s=new Gt(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new Gt(t,0),i=this.yr.firstAfterOrEqual(r);return I.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return I.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ste{constructor(e){this.Cr=e,this.docs=new je(F.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return I.resolve(r?r.document.mutableCopy():qe.newInvalidDocument(t))}getEntries(e,t){let r=Fn();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qe.newInvalidDocument(i))}),I.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Fn();const o=t.path,a=new F(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:l}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Dw(UF(l),r)<=0||(i.has(l.key)||Kl(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return I.resolve(s)}getAllFromCollectionGroup(e,t,r,i){$()}vr(e,t){return I.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Mte(this)}getSize(e){return I.resolve(this.size)}}class Mte extends class Ete{constructor(){this.changes=new Oi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?I.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),I.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Pte{constructor(e){this.persistence=e,this.Fr=new Oi(t=>_o(t),ql),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new rb,this.targetCount=0,this.Nr=To.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),I.resolve()}getLastRemoteSnapshotVersion(e){return I.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return I.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),I.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),I.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new To(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,I.resolve()}updateTargetData(e,t){return this.kn(t),I.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,I.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),I.waitFor(s).next(()=>i)}getTargetCount(e){return I.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return I.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),I.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),I.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),I.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return I.resolve(r)}containsKey(e,t){return I.resolve(this.Or.containsKey(t))}}class ib{constructor(e,t){this.Lr={},this.overlays={},this.Br=new Jn(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Pte(this),this.indexManager=new gte,this.remoteDocumentCache=new Ste(r=>this.referenceDelegate.Qr(r)),this.serializer=new uL(t),this.Kr=new Tte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Dte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Lr[e.toKey()];return r||(r=new Ate(t,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){S("MemoryPersistence","Starting transaction:",e);const i=new xte(this.Br.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return I.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,t)))}}class xte extends class ZX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Gr=new rb,this.zr=null}static jr(e){return new lg(e)}get Hr(){if(this.zr)return this.zr;throw $()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),I.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),I.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),I.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return I.forEach(this.Hr,r=>{const i=F.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,z.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return I.or([()=>I.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class ub{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=le(),i=le();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ub(e,t.fromCache,r,i)}}class kte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VL{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=function mK(){return!function hK(){var n;const e=null===(n=qf())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function jF(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Ot())>0?6:4}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new kte;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(Ka()<=me.DEBUG&&S("QueryEngine","SDK will not create cache indexes for query:",ru(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),I.resolve()):(Ka()<=me.DEBUG&&S("QueryEngine","Query:",ru(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(Ka()<=me.DEBUG&&S("QueryEngine","The SDK decides to create cache indexes for query:",ru(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sn(t))):I.resolve())}zi(e,t){if(vV(t))return I.resolve(null);let r=Sn(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Jp(t,null,"F"),r=Sn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=le(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Yi(t,a);return this.Zi(t,c,o,u.readTime)?this.zi(e,Jp(t,null,"F")):this.Xi(e,c,t,u)}))})))}ji(e,t,r,i){return vV(t)||i.isEqual(z.min())?I.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?I.resolve(null):(Ka()<=me.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ru(t)),this.Xi(e,o,t,function LF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new nt(t+1,0):new nt(t,r));return new Yn(i,F.empty(),e)}(i,-1)).next(a=>a))})}Yi(e,t){let r=new ke(wV(e));return t.forEach((i,s)=>{Kl(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return Ka()<=me.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",ru(t)),this.Gi.getDocumentsMatchingQuery(e,t,Yn.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Ote{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new je(re),this.ns=new Oi(s=>_o(s),ql),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NL(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function UL(n,e){return cb.apply(this,arguments)}function cb(){return cb=_(function*(n,e){const t=O(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=le();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return t.localDocuments.getDocuments(r,u).next(c=>({_s:c,removedBatchIds:o,addedBatchIds:a}))})})}),cb.apply(this,arguments)}function Nte(n,e){const t=O(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,u,c,l){const d=c.batch,h=d.keys();let f=I.resolve();return h.forEach(p=>{f=f.next(()=>l.getEntry(u,p)).next(g=>{const m=c.docVersions.get(p);G(null!==m),g.version.compareTo(m)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),l.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(u,d))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function BL(n){const e=O(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function Fte(n,e){const t=O(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>t.qr.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,m,v;null!==e.targetMismatches.get(d)?f=f.withResumeToken(Ft.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,v=l,(0===(g=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,f))});let u=Fn(),c=le();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function jL(n,e,t){let r=le(),i=le();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Fn();return t.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(z.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{us:o,cs:i}})}(s,o,e.documentUpdates).next(l=>{u=l.us,c=l.cs})),!r.isEqual(z.min())){const l=t.qr.getLastRemoteSnapshotVersion(s).next(d=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return I.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(t.ts=i,s))}function Vte(n,e){const t=O(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pu(n,e){const t=O(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,I.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new Fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function gu(n,e,t){return lb.apply(this,arguments)}function lb(){return lb=_(function*(n,e,t){const r=O(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ps(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),lb.apply(this,arguments)}function fg(n,e,t){const r=O(n);let i=z.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,l){const d=O(u),h=d.ns.get(l);return void 0!==h?I.resolve(d.ts.get(h)):d.qr.getTargetData(c,l)}(r,o,Sn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:z.min(),t?s:le())).next(a=>(function GL(n,e,t){let r=n.rs.get(e)||z.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}(r,function CV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:s})))}class gb{constructor(){this.activeTargetIds=function Lw(){return Lee}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WL{constructor(){this.eo=new gb,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new gb,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bte{ro(e){}shutdown(){}}class KL{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mg=null;function _b(){return null===mg?mg=268435456+Math.round(2147483648*Math.random()):mg++,"0x"+mg.toString(16)}const jte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $te{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}Eo(e){this.Ao=e}onMessage(e){this.Ro=e}close(){this.lo()}send(e){this.co(e)}Vo(){this.Po()}mo(){this.To()}fo(e){this.Ao(e)}po(e){this.Ro(e)}}const mn="WebChannelConnection";class Hte extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.yo=r+"://"+t.host,this.wo=`projects/${i}/databases/${s}`,this.So="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get bo(){return!1}Do(t,r,i,s,o){const a=_b(),u=this.Co(t,r.toUriEncodedString());S("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.wo,"x-goog-request-params":this.So};return this.vo(c,s,o),this.Fo(t,u,c,i).then(l=>(S("RestConnection",`Received RPC '${t}' ${a}: `,l),l),l=>{throw Qn("RestConnection",`RPC '${t}' ${a} failed with error: `,l,"url: ",u,"request:",i),l})}Mo(t,r,i,s,o,a){return this.Do(t,r,i,s,o)}vo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Wa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}Co(t,r){return`${this.yo}/v1/${r}:${jte[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Fo(e,t,r,i){const s=_b();return new Promise((o,a)=>{const u=new BX;u.setWithCredentials(!0),u.listenOnce(VX.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ww.NO_ERROR:const l=u.getResponseJson();S(mn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case ww.TIMEOUT:S(mn,`RPC '${e}' ${s} timed out`),a(new M(E.DEADLINE_EXCEEDED,"Request time out"));break;case ww.HTTP_ERROR:const d=u.getStatus();if(S(mn,`RPC '${e}' ${s} failed with status:`,d,"response text:",u.getResponseText()),d>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(m){const v=m.toLowerCase().replace(/_/g,"-");return Object.values(E).indexOf(v)>=0?v:E.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(E.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new M(E.UNAVAILABLE,"Connection failed."));break;default:$()}}finally{S(mn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);S(mn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",c,r,15)})}xo(e,t,r){const i=_b(),s=[this.yo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=NX(),a=FX(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new UX({})),this.vo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const l=s.join("");S(mn,`Creating RPC '${e}' stream ${i}: ${l}`,u);const d=o.createWebChannel(l,u);let h=!1,f=!1;const p=new $te({co:m=>{f?S(mn,`Not sending because RPC '${e}' stream ${i} is closed:`,m):(h||(S(mn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),S(mn,`RPC '${e}' stream ${i} sending:`,m),d.send(m))},lo:()=>d.close()}),g=(m,v,C)=>{m.listen(v,y=>{try{C(y)}catch(P){setTimeout(()=>{throw P},0)}})};return g(d,Bp.EventType.OPEN,()=>{f||(S(mn,`RPC '${e}' stream ${i} transport opened.`),p.Vo())}),g(d,Bp.EventType.CLOSE,()=>{f||(f=!0,S(mn,`RPC '${e}' stream ${i} transport closed`),p.fo())}),g(d,Bp.EventType.ERROR,m=>{f||(f=!0,Qn(mn,`RPC '${e}' stream ${i} transport errored:`,m),p.fo(new M(E.UNAVAILABLE,"The operation could not be completed")))}),g(d,Bp.EventType.MESSAGE,m=>{var v;if(!f){const C=m.data[0];G(!!C);const y=C,P=y.error||(null===(v=y[0])||void 0===v?void 0:v.error);if(P){S(mn,`RPC '${e}' stream ${i} received error:`,P);const H=P.status;let K=function(Ui){const Ss=wt[Ui];if(void 0!==Ss)return jV(Ss)}(H),Se=P.message;void 0===K&&(K=E.INTERNAL,Se="Unknown error status: "+H+" with message "+P.message),f=!0,p.fo(new M(K,Se)),d.close()}else S(mn,`RPC '${e}' stream ${i} received:`,C),p.po(C)}}),g(a,LX.STAT_EVENT,m=>{m.stat===RF.PROXY?S(mn,`RPC '${e}' stream ${i} detected buffering proxy`):m.stat===RF.NOPROXY&&S(mn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.mo()},0),p}}function _g(){return typeof document<"u"?document:null}function dd(n){return new Zee(n,!0)}class yb{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Oo=r,this.No=i,this.Lo=s,this.Bo=0,this.ko=null,this.qo=Date.now(),this.reset()}reset(){this.Bo=0}Qo(){this.Bo=this.Lo}Ko(e){this.cancel();const t=Math.floor(this.Bo+this.$o()),r=Math.max(0,Date.now()-this.qo),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Bo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.ko=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.qo=Date.now(),e())),this.Bo*=this.No,this.Bo<this.Oo&&(this.Bo=this.Oo),this.Bo>this.Lo&&(this.Bo=this.Lo)}Uo(){null!==this.ko&&(this.ko.skipDelay(),this.ko=null)}cancel(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}$o(){return(Math.random()-.5)*this.Bo}}class YL{constructor(e,t,r,i,s,o,a,u){this.si=e,this.Wo=r,this.Go=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.zo=0,this.jo=null,this.Ho=null,this.stream=null,this.Jo=new yb(e,t)}Yo(){return 1===this.state||5===this.state||this.Zo()}Zo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Xo()}stop(){var e=this;return _(function*(){e.Yo()&&(yield e.close(0))})()}e_(){this.state=0,this.Jo.reset()}t_(){this.Zo()&&null===this.jo&&(this.jo=this.si.enqueueAfterDelay(this.Wo,6e4,()=>this.n_()))}r_(e){this.i_(),this.stream.send(e)}n_(){var e=this;return _(function*(){if(e.Zo())return e.close(0)})()}i_(){this.jo&&(this.jo.cancel(),this.jo=null)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}close(e,t){var r=this;return _(function*(){r.i_(),r.s_(),r.Jo.cancel(),r.zo++,4!==e?r.Jo.reset():t&&t.code===E.RESOURCE_EXHAUSTED?(ft(t.toString()),ft("Using maximum backoff delay to prevent overloading the backend."),r.Jo.Qo()):t&&t.code===E.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.o_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Eo(t)})()}o_(){}auth(){this.state=1;const e=this.__(this.zo),t=this.zo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.zo===t&&this.a_(r,i)},r=>{e(()=>{const i=new M(E.UNKNOWN,"Fetching auth token failed: "+r.message);return this.u_(i)})})}a_(e,t){const r=this.__(this.zo);this.stream=this.c_(e,t),this.stream.ho(()=>{r(()=>this.listener.ho())}),this.stream.Io(()=>{r(()=>(this.state=2,this.Ho=this.si.enqueueAfterDelay(this.Go,1e4,()=>(this.Zo()&&(this.state=3),Promise.resolve())),this.listener.Io()))}),this.stream.Eo(i=>{r(()=>this.u_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Xo(){var e=this;this.state=5,this.Jo.Ko(_(function*(){e.state=0,e.start()}))}u_(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}__(e){return t=>{this.si.enqueueAndForget(()=>this.zo===e?t():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gte extends YL{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}c_(e,t){return this.connection.xo("Listen",e,t)}onMessage(e){this.Jo.reset();const t=function tte(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:$(),i=e.targetChange.targetIds||[],s=function(c,l){return c.useProto3Json?(G(void 0===l||"string"==typeof l),Ft.fromBase64String(l||"")):(G(void 0===l||l instanceof Buffer||l instanceof Uint8Array),Ft.fromUint8Array(l||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=void 0===c.code?E.UNKNOWN:jV(c.code);return new M(l,c.message||"")}(o);t=new qV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Xr(n,r.document.name),s=pt(r.document.updateTime),o=r.document.createTime?pt(r.document.createTime):z.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=qe.newFoundDocument(i,s,o,a);t=new ng(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Xr(n,r.document),s=r.readTime?pt(r.readTime):z.min(),o=qe.newNoDocument(i,s);t=new ng([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Xr(n,r.document);t=new ng([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return $();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new qee(i,s);t=new zV(r.targetId,o)}}var c;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?z.min():o.readTime?pt(o.readTime):z.min()}(e);return this.listener.l_(t,r)}h_(e){const t={};t.database=Ww(this.serializer),t.addTarget=function(s,o){let a;const u=o.target;if(a=Qp(u)?{documents:rL(s,u)}:{query:Qw(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YV(s,o.resumeToken);const c=Gw(s,o.expectedCount);null!==c&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(z.min())>0){a.readTime=uu(s,o.snapshotVersion.toTimestamp());const c=Gw(s,o.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function rte(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.r_(t)}P_(e){const t={};t.database=Ww(this.serializer),t.removeTarget=e,this.r_(t)}}class zte extends YL{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.I_=!1}get T_(){return this.I_}start(){this.I_=!1,this.lastStreamToken=void 0,super.start()}o_(){this.I_&&this.E_([])}c_(e,t){return this.connection.xo("Write",e,t)}onMessage(e){if(G(!!e.streamToken),this.lastStreamToken=e.streamToken,this.I_){this.Jo.reset();const t=function nte(n,e){return n&&n.length>0?(G(void 0!==e),n.map(t=>function(i,s){let o=pt(i.updateTime?i.updateTime:s);return o.isEqual(z.min())&&(o=pt(s)),new $ee(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=pt(e.commitTime);return this.listener.d_(r,t)}return G(!e.writeResults||0===e.writeResults.length),this.I_=!0,this.listener.A_()}R_(){const e={};e.database=Ww(this.serializer),this.r_(e)}E_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function rd(n,e){let t;if(e instanceof ou)t={update:tL(n,e.key,e.value)};else if(e instanceof au)t={delete:nd(n,e.key)};else if(e instanceof Ni)t={update:tL(n,e.key,e.data),updateMask:ate(e.fieldMask)};else{if(!(e instanceof Uw))return $();t={verify:nd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof iu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof su)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw $()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Xee(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:$()),t;var s}(this.serializer,r))};this.r_(t)}}class qte extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.V_=!1}m_(){if(this.V_)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}Do(e,t,r,i){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Do(e,qw(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(E.UNKNOWN,s.toString())})}Mo(e,t,r,i,s){return this.m_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,qw(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(E.UNKNOWN,o.toString())})}terminate(){this.V_=!0,this.connection.terminate()}}class Kte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ft(t),this.y_=!1):S("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Qte{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.ro(a=>{r.enqueueAndForget(_(function*(){var u;bs(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=_(function*(l){const d=O(l);d.M_.add(4),yield mu(d),d.N_.set("Unknown"),d.M_.delete(4),yield hd(d)}),function c(l){return u.apply(this,arguments)})(o))}))}),this.N_=new Kte(r,i)}}function hd(n){return Ib.apply(this,arguments)}function Ib(){return Ib=_(function*(n){if(bs(n))for(const e of n.x_)yield e(!0)}),Ib.apply(this,arguments)}function mu(n){return Eb.apply(this,arguments)}function Eb(){return Eb=_(function*(n){for(const e of n.x_)yield e(!1)}),Eb.apply(this,arguments)}function yg(n,e){const t=O(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),bb(t)?wb(t):vu(t).Zo()&&Cb(t,e))}function _u(n,e){const t=O(n),r=vu(t);t.F_.delete(e),r.Zo()&&JL(t,e),0===t.F_.size&&(r.Zo()?r.t_():bs(t)&&t.N_.set("Unknown"))}function Cb(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(z.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vu(n).h_(e)}function JL(n,e){n.L_.xe(e),vu(n).P_(e)}function wb(n){n.L_=new Kee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),vu(n).start(),n.N_.w_()}function bb(n){return bs(n)&&!vu(n).Yo()&&n.F_.size>0}function bs(n){return 0===O(n).M_.size}function ZL(n){n.L_=void 0}function Yte(n){return Tb.apply(this,arguments)}function Tb(){return Tb=_(function*(n){n.N_.set("Online")}),Tb.apply(this,arguments)}function Jte(n){return Db.apply(this,arguments)}function Db(){return Db=_(function*(n){n.F_.forEach((e,t)=>{Cb(n,e)})}),Db.apply(this,arguments)}function Zte(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=_(function*(n,e){ZL(n),bb(n)?(n.N_.D_(e),wb(n)):n.N_.set("Unknown")}),Ab.apply(this,arguments)}function Xte(n,e,t){return Sb.apply(this,arguments)}function Sb(){return Sb=_(function*(n,e,t){if(n.N_.set("Online"),e instanceof qV&&2===e.state&&e.cause)try{yield(r=_(function*(s,o){const a=o.cause;for(const u of o.targetIds)s.F_.has(u)&&(yield s.remoteSyncer.rejectListen(u,a),s.F_.delete(u),s.L_.removeTarget(u))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vg(n,r)}else if(e instanceof ng?n.L_.Ke(e):e instanceof zV?n.L_.He(e):n.L_.We(e),!t.isEqual(z.min()))try{const r=yield BL(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const l=s.F_.get(c);l&&s.F_.set(c,l.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const l=s.F_.get(u);if(!l)return;s.F_.set(u,l.withResumeToken(Ft.EMPTY_BYTE_STRING,l.snapshotVersion)),JL(s,u);const d=new Fi(l.target,u,c,l.sequenceNumber);Cb(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield vg(n,r)}var r}),Sb.apply(this,arguments)}function vg(n,e,t){return Mb.apply(this,arguments)}function Mb(){return Mb=_(function*(n,e,t){if(!ps(e))throw e;n.M_.add(1),yield mu(n),n.N_.set("Offline"),t||(t=()=>BL(n.localStore)),n.asyncQueue.enqueueRetryable(_(function*(){S("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield hd(n)}))}),Mb.apply(this,arguments)}function XL(n,e){return e().catch(t=>vg(n,t,e))}function yu(n){return Pb.apply(this,arguments)}function Pb(){return Pb=_(function*(n){const e=O(n),t=Ts(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;ene(e);)try{const i=yield Vte(e.localStore,r);if(null===i){0===e.v_.length&&t.t_();break}r=i.batchId,tne(e,i)}catch(i){yield vg(e,i)}e2(e)&&t2(e)}),Pb.apply(this,arguments)}function ene(n){return bs(n)&&n.v_.length<10}function tne(n,e){n.v_.push(e);const t=Ts(n);t.Zo()&&t.T_&&t.E_(e.mutations)}function e2(n){return bs(n)&&!Ts(n).Yo()&&n.v_.length>0}function t2(n){Ts(n).start()}function nne(n){return xb.apply(this,arguments)}function xb(){return xb=_(function*(n){Ts(n).R_()}),xb.apply(this,arguments)}function rne(n){return Rb.apply(this,arguments)}function Rb(){return Rb=_(function*(n){const e=Ts(n);for(const t of n.v_)e.E_(t.mutations)}),Rb.apply(this,arguments)}function ine(n,e,t){return kb.apply(this,arguments)}function kb(){return kb=_(function*(n,e,t){const r=n.v_.shift(),i=jw.from(r,e,t);yield XL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yu(n)}),kb.apply(this,arguments)}function sne(n,e){return Ob.apply(this,arguments)}function Ob(){return Ob=_(function*(n,e){var t;e&&Ts(n).T_&&(yield(t=_(function*(i,s){if(BV(a=s.code)&&a!==E.ABORTED){const o=i.v_.shift();Ts(i).e_(),yield XL(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield yu(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),e2(n)&&t2(n)}),Ob.apply(this,arguments)}function n2(n,e){return Nb.apply(this,arguments)}function Nb(){return Nb=_(function*(n,e){const t=O(n);t.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=bs(t);t.M_.add(3),yield mu(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield hd(t)}),Nb.apply(this,arguments)}function Vb(){return Vb=_(function*(n,e){const t=O(n);e?(t.M_.delete(2),yield hd(t)):e||(t.M_.add(2),yield mu(t),t.N_.set("Unknown"))}),Vb.apply(this,arguments)}function vu(n){return n.B_||(n.B_=function(t,r,i){const s=O(t);return s.m_(),new Gte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:Yte.bind(null,n),Io:Jte.bind(null,n),Eo:Zte.bind(null,n),l_:Xte.bind(null,n)}),n.x_.push(function(){var e=_(function*(t){t?(n.B_.e_(),bb(n)?wb(n):n.N_.set("Unknown")):(yield n.B_.stop(),ZL(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function Ts(n){return n.k_||(n.k_=function(t,r,i){const s=O(t);return s.m_(),new zte(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:()=>Promise.resolve(),Io:nne.bind(null,n),Eo:sne.bind(null,n),A_:rne.bind(null,n),d_:ine.bind(null,n)}),n.x_.push(function(){var e=_(function*(t){t?(n.k_.e_(),yield yu(n)):(yield n.k_.stop(),n.v_.length>0&&(S("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class Lb{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Nt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Lb(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(n,e){if(ft("AsyncQueue",`${e}: ${n}`),ps(n))return new M(E.UNAVAILABLE,`${e}: ${n}`);throw n}class Eu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||F.comparator(t.key,r.key):(t,r)=>F.comparator(t.key,r.key),this.keyedMap=Ql(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class r2{constructor(){this.q_=new je(F.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):$():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Cu{constructor(e,t,r,i,s,o,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Cu(e,t,Eu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class one{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class ane{constructor(){this.queries=new Oi(e=>EV(e),Wl),this.onlineState="Unknown",this.z_=new Set}}function Bb(){return Bb=_(function*(n,e){const t=O(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new one,r=e.G_()?0:1);try{switch(r){case 0:s.K_=yield t.onListen(i,!0);break;case 1:s.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=Iu(o,`Initialization of query '${ru(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.U_.push(e),e.j_(t.onlineState),s.K_&&e.H_(s.K_)&&Hb(t)}),Bb.apply(this,arguments)}function $b(){return $b=_(function*(n,e){const t=O(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),$b.apply(this,arguments)}function une(n,e){const t=O(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&Hb(t)}function cne(n,e,t){const r=O(n),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(t);r.queries.delete(e)}function Hb(n){n.z_.forEach(e=>{e.next()})}var Gb,i2;(i2=Gb||(Gb={})).J_="default",i2.Cache="cache";class zb{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Cu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=Cu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==Gb.Cache}}class a2{constructor(e){this.key=e}}class u2{constructor(e){this.key=e}}class c2{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=le(),this.mutatedKeys=le(),this.Ia=wV(e),this.Ta=new Eu(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new r2,i=t?t.Ta:this.Ta;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=Kl(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let m=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),m=!0):this.Ra(h,f)||(r.track({type:2,doc:f}),m=!0,(u&&this.Ia(f,u)>0||c&&this.Ia(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),m=!0):h&&!f&&(r.track({type:1,doc:h}),m=!0,(u||c)&&(a=!0)),m&&(f?(o=o.add(f),s=g?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Ta:o,Aa:r,Zi:a,mutatedKeys:s}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((l,d)=>function(f,p){const g=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $()}};return g(f)-g(p)}(l.type,d.type)||this.Ia(l.doc,d.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],u=0===this.Pa.size&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,0!==o.length||c?{snapshot:new Cu(this.query,e.Ta,s,o,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new r2,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=le(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new u2(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new a2(r))}),t}pa(e){this.la=e.ls,this.Pa=le();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Cu.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class hne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fne{constructor(e){this.key=e,this.wa=!1}}class pne{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Oi(a=>EV(a),Wl),this.Da=new Map,this.Ca=new Set,this.va=new je(F.comparator),this.Fa=new Map,this.Ma=new rb,this.xa={},this.Oa=new Map,this.Na=To.Nn(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function gne(n,e){return qb.apply(this,arguments)}function qb(){return qb=_(function*(n,e,t=!0){const r=Ig(n);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=yield l2(r,e,t,!0),i}),qb.apply(this,arguments)}function mne(n,e){return Wb.apply(this,arguments)}function Wb(){return Wb=_(function*(n,e){const t=Ig(n);yield l2(t,e,!0,!1)}),Wb.apply(this,arguments)}function l2(n,e,t,r){return Kb.apply(this,arguments)}function Kb(){return Kb=_(function*(n,e,t,r){const i=yield pu(n.localStore,Sn(e)),s=i.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=yield Qb(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&yg(n.remoteStore,i),a}),Kb.apply(this,arguments)}function Qb(n,e,t,r,i){return Yb.apply(this,arguments)}function Yb(){return Yb=_(function*(n,e,t,r,i){n.Ba=(d,h,f)=>{return(p=_(function*(m,v,C,y){let P=v.view.da(C);P.Zi&&(P=yield fg(m.localStore,v.query,!1).then(({documents:zt})=>v.view.da(zt,P)));const H=y&&y.targetChanges.get(v.targetId),K=y&&null!=y.targetMismatches.get(v.targetId),Se=v.view.applyChanges(P,m.isPrimaryClient,H,K);return aT(m,v.targetId,Se.fa),Se.snapshot}),function g(m,v,C,y){return p.apply(this,arguments)})(n,d,h,f);var p};const s=yield fg(n.localStore,e,!0),o=new c2(e,s.ls),a=o.da(s.documents),u=td.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=o.applyChanges(a,n.isPrimaryClient,u);aT(n,t,c.fa);const l=new hne(e,t,o);return n.ba.set(e,l),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot}),Yb.apply(this,arguments)}function _ne(n,e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=_(function*(n,e,t){const r=O(n),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Wl(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield gu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&_u(r.remoteStore,i.targetId),wu(r,i.targetId)}).catch(fs))):(wu(r,i.targetId),yield gu(r.localStore,i.targetId,!0))}),Jb.apply(this,arguments)}function yne(n,e){return Zb.apply(this,arguments)}function Zb(){return Zb=_(function*(n,e){const t=O(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),_u(t.remoteStore,r.targetId))}),Zb.apply(this,arguments)}function Xb(){return Xb=_(function*(n,e,t){const r=yT(n);try{const i=yield function(o,a){const u=O(o),c=nt.now(),l=a.reduce((f,p)=>f.add(p.key),le());let d,h;return u.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Fn(),g=le();return u.ss.getEntries(f,l).next(m=>{p=m,p.forEach((v,C)=>{C.isValidDocument()||(g=g.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(f,p)).next(m=>{d=m;const v=[];for(const C of a){const y=Gee(C,d.get(C.key).overlayedDocument);null!=y&&v.push(new Ni(C.key,y,oV(y.value.mapValue),Je.exists(!0)))}return u.mutationQueue.addMutationBatch(f,c,v,a)}).next(m=>{h=m;const v=m.applyToLocalDocumentSet(d,g);return u.documentOverlayCache.saveOverlays(f,m.batchId,v)})}).then(()=>({batchId:h.batchId,changes:TV(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let c=o.xa[o.currentUser.toKey()];c||(c=new je(re)),c=c.insert(a,u),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,t),yield Vi(r,i.changes),yield yu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");t.reject(s)}}),Xb.apply(this,arguments)}function d2(n,e){return eT.apply(this,arguments)}function eT(){return eT=_(function*(n,e){const t=O(n);try{const r=yield Fte(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Fa.get(s);o&&(G(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?G(o.wa):i.removedDocuments.size>0&&(G(o.wa),o.wa=!1))}),yield Vi(t,r,e)}catch(r){yield fs(r)}}),eT.apply(this,arguments)}function h2(n,e,t){const r=O(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=O(o);u.onlineState=a;let c=!1;u.queries.forEach((l,d)=>{for(const h of d.U_)h.j_(a)&&(c=!0)}),c&&Hb(u)}(r.eventManager,e),i.length&&r.Sa.l_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ine(n,e,t){return tT.apply(this,arguments)}function tT(){return tT=_(function*(n,e,t){const r=O(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new je(F.comparator);o=o.insert(s,qe.newNoDocument(s,z.min()));const a=le().add(s),u=new ed(z.min(),new Map,new je(re),o,a);yield d2(r,u),r.va=r.va.remove(s),r.Fa.delete(e),uT(r)}else yield gu(r.localStore,e,!1).then(()=>wu(r,e,t)).catch(fs)}),tT.apply(this,arguments)}function Ene(n,e){return nT.apply(this,arguments)}function nT(){return nT=_(function*(n,e){const t=O(n),r=e.batch.batchId;try{const i=yield Nte(t.localStore,e);oT(t,r,null),sT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vi(t,i)}catch(i){yield fs(i)}}),nT.apply(this,arguments)}function Cne(n,e,t){return rT.apply(this,arguments)}function rT(){return rT=_(function*(n,e,t){const r=O(n);try{const i=yield function(o,a){const u=O(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return u.mutationQueue.lookupMutationBatch(c,a).next(d=>(G(null!==d),l=d.keys(),u.mutationQueue.removeMutationBatch(c,d))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,l,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>u.localDocuments.getDocuments(c,l))})}(r.localStore,e);oT(r,e,t),sT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vi(r,i)}catch(i){yield fs(i)}}),rT.apply(this,arguments)}function sT(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function oT(n,e,t){const r=O(n);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Rr(e).forEach(r=>{n.Ma.containsKey(r)||f2(n,r)})}function f2(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(_u(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),uT(n))}function aT(n,e,t){for(const r of t)r instanceof a2?(n.Ma.addReference(r.key,e),bne(n,r)):r instanceof u2?(S("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||f2(n,r.key)):$()}function bne(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(S("SyncEngine","New document in limbo: "+t),n.Ca.add(r),uT(n))}function uT(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new F(_e.fromString(e)),r=n.Na.next();n.Fa.set(r,new fne(t)),n.va=n.va.insert(t,r),yg(n.remoteStore,new Fi(Sn(tu(t.path)),r,"TargetPurposeLimboResolution",Jn.oe))}}function Vi(n,e,t){return cT.apply(this,arguments)}function cT(){return cT=_(function*(n,e,t){const r=O(n),i=[],s=[],o=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,t).then(c=>{if((c||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=ub.Qi(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.Sa.l_(i),yield(a=_(function*(c,l){const d=O(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>I.forEach(l,f=>I.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>I.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ps(h))throw h;S("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),m=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,m)}}}),function u(c,l){return a.apply(this,arguments)})(r.localStore,s))}),cT.apply(this,arguments)}function Tne(n,e){return lT.apply(this,arguments)}function lT(){return lT=_(function*(n,e){const t=O(n);if(!t.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield UL(t.localStore,e);t.currentUser=e,(s=t).Oa.forEach(a=>{a.forEach(u=>{u.reject(new M(E.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vi(t,r._s)}var s}),lT.apply(this,arguments)}function Dne(n,e){const t=O(n),r=t.Fa.get(e);if(r&&r.wa)return le().add(r.key);{let i=le();const s=t.Da.get(e);if(!s)return i;for(const o of s){const a=t.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function Ig(n){const e=O(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=d2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ine.bind(null,e),e.Sa.l_=une.bind(null,e.eventManager),e.Sa.ka=cne.bind(null,e.eventManager),e}function yT(n){const e=O(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ene.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cne.bind(null,e),e}class Eg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return _(function*(){t.serializer=dd(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function LL(n,e,t,r){return new Ote(n,e,t,r)}(this.persistence,new VL,e.initialUser,this.serializer)}createPersistence(e){return new ib(lg.jr,this.serializer)}createSharedClientState(e){return new WL}terminate(){var e=this;return _(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bu{initialize(e,t){var r=this;return _(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>h2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Tne.bind(null,r.syncEngine),yield function Fb(n,e){return Vb.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ane}createDatastore(e){const t=dd(e.databaseInfo.databaseId),r=new Hte(e.databaseInfo);return new qte(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>h2(this.syncEngine,t,0),a=KL.D()?new KL:new Bte,new Qte(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,u,c,l){const d=new pne(i,s,o,a,u,c);return l&&(d.La=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return _(function*(){var t,r;yield(r=_(function*(s){const o=O(s);S("RemoteStore","RemoteStore shutting down."),o.M_.add(5),yield mu(o),o.O_.shutdown(),o.N_.set("Unknown")}),function i(s){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class Cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ft("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Une{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=FF.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=_(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(E.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(_(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Iu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function wg(n,e){return vT.apply(this,arguments)}function vT(){return vT=_(function*(n,e){n.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=_(function*(s){r.isEqual(s)||(yield UL(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vT.apply(this,arguments)}function IT(n,e){return ET.apply(this,arguments)}function ET(){return ET=_(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield CT(n);S("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>n2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>n2(e.remoteStore,i)),n._onlineComponents=e}),ET.apply(this,arguments)}function v2(n){return"FirebaseError"===n.name?n.code===E.FAILED_PRECONDITION||n.code===E.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function CT(n){return wT.apply(this,arguments)}function wT(){return wT=_(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){S("FirestoreClient","Using user provided OfflineComponentProvider");try{yield wg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!v2(t))throw t;Qn("Error using user provided cache. Falling back to memory cache: "+t),yield wg(n,new Eg)}}else S("FirestoreClient","Using default OfflineComponentProvider"),yield wg(n,new Eg);return n._offlineComponents}),wT.apply(this,arguments)}function bg(n){return bT.apply(this,arguments)}function bT(){return bT=_(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(S("FirestoreClient","Using user provided OnlineComponentProvider"),yield IT(n,n._uninitializedComponentsProvider._online)):(S("FirestoreClient","Using default OnlineComponentProvider"),yield IT(n,new bu))),n._onlineComponents}),bT.apply(this,arguments)}function DT(){return DT=_(function*(n){const e=yield bg(n),t=e.eventManager;return t.onListen=gne.bind(null,e.syncEngine),t.onUnlisten=_ne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=yne.bind(null,e.syncEngine),t}),DT.apply(this,arguments)}function b2(n,e,t={}){const r=new Nt;return n.asyncQueue.enqueueAndForget(_(function*(){return function(s,o,a,u,c){const l=new Cg({next:h=>{o.enqueueAndForget(()=>function jb(n,e){return $b.apply(this,arguments)}(s,d)),h.fromCache&&"server"===u.source?c.reject(new M(E.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),d=new zb(a,l,{includeMetadataChanges:!0,ra:!0});return function Ub(n,e){return Bb.apply(this,arguments)}(s,d)}(yield function Du(n){return DT.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function T2(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const D2=new Map;function AT(n,e,t){if(!t)throw new M(E.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function A2(n){if(!F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function S2(n){if(F.isDocumentKey(n))throw new M(E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Tg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":$()}function ve(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Tg(n);throw new M(E.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class P2{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new M(E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Yne(n,e,t,r){if(!0===e&&!0===r)throw new M(E.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=T2(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(E.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P2({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P2(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new $X;switch(r.type){case"firstParty":return new qX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=D2.get(t);r&&(S("ComponentProvider","Removing Datastore"),D2.delete(t),r.terminate())}(this),Promise.resolve()}}class en{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new en(this.firestore,e,this._query)}}class gt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class ei extends en{constructor(e,t,r){super(e,t,tu(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new F(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function x2(n,e,...t){if(n=ar(n),AT("collection","path",e),n instanceof fd){const r=_e.fromString(e,...t);return S2(r),new ei(n,null,r)}{if(!(n instanceof gt||n instanceof ei))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_e.fromString(e,...t));return S2(r),new ei(n.firestore,null,r)}}function ST(n,e,...t){if(n=ar(n),1===arguments.length&&(e=FF.newId()),AT("doc","path",e),n instanceof fd){const r=_e.fromString(e,...t);return A2(r),new gt(n,null,new F(r))}{if(!(n instanceof gt||n instanceof ei))throw new M(E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_e.fromString(e,...t));return A2(r),new gt(n.firestore,n instanceof ei?n.converter:null,new F(r))}}class Zne{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Jo=new yb(this,"async_queue_retry"),this.hu=()=>{const t=_g();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Jo.Uo()};const e=_g();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=_g();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new Nt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return _(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Jo.reset()}catch(t){if(!ps(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Jo.Ko(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,ft("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=Lb.createAndSchedule(this,e,t,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&$()}verifyOperationInProgress(){}du(){var e=this;return _(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}class $e extends fd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Zne,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||k2(this),this._firestoreClient.terminate()}}function ere(n,e){const r="string"==typeof n?n:e||"(default)",i=Zf("object"==typeof n?n:nO(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=(n=>{const e=$1("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();s&&function Jne(n,e,t,r={}){var i;const s=(n=ve(n,fd))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Qn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=$t.MOCK_USER;else{a=function lK(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gf(JSON.stringify({alg:"none",type:"JWT"})),Gf(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new M(E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $t(c)}n._authCredentials=new HX(new OF(a,u))}}(i,...s)}return i}function mt(n){return n._firestoreClient||k2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function k2(n){var e,t,r;const i=n._freezeSettings(),s=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wee(n._databaseId,u,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,T2(l.experimentalLongPollingOptions),l.useFetchStreams));var u,l;n._firestoreClient=new Une(n._authCredentials,n._appCheckCredentials,n._queue,s),(null===(t=i.localCache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Ft.fromBase64String(e))}catch(t){throw new M(E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ao(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Au{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class F2{constructor(e){this._methodName=e}}class PT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}}const nre=/^__.*__$/;class rre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new ou(e,this.data,t,this.fieldTransforms)}}function L2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $()}}class Dg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Sg(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(L2(this.fu)&&nre.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ire{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dd(e)}Fu(e,t,r,i=!1){return new Dg({fu:e,methodName:t,vu:r,path:Ye.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Su(n){const e=n._freezeSettings(),t=dd(n._databaseId);return new ire(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xT(n,e,t,r,i,s={}){const o=n.Fu(s.merge||s.mergeFields?2:0,e,t,i);FT("Data must be an object, but it was:",o,r);const a=H2(r,o);let u,c;if(s.merge)u=new Nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=md(e,d,t);if(!o.contains(h))throw new M(E.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);z2(l,h)||l.push(h)}u=new Nn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new rre(new Xt(a),u,c)}function So(n,e){if(G2(n=ar(n)))return FT("Unsupported field value:",e,n),H2(n,e);if(n instanceof F2)return function(r,i){if(!L2(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let u=So(a,i.bu(o));null==u&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=ar(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return MV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=nt.fromDate(r);return{timestampValue:uu(i.serializer,s)}}if(r instanceof nt){const s=new nt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uu(i.serializer,s)}}if(r instanceof PT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ao)return{bytesValue:YV(i.serializer,r._byteString)};if(r instanceof gt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:zw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Tg(r)}`)}(n,e)}function H2(n,e){const t={};return JF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(n,(r,i)=>{const s=So(i,e.pu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function G2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof nt||n instanceof PT||n instanceof Ao||n instanceof gt||n instanceof F2)}function FT(n,e,t){if(!G2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Tg(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function md(n,e,t){if((e=ar(e))instanceof Au)return e._internalPath;if("string"==typeof e)return Ag(n,e);throw Sg("Field path arguments must be of type string or ",n,!1,void 0,t)}const sre=new RegExp("[~\\*/\\[\\]]");function Ag(n,e,t){if(e.search(sre)>=0)throw Sg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Au(...e.split("."))._internalPath}catch{throw Sg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new M(E.INVALID_ARGUMENT,a+n+u)}function z2(n,e){return n.some(t=>t.isEqual(e))}class VT{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ore(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Mg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ore extends VT{data(){return super.data()}}function Mg(n,e){return"string"==typeof e?Ag(n,e):e instanceof Au?e._internalPath:e._delegate._internalPath}class Mo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pu extends VT{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Mg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class kg extends Pu{data(e={}){return super.data(e)}}class xu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Mo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new kg(this._firestore,this._userDataWriter,r.key,r,new Mo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new kg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const u=new kg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Mo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,l=-1;return 0!==a.type&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:lre(a.type),doc:u,oldIndex:c,newIndex:l}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function lre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $()}}class Ds extends class ure{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw $()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return gs(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new PT(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const t=xi(e);return new nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_e.fromString(e);G(aL(r));const i=new go(r.get(1),r.get(3)),s=new F(r.popFirst(5));return i.isEqual(t)||ft(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}function Z2(n){n=ve(n,en);const e=ve(n.firestore,$e),t=mt(e),r=new Ds(e);return function q2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query),b2(t,n._query).then(i=>new xu(e,r,n,i))}function X2(n){return yd(ve(n.firestore,$e),[new au(n._key,Je.none())])}function eU(n,e){const t=ve(n.firestore,$e),r=ST(n),i=function UT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return yd(t,[xT(Su(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Je.exists(!1))]).then(()=>r)}function yd(n,e){return function(r,i){const s=new Nt;return r.asyncQueue.enqueueAndForget(_(function*(){return function vne(n,e,t){return Xb.apply(this,arguments)}(yield function TT(n){return bg(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(mt(n),e)}!function(e,t=!0){Wa="10.11.1",Na(new to("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $e(new GX(r.getProvider("auth-internal")),new WX(r.getProvider("app-check-internal")),function(c,l){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new M(E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new go(c.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),wi(kF,"4.6.1",e),wi(kF,"4.6.1","esm2017")}();class iU{}class sU{}class Li{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Li?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Li;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Li?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class wre{encodeKey(e){return oU(e)}encodeValue(e){return oU(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Tre=/%(\d[a-f0-9])/gi,Dre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function oU(n){return encodeURIComponent(n).replace(Tre,(e,t)=>Dre[t]??e)}function Fg(n){return`${n}`}class As{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new wre,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Fg):[Fg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new As({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Fg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Fg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Are{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function aU(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function uU(n){return typeof Blob<"u"&&n instanceof Blob}function cU(n){return typeof FormData<"u"&&n instanceof FormData}class vd{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Sre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Li),this.context||(this.context=new Are),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new As,this.urlWithParams=t}serializeBody(){return null===this.body?null:aU(this.body)||uU(this.body)||cU(this.body)||function Mre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof As?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cU(this.body)?null:uU(this.body)?this.body.type||null:aU(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof As?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,c=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new vd(t,r,s,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:o})}}var bt=(()=>((bt=bt||{})[bt.Sent=0]="Sent",bt[bt.UploadProgress=1]="UploadProgress",bt[bt.ResponseHeader=2]="ResponseHeader",bt[bt.DownloadProgress=3]="DownloadProgress",bt[bt.Response=4]="Response",bt[bt.User=5]="User",bt))();class $T{constructor(e,t=200,r="OK"){this.headers=e.headers||new Li,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class HT extends $T{constructor(e={}){super(e),this.type=bt.ResponseHeader}clone(e={}){return new HT({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Vg extends $T{constructor(e={}){super(e),this.type=bt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Vg({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class lU extends $T{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function GT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Id=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof vd)s=t;else{let u,c;u=i.headers instanceof Li?i.headers:new Li(i.headers),i.params&&(c=i.params instanceof As?i.params:new As({fromObject:i.params})),s=new vd(t,r,void 0!==i.body?i.body:null,{headers:u,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=W(s).pipe(es(u=>this.handler.handle(u)));if(t instanceof vd||"events"===i.observe)return o;const a=o.pipe(jr(u=>u instanceof Vg));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ue(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(ue(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(ue(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(ue(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new As).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,GT(i,r))}post(t,r,i={}){return this.request("POST",t,GT(i,r))}put(t,r,i={}){return this.request("PUT",t,GT(i,r))}}return n.\u0275fac=function(t){return new(t||n)(N(iU))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class dU{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const hU=new B("HTTP_INTERCEPTORS");let Pre=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const xre=/^\)\]\}',?\n/;let fU=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ct(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((f,p)=>i.setRequestHeader(f,p.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const f=t.detectContentTypeHeader();null!==f&&i.setRequestHeader("Content-Type",f)}if(t.responseType){const f=t.responseType.toLowerCase();i.responseType="json"!==f?f:"text"}const s=t.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const f=i.statusText||"OK",p=new Li(i.getAllResponseHeaders()),g=function Rre(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new HT({headers:p,status:i.status,statusText:f,url:g}),o},u=()=>{let{headers:f,status:p,statusText:g,url:m}=a(),v=null;204!==p&&(v=typeof i.response>"u"?i.responseText:i.response),0===p&&(p=v?200:0);let C=p>=200&&p<300;if("json"===t.responseType&&"string"==typeof v){const y=v;v=v.replace(xre,"");try{v=""!==v?JSON.parse(v):null}catch(P){v=y,C&&(C=!1,v={error:P,text:v})}}C?(r.next(new Vg({body:v,headers:f,status:p,statusText:g,url:m||void 0})),r.complete()):r.error(new lU({error:v,headers:f,status:p,statusText:g,url:m||void 0}))},c=f=>{const{url:p}=a(),g=new lU({error:f,status:i.status||0,statusText:i.statusText||"Unknown Error",url:p||void 0});r.error(g)};let l=!1;const d=f=>{l||(r.next(a()),l=!0);let p={type:bt.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),"text"===t.responseType&&!!i.responseText&&(p.partialText=i.responseText),r.next(p)},h=f=>{let p={type:bt.UploadProgress,loaded:f.loaded};f.lengthComputable&&(p.total=f.total),r.next(p)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==s&&i.upload&&i.upload.addEventListener("progress",h)),i.send(s),r.next({type:bt.Sent}),()=>{i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==s&&i.upload&&i.upload.removeEventListener("progress",h)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(N(qx))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const zT=new B("XSRF_COOKIE_NAME"),qT=new B("XSRF_HEADER_NAME");class pU{}let kre=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nx(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(N(et),N(Fh),N(zT))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),WT=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(pU),N(qT))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Ore=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(hU,[]);this.chain=r.reduceRight((i,s)=>new dU(i,s),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(N(sU),N(Rn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Nre=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:WT,useClass:Pre}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:zT,useValue:t.cookieName}:[],t.headerName?{provide:qT,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({providers:[WT,{provide:hU,useExisting:WT,multi:!0},{provide:pU,useClass:kre},{provide:zT,useValue:"XSRF-TOKEN"},{provide:qT,useValue:"X-XSRF-TOKEN"}]}),n})(),Fre=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({providers:[Id,{provide:iU,useClass:Ore},fU,{provide:sU,useExisting:fU}],imports:[Nre.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),KT=(()=>{class n{constructor(t){this.http=t,this.firebaseConfig={apiKey:Dn_apiKey,authDomain:"kokododoe-s.firebaseapp.com",projectId:"kokododoe-s",storageBucket:"kokododoe-s.appspot.com",messagingSenderId:"1001517841425",appId:Dn_appId,measurementId:"G-X8FCQKJM16"},this.headerInnerData=new Zn,this.LoginSubject=new st(null),this.login$=this.LoginSubject.asObservable(),this.LoginErrorSubject=new st(null),this.loginError$=this.LoginErrorSubject.asObservable(),this.afterLoginSubject=new st(!1),this.afterlogin$=this.afterLoginSubject.asObservable(),this.http.get("assets/headerInnerDate.json").subscribe(r=>{this.headerInnerData.next(r)}),this.fbDataBase=tO(this.firebaseConfig),this.DataBaseApp=ere(this.fbDataBase)}setAfterLogin(){this.afterLoginSubject.next(null!=sessionStorage.getItem("UserDataLogin"))}getfbDataBase(){return this.fbDataBase}getDataBaseApp(){return this.DataBaseApp}createAccount(t,r){(function qY(n,e,t){return UE.apply(this,arguments)})(gN(),t,r).then(s=>{}).catch(s=>{})}signIn(t,r){(function WY(n,e,t){return Gr(n.app)?Promise.reject(Ut(n)):function wE(n,e){return bE.apply(this,arguments)}(ar(n),BO.credential(e,t)).catch(function(){var r=_(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&RE(n),i});return function(i){return r.apply(this,arguments)}}())})(gN(),t,r).then(s=>{this.LoginSubject.next(s?.user),this.setAfterLogin()}).catch(s=>{this.LoginErrorSubject.next(s.message)})}}return n.\u0275fac=function(t){return new(t||n)(N(Id))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vre=(()=>{class n{constructor(t,r){this.router=t,this.loginSrv=r,this.loginForm=new ka({usenName:new Tr("",{updateOn:"change",validators:[Ei.required]}),password:new Tr("",{updateOn:"change",validators:[Ei.required]})}),this.errorMsg=null,this.Sub$=new tn,sessionStorage.getItem("UserDataLogin")&&this.router.navigate(["home"]),this.Sub$.add(this.loginSrv.login$.subscribe(i=>{null!=i&&(sessionStorage.setItem("UserDataLogin",JSON.stringify(i)),this.router.navigate(["/home"]))})),this.Sub$.add(this.loginSrv.loginError$.subscribe(i=>{this.errorMsg=null!=i?"Password or Email are Incorrect":null}))}ngOnInit(){}ngOnDestroy(){this.Sub$.unsubscribe()}onSubmit(){this.loginSrv.signIn(this.loginForm.controls.usenName.value,this.loginForm.controls.password.value)}}return n.\u0275fac=function(t){return new(t||n)(w(ot),w(KT))},n.\u0275cmp=_n({type:n,selectors:[["app-login"]],decls:16,vars:3,consts:[[1,"home"],[1,"wrap"],[1,"title"],[1,"login",3,"formGroup","ngSubmit"],["id","usenName","type","text","formControlName","usenName","placeholder"," ","autocomplete","current-password",1,"i-name"],["for","usenName",1,"l-name"],["id","password","type","password","formControlName","password","placeholder"," ","autocomplete","current-password",1,"i-pass"],["for","password",1,"l-pass"],["type","submit",3,"disabled"],[1,"coming-soon"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),x(4,"Login"),T()(),b(5,"form",3),ne("ngSubmit",function(){return r.onSubmit()}),Pt(6,"input",4),b(7,"label",5),x(8,"User Name: "),T(),Pt(9,"input",6),b(10,"label",7),x(11,"Password: "),T(),b(12,"button",8),x(13," Enter "),T()(),b(14,"div",9),x(15),T()()()),2&t&&(j(5),X("formGroup",r.loginForm),j(7),X("disabled","INVALID"==r.loginForm.status),j(3),ln(" ",r.errorMsg," "))},dependencies:[$f,xa,kf,Of,Oa,Kc],styles:[".home[_ngcontent-%COMP%]{width:100%;height:100%;box-sizing:border-box;display:flex;justify-content:center;margin-top:8vh}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{position:relative;width:70%;height:60%;background-color:var(--c-grey);color:var(--c-dark-blue);box-shadow:0 0 1em var(--c-blue);overflow:hidden;border-radius:30px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;font-size:36px;font-weight:600;margin:30px auto}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:80%;margin:20px auto}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;font-weight:400;position:absolute;left:15px;transition:.5s all;pointer-events:none}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .l-name[_ngcontent-%COMP%]{top:23px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .l-pass[_ngcontent-%COMP%]{top:102px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:18px;font-weight:400;margin:10px 0 20px;padding:10px 15px;border-radius:30px;color:var(--c-blue);background-color:transparent;border:3px solid var(--c-blue)}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-name[_ngcontent-%COMP%]:focus + .l-name[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-name[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-name[_ngcontent-%COMP%]{top:0;padding:5px;background-color:var(--c-grey);font-size:12px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-pass[_ngcontent-%COMP%]:focus + .l-pass[_ngcontent-%COMP%], .home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   .i-pass[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-pass[_ngcontent-%COMP%]{top:77px;padding:5px;background-color:var(--c-grey);font-size:12px}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px;padding:20px 0;border-radius:30px;background-color:transparent;border:3px solid var(--c-blue);color:var(--c-blue);animation:3s infinite glowing}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{border:3px solid var(--c-silver);color:var(--c-silver);animation:none}.home[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]   .coming-soon[_ngcontent-%COMP%]{width:90%;font-size:16px;font-weight:500;line-height:normal;margin:10px auto;text-align:center}@keyframes glowing{0%{text-shadow:0em 0 0em var(--c-blue)}to{text-shadow:0em 0 5em var(--c-blue)}}"]}),n})(),Lre=(()=>{class n{constructor(t){this.http=t,this.homeInnerData=new Zn,this.getDataFromJson()}getDataFromJson(){this.http.get("assets/homeInnerDate.json").subscribe(t=>{this.homeInnerData.next(t)})}}return n.\u0275fac=function(t){return new(t||n)(N(Id))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lg=(()=>{class n{constructor(){this.lastClickedOn=new st(null),this.activeMenu=new st(null),this.settingsEdit=new st(!1),this.lastMeasurement=new st([])}setLastClickedOn(t){this.lastClickedOn.next(t)}getLastClickedOn(){return this.lastClickedOn?.value}setActiveMenu(t){this.activeMenu.next(t)}getActiveMenu(){return this.activeMenu?.value}setSettingsEdit(t){this.settingsEdit.next(t)}getSettingsEdit(){return this.settingsEdit?.value}setLastMeasurement(t){this.lastMeasurement.next(t)}getLastMeasurement(){return this.lastMeasurement?.value}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ug=(()=>{class n{constructor(t,r){this.router=r,this.mergedConfig=Object.assign({trackPageviews:!0},t),this.mergedConfig.trackPageviews&&r.events.pipe(jr(i=>i instanceof ns),Et(i=>{this.pageview()})).subscribe()}event(t,r={}){try{gtag("event",t,r),this.debug("event",this.mergedConfig.trackingId,t,r)}catch(i){console.error("Google Analytics event error",i)}}pageview(t){try{const r={page_path:this.router.url,page_title:"Angular App",page_location:window.location.href};t=Object.assign({},r,t),gtag("config",this.mergedConfig.trackingId,t),this.debug("pageview",this.mergedConfig.trackingId,t)}catch(r){console.error("Google Analytics pageview error",r)}}config(t){try{gtag("config",this.mergedConfig.trackingId,{})}catch(r){console.error("Google Analytics config error",r)}}set(t){try{gtag("set",{})}catch(r){console.error("Google Analytics set error",r)}}debug(...t){this.mergedConfig.debug&&console.log("angular-gtag:",...t)}}return n.\u0275fac=function(t){return new(t||n)(N("config"),N(ot))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Ure=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[Ug,{provide:"config",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({}),n})(),QT=(()=>{class n{constructor(t){this.dataSavingSrv=t}onMouseclick(t){null!=this.dataSavingSrv.getLastClickedOn()||this.dataSavingSrv.setLastClickedOn(t),null!=this.dataSavingSrv.getActiveMenu()||this.dataSavingSrv.setActiveMenu(t.target?.classList[0]),this.clickedOn(t)}clickedOn(t){let r=this.dataSavingSrv.getLastClickedOn(),i=this.dataSavingSrv.getActiveMenu();i==t.target.classList[0]||this.closeMenu(i,r,t),this.closeMenu(i,r,t),this.dataSavingSrv.setActiveMenu(t.target.classList[0])}closeMenu(t,r,i){switch(t){case"translate":case"burger":i.target.closest(".open")&&r?.target.closest(".open")?this.dataSavingSrv.setLastClickedOn(i):(document.querySelectorAll(".open").forEach(s=>{s.classList.remove("open")}),this.dataSavingSrv.setLastClickedOn(null))}}}return n.\u0275fac=function(t){return new(t||n)(w(Lg))},n.\u0275dir=J({type:n,selectors:[["","appClickOutside",""]],hostBindings:function(t,r){1&t&&ne("click",function(s){return r.onMouseclick(s)})}}),n})(),Bre=(()=>{class n{constructor(t,r){this.gtag=t,this.dataSavingSrv=r,this.tmpValue="",this.maxAmout=1e4,this.lastmeasurement=[]}transform(t,r,i,s,o){if(!(r&&i&&s))return null;switch(this.gtag.event("measureEvent",{app_name:"SmartestAppes",screen_name:"Measurments Page",topic:r,measureFrom:i,measureTo:s,Density:o}),r){case"Kitchen":switch(i){case"quart":switch(s){case"teaspoons":this.tmpValue=(.95*+(t||1)*1e3*.2).toFixed(2);break;case"gallon":this.tmpValue=(.25*+(t||1)).toFixed(2);break;case"pint":this.tmpValue=(2*+(t||1)).toFixed(2);break;case"cup":this.tmpValue=(4*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(.95*+(t||1)*1e3*.06).toFixed(2);break;case"kilogram":this.tmpValue=o?(.95*+(t||1)*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(.95*+(t||1)*+o/1e3).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(.95*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(.95*+(t||1)*+o*2.204).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(.95*+(t||1)*1e3).toFixed(2);break;case"liter":this.tmpValue=(.95*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(8*+(t||1)*2*2*4).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"teaspoons":switch(s){case"quart":this.tmpValue=(+(t||1)/192).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/768).toFixed(2);break;case"pint":this.tmpValue=(+(t||1)/96).toFixed(2);break;case"cup":this.tmpValue=(+(t||1)/48).toFixed(2);break;case"tablespoons":this.tmpValue=(+(t||1)/3).toFixed(2);break;case"kilogram":this.tmpValue=o?(4.92*+(t||1)*+o/1e3).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(4.92*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(4.92*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(.00492*+(t||1)).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(2.204*+(t||1)*.00492).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(+(t||1)/4.92).toFixed(2);break;case"Oz":this.tmpValue=(1.5*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"gallon":switch(s){case"quart":this.tmpValue=(4*+(t||1)).toFixed(2);break;case"teaspoons":this.tmpValue=(768*+(t||1)).toFixed(2);break;case"pint":this.tmpValue=(8*+(t||1)).toFixed(2);break;case"cup":this.tmpValue=(16*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(256*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(3.78541*+(t||1)*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(3.78541*+(t||1)*+o*1e3).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(3.78541*+(t||1)*+o*1e6).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(3.78541*+(t||1)).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(3.78541*+(t||1)*2.204*+o).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(3785.41*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(128*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"pint":switch(s){case"quart":this.tmpValue=(+(t||1)/2).toFixed(2);break;case"teaspoons":this.tmpValue=(96*+(t||1)).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/8).toFixed(2);break;case"cup":this.tmpValue=(2*+(t||1)).toFixed(2);break;case"tablespoons":this.tmpValue=(32*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(473.2*+(t||1)/1e3*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(473.2*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(473.2*+(t||1)*1e3*+o).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(473.2*+(t||1)/1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?"":"Choose Density";break;case"milliliter":this.tmpValue=(473.2*+(t||1)).toFixed(2);break;case"Oz":this.tmpValue=(16*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"cup":switch(s){case"quart":this.tmpValue=(+(t||1)/4).toFixed(2);break;case"teaspoons":this.tmpValue=(16*+(t||1)*16*3).toFixed(2);break;case"gallon":this.tmpValue=(+(t||1)/16).toFixed(2);break;case"pint":this.tmpValue=(+(t||1)/2).toFixed(2);break;case"tablespoons":this.tmpValue=(16*+(t||1)).toFixed(2);break;case"kilogram":this.tmpValue=o?(236.6*+(t||1)/1e3*+o).toFixed(2):"Choose Density";break;case"gram":this.tmpValue=o?(236.6*+(t||1)*+o).toFixed(2):"Choose Density";break;case"milligram":this.tmpValue=o?(236.6*+(t||1)*1e3*+o).toFixed(2):"Choose Density";break;case"liter":this.tmpValue=o?(236.6*+(t||1)/1e3).toFixed(2):"Choose Density";break;case"pound":this.tmpValue=o?(236.6*+(t||1)/1e3*2.204*+o).toFixed(2):"Choose Density";break;case"milliliter":this.tmpValue=(236.6*+(t||1)).toFixed(2);break;default:this.tmpValue="Can't Measure"}break;case"tablespoons":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"pound":case"milliliter":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"kilogram":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"pound":case"milliliter":default:break;case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"pound":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"milliliter":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}break;case"milliliter":switch(s){case"quart":case"teaspoons":case"gallon":case"pint":case"cup":case"tablespoons":case"pound":default:break;case"kilogram":case"gram":case"milligram":case"liter":this.tmpValue=o?"":"Choose Density"}}break;case"length":switch(i){case"c-meters":switch(s){case"meters":this.tmpValue=t?(+t/100).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e5).toFixed(2):1;break;case"inches":this.tmpValue=t?(.3937*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(+t/100*3.2808).toFixed(2):1;break;case"yards":this.tmpValue=t?(+t/100*1.0936).toFixed(2):1}break;case"meters":switch(s){case"c-meters":this.tmpValue=t?(100*+t).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e3*3.2808).toFixed(2):1;break;case"inches":this.tmpValue=t?(39.37*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(3.2808*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(1.0936*+t).toFixed(2):1}break;case"kilometers":switch(s){case"c-meters":this.tmpValue=t?(+t/1e5).toFixed(2):1;break;case"meters":this.tmpValue=t?(+t/1e3).toFixed(2):1;break;case"inches":this.tmpValue=t?(39374*+t).toFixed(2):1;break;case"feet":this.tmpValue=t?(.003281*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(.0011*+t).toFixed(2):1}break;case"inches":switch(s){case"c-meters":this.tmpValue=t?(+t/.3937).toFixed(2):1;break;case"meters":this.tmpValue=t?(+t/100/.3937).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(+t/1e5/.3937).toFixed(2):1;break;case"feet":this.tmpValue=t?(.083334*+t).toFixed(2):1;break;case"yards":this.tmpValue=t?(.27778*+t).toFixed(2):1}break;case"feet":switch(s){case"c-meters":this.tmpValue=t?(.305/100*+t).toFixed(2):1;break;case"meters":this.tmpValue=t?(.305*+t).toFixed(2):1;break;case"kilometers":this.tmpValue=t?(305e-8*+t).toFixed(2):1;break;case"inches":case"yards":this.tmpValue=t?(+t/.3937).toFixed(2):1}}}return this.lastmeasurement={value:t,topic:r,measureFrom:i,measureTo:s,Density:o,tmpValue:this.tmpValue>this.maxAmout?"N/A":this.tmpValue},this.dataSavingSrv.setLastMeasurement(this.lastmeasurement),this.tmpValue>this.maxAmout?"N/A":this.tmpValue}}return n.\u0275fac=function(t){return new(t||n)(w(Ug,16),w(Lg,16))},n.\u0275pipe=rn({name:"measurments",type:n,pure:!0}),n})();function jre(n,e){if(1&n&&(b(0,"option",14),x(1),T()),2&n){const t=e.$implicit;Hs("value",t),j(1),ln(" ",t," ")}}function $re(n,e){if(1&n&&(b(0,"option",14),x(1),T()),2&n){const t=e.$implicit;Hs("value",t[1]),j(1),ln(" ",t[0]," ")}}function Hre(n,e){if(1&n){const t=Kt();b(0,"div",15)(1,"select",16),ne("change",function(i){Dt(t);const s=Ie();return s.onSubmitChage(),At(s.selectedDensity(i.target))}),we(2,$re,2,2,"option",8),T()()}if(2&n){const t=Ie();j(2),X("ngForOf",t.desityData)}}function Gre(n,e){if(1&n&&(b(0,"div",17),x(1),T()),2&n){const t=Ie();j(1),ln(" density of this matarial is: ",t.textDensity,", please notice that there can be differences beetween calculators you use. ")}}const zre=function(n,e,t,r,i){return[n,e,t,r,i]};function qre(n,e){if(1&n&&(b(0,"li",18),x(1),_a(2,"uppercase"),b(3,"div"),x(4),_a(5,"measurments"),T()()),2&n){const t=e.$implicit,r=Ie();j(1),ln(" ",ly(2,2,t),": "),j(3),ln(" ",yP(5,4,hP(10,zre,r.amountMeasure,r.measureData[0].title,r.optionValueSelected,t,r.textDensity))," ")}}let Wre=(()=>{class n{constructor(){this.measureData=null,this.desityData=null,this.exitFromMeasure=new Xe,this.optionValueSelected="",this.amountMeasure="",this.measurmentsListFiltred=[],this.textDensity="",this.isCompReady=!1,this.measureForm=new ka({measureNum:new Tr("",Ei.required),measurment:new Tr("",Ei.required),density:new Tr("",Ei.required)})}ngOnInit(){this.measurmentsListFiltred=this.measureData[0]?.measurements.slice()}ngAfterViewInit(){setTimeout(()=>{this.isCompReady=!0},500)}onClose(){this.measureData=null,this.exitFromMeasure.emit()}selectedDensity(t){this.textDensity=this.measureForm.controls.density.value?this.measureForm.controls.density.value:""}onSubmit(){this.measureForm.get("measurment")?.value&&this.measureForm.get("measureNum")?.value&&(this.measurmentsListFiltred=this.measureData[0]?.measurements.slice(),this.amountMeasure=this.measureForm.get("measureNum")?.value,this.optionValueSelected=this.measureForm.get("measurment")?.value,this.measurmentsListFiltred=this.measurmentsListFiltred.filter(t=>t!==this.measureForm.get("measurment")?.value))}onSubmitChage(){this.onSubmit()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-measurements"]],inputs:{measureData:"measureData",desityData:"desityData"},outputs:{exitFromMeasure:"exitFromMeasure"},decls:18,vars:9,consts:[["appClickOutside",""],["id","titleAction",1,"titleAction"],[3,"click"],[1,"measureInput",3,"formGroup","ngSubmit"],[1,"amount"],["id","measureNum","pattern","[0-9]","maxlength","5","formControlName","measureNum","placeholder"," ","autocomplete","off",1,"i-number",3,"input"],["for","measureNum",1,"l-number"],["id","measurment","type","select","formControlName","measurment","placeholder"," ",1,"s-measur",3,"change"],[3,"value",4,"ngFor","ngForOf"],["class","density",4,"ngIf"],["class","textDensity",4,"ngIf"],[1,"listAction"],[1,"infoList",3,"ngClass"],["class","infoItem",4,"ngFor","ngForOf"],[3,"value"],[1,"density"],["id","density","type","select","formControlName","density","placeholder"," ",1,"s-density",3,"change"],[1,"textDensity"],[1,"infoItem"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1),x(2),_a(3,"uppercase"),b(4,"button",2),ne("click",function(){return r.onClose()}),x(5,"Back"),T(),b(6,"form",3),ne("ngSubmit",function(){return r.onSubmit()}),b(7,"div",4)(8,"input",5),ne("input",function(){return r.onSubmitChage()}),T(),b(9,"label",6),x(10,"Amount:"),T(),b(11,"select",7),ne("change",function(){return r.onSubmitChage()}),we(12,jre,2,2,"option",8),T()(),we(13,Hre,3,1,"div",9),T()(),we(14,Gre,2,1,"div",10),b(15,"div",11)(16,"ul",12),we(17,qre,6,16,"li",13),T()()()),2&t&&(j(2),ln(" ",ly(3,7,r.measureData[0].title)," "),j(4),X("formGroup",r.measureForm),j(6),X("ngForOf",r.measureData[0].measurements),j(1),X("ngIf",r.desityData),j(1),X("ngIf",r.textDensity),j(2),X("ngClass",r.isCompReady?"show":"hide"),j(1),X("ngForOf",r.measurmentsListFiltred))},dependencies:[Ks,Dc,Ca,$f,S1,P1,xa,Hf,kf,Of,aI,uI,Oa,Kc,QT,jx,Bre],styles:[".titleAction[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;padding:30px 0;background-color:var(--c-blue);border-bottom-left-radius:30px;border-bottom-right-radius:30px;border-bottom:15px solid var(--c-grey);border-left:15px solid var(--c-grey);border-right:15px solid var(--c-grey);box-shadow:inset 0 0 1em var(--c-dark);font-size:38px;font-weight:600}.titleAction[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;text-decoration:none;font-weight:600;right:1em;top:.5em;border:0 transparent;background-color:transparent}@supports (-webkit-touch-callout: none){button[_ngcontent-%COMP%]{text-decoration:none;color:#000}}.measureInput[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:relative;justify-content:center;align-items:center;gap:20px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{height:30px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]{background-color:transparent;width:10em;height:100%;padding-left:.5em;border:1px solid black;border-right:0;border-top-left-radius:30px;border-bottom-left-radius:30px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .l-number[_ngcontent-%COMP%]{top:1.2rem;left:.6rem;position:absolute;font-size:16px;font-weight:300;transition:.5s all}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]:focus + .l-number[_ngcontent-%COMP%], .measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .i-number[_ngcontent-%COMP%]:not(:placeholder-shown) + .l-number[_ngcontent-%COMP%]{top:.3em;padding:0 2px;background-color:var(--c-blue);font-size:14px}.measureInput[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .s-measur[_ngcontent-%COMP%]{background-color:var(--c-grey);border:1px solid black;border-left:0;height:110%;border-top-right-radius:30px;border-bottom-right-radius:30px;box-shadow:inset 0 0 1em var(--c-blue);color:var(--c-blue);transition:.5s all}.density[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:8px}.density[_ngcontent-%COMP%]   .s-density[_ngcontent-%COMP%]{background-color:var(--c-grey);border:1px solid black;border-left:0;border-radius:30px;height:30px;box-shadow:inset 0 0 1em var(--c-blue);color:var(--c-blue);transition:.5s all}.listAction[_ngcontent-%COMP%]{position:relative;margin:1em 2em}.listAction[_ngcontent-%COMP%]   .infoList[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1.2em;justify-items:flex-start;font-size:1.2em;font-weight:600;color:var(--c-dark-blue)}.listAction[_ngcontent-%COMP%]   .infoList.show[_ngcontent-%COMP%]{transition:.5s opacity;opacity:1}.listAction[_ngcontent-%COMP%]   .infoList.hide[_ngcontent-%COMP%]{transition:.5s opacity;opacity:0}.listAction[_ngcontent-%COMP%]   .infoItem[_ngcontent-%COMP%]{width:7em}.listAction[_ngcontent-%COMP%]   .infoItem[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:var(--c-grey);margin-top:5px}.textDensity[_ngcontent-%COMP%]{margin:1em auto 0;font-size:12px;width:85%;text-align:center}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),Kre=(()=>{class n{transform(t,r,...i){return t.length>r?t[0].toUpperCase()+t.slice(1,r).toLowerCase()+".":t[0].toUpperCase()+t.slice(1,t.length).toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=rn({name:"toDotLimit",type:n,pure:!0}),n})();function Qre(n,e){if(1&n){const t=Kt();b(0,"li",8),ne("click",function(i){return Dt(t),At(Ie(2).showMeasures(i))}),b(1,"span"),x(2),_a(3,"toDotLimit"),T()()}if(2&n){const t=e.$implicit;Wn("id",e.index),j(2),hi(dy(3,2,t.title,8))}}function Yre(n,e){if(1&n&&(b(0,"div",5)(1,"ul",6),we(2,Qre,4,5,"li",7),T()()),2&n){const t=Ie();j(2),X("ngForOf",null==t.homeData?null:t.homeData.actions)}}function Jre(n,e){if(1&n&&(b(0,"span"),x(1),T()),2&n){const t=Ie(2);j(1),ln("With Density of: ",null==t.lastMeasurement[0]?null:t.lastMeasurement[0].Density,"")}}function Zre(n,e){if(1&n){const t=Kt();b(0,"span",13),ne("click",function(){return Dt(t),At(Ie(2).showLastResults())}),x(1,"click to see results..."),T()}}function Xre(n,e){if(1&n&&(b(0,"div",17),x(1),T()),2&n){const t=e.$implicit;j(1),bh(" ",null==t?null:t.measureTo,": ",null==t?null:t.tmpValue," ")}}function eie(n,e){if(1&n){const t=Kt();b(0,"div",14),we(1,Xre,2,2,"div",15),T(),b(2,"div",16),ne("click",function(){return Dt(t),At(Ie(2).showLastResults())}),x(3,"Close Result"),T()}if(2&n){const t=Ie(2);j(1),X("ngForOf",t.lastMeasurement)}}function tie(n,e){if(1&n&&(b(0,"div",9)(1,"h2"),x(2,"last measurment:"),T(),x(3),we(4,Jre,2,1,"span",10),we(5,Zre,2,0,"span",11),we(6,eie,4,1,"ng-template",null,12,Ey),T()),2&n){const t=W_(7),r=Ie();j(3),bh(" ",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].topic,", Measured from: ",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].measureFrom," "),j(1),X("ngIf",null==r.lastMeasurement[0]?null:r.lastMeasurement[0].Density),j(1),X("ngIf",!r.showResults)("ngIfElse",t)}}function nie(n,e){if(1&n){const t=Kt();b(0,"li",21),ne("click",function(i){const s=Dt(t),o=s.$implicit,a=s.index,u=Ie().$implicit;return At(Ie(2).addRemove(i,u.title,o,a))}),b(1,"span"),x(2),T()()}if(2&n){const t=e.$implicit;iM(t),j(2),hi(t)}}function rie(n,e){if(1&n&&(b(0,"div",24)(1,"div",25)(2,"span"),x(3),T()(),b(4,"div",26),we(5,nie,3,3,"li",27),T()()),2&n){const t=e.$implicit;j(3),hi(t.title),j(2),X("ngForOf",t.measurements)}}function iie(n,e){if(1&n){const t=Kt();b(0,"div",18)(1,"div",19)(2,"span"),x(3,"This selection with save automatically on you return to menu"),T()(),b(4,"div",20)(5,"span",21),ne("click",function(){return Dt(t),At(Ie().exitToMenu())}),x(6,"< Return to Menu"),T()(),we(7,rie,6,2,"div",22),b(8,"div",23)(9,"span",21),ne("click",function(){return Dt(t),At(Ie().exitToMenu())}),x(10,"Return to Menu"),T()()()}if(2&n){const t=Ie();j(7),X("ngForOf",null==t.homeData?null:t.homeData.actions)}}function sie(n,e){if(1&n){const t=Kt();b(0,"app-measurements",28),ne("exitFromMeasure",function(){return Dt(t),At(Ie().returnToMenu())}),T()}if(2&n){const t=Ie();X("measureData",t.measureData)("desityData",null==t.selectedDesityList[0]?null:t.selectedDesityList[0].desity)}}let oie=(()=>{class n{constructor(t,r,i,s){this.generalDataSrvice=t,this.dataSavingSrv=r,this.router=i,this.gtag=s,this.menuAfterInitDone=!1,this.menuSettingEdit=!1,this.showResults=!1,this.lastMeasurement=[],this.$Subs=new tn,this.homeData=null,this.measureDataToShow=!1,this.measureData=null,this.actionsList=[],this.allDesityList=[],this.selectedDesityList=[],this.notInList=null}ngOnInit(){localStorage.getItem("notInList")&&(this.notInList=JSON.parse(localStorage.getItem("notInList"))),this.$Subs.add(this.generalDataSrvice.homeInnerData.subscribe(t=>{this.homeData=t,this.homeData.actions.forEach(r=>{this.actionsList.push(r.title),r.desity&&this.allDesityList.push({title:r.title,desity:[...r.desity]})})})),this.$Subs.add(this.dataSavingSrv.lastMeasurement.subscribe(t=>{t&&(this.lastMeasurement.length>0&&this.lastMeasurement[0].topic?(t.topic==this.lastMeasurement[this.lastMeasurement.length-1].topic&&t.value==this.lastMeasurement[this.lastMeasurement.length-1].value&&t.measureFrom==this.lastMeasurement[this.lastMeasurement.length-1].measureFrom&&t.Density==this.lastMeasurement[this.lastMeasurement.length-1].Density||(this.lastMeasurement=[]),Number(t.tmpValue)&&this.lastMeasurement.push(t)):(this.lastMeasurement=[],Number(t.tmpValue)&&this.lastMeasurement.push(t)))})),this.$Subs.add(this.dataSavingSrv.settingsEdit.subscribe(t=>{this.measureDataToShow=!1,this.menuAfterInitDone=!0,this.menuSettingEdit=t,this.menuSettingEdit&&this.initDisabledList()})),this.generalDataSrvice.getDataFromJson()}initDisabledList(){setTimeout(()=>{this.notInList?.actions.forEach(t=>{t.measurements.forEach(r=>{document.querySelector(`.measures > .${r}`)?.classList.add("disabled")})})},300)}showLastResults(){this.showResults=!this.showResults}showMeasures(t){this.showResults=!1,this.measureData=JSON.parse(JSON.stringify(this.homeData?.actions.filter(i=>i.title===this.actionsList[t?.target.attributes.id?.value]))),this.selectedDesityList=this.allDesityList.filter(i=>i.title==this.actionsList[t?.target.attributes.id?.value]);let r=this.notInList?.actions.findIndex(i=>i.title==this.actionsList[t?.target.attributes.id?.value]);null!=r&&(this.measureData[0].measurements=this.measureData[0].measurements.filter(i=>!this.notInList?.actions[r||0].measurements.includes(i))),this.menuAfterInitDone=!1,this.measureDataToShow=!0}addRemove(t,r,i,s){this.notInList||(this.notInList=JSON.parse(JSON.stringify(this.homeData)),this.notInList?.actions.map(o=>{o.measurements=[]}),localStorage.setItem("notInList",JSON.stringify(this.notInList))),t.target.classList.contains("disabled")?(t.target.classList.remove("disabled"),this.notInList.actions[this.notInList.actions.findIndex(o=>o.title==r)].measurements=this.notInList.actions[this.notInList.actions.findIndex(o=>o.title==r)].measurements.filter(o=>o!=i)):(t.target.classList.add("disabled"),this.notInList?.actions[this.notInList?.actions.findIndex(o=>o.title==r)].measurements.push(i)),localStorage.setItem("notInList",JSON.stringify(this.notInList))}exitToMenu(){this.dataSavingSrv.setSettingsEdit(!1)}ngAfterViewInit(){setTimeout(()=>{this.returnToMenu()})}returnToMenu(){this.menuAfterInitDone=!0,this.measureDataToShow=!1}ngOnDestroy(){this.$Subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(Lre),w(Lg),w(ot),w(Ug))},n.\u0275cmp=_n({type:n,selectors:[["app-home"]],decls:6,vars:5,consts:[["appClickOutside","",1,"main-menu",3,"ngClass"],["class","wrap-list",4,"ngIf","ngIfElse"],["class","last-measurement-result",4,"ngIf"],["settings",""],[3,"measureData","desityData","exitFromMeasure",4,"ngIf"],[1,"wrap-list"],[1,"list"],["class","action",3,"click",4,"ngFor","ngForOf"],[1,"action",3,"click"],[1,"last-measurement-result"],[4,"ngIf"],["class","moreInfo",3,"click",4,"ngIf","ngIfElse"],["results",""],[1,"moreInfo",3,"click"],[1,"last-results"],["class","result",4,"ngFor","ngForOf"],[1,"close","moreInfo",3,"click"],[1,"result"],[1,"settings"],[1,"msg-line"],[1,"exit-sign"],[3,"click"],["class","action",4,"ngFor","ngForOf"],[1,"exit"],[1,"action"],[1,"span-text"],[1,"measures"],[3,"class","click",4,"ngFor","ngForOf"],[3,"measureData","desityData","exitFromMeasure"]],template:function(t,r){if(1&t&&(b(0,"div",0),we(1,Yre,3,1,"div",1),T(),we(2,tie,8,5,"div",2),we(3,iie,11,1,"ng-template",null,3,Ey),we(5,sie,1,2,"app-measurements",4)),2&t){const i=W_(4);X("ngClass",r.menuAfterInitDone?"inMenu":""),j(1),X("ngIf",!r.menuSettingEdit)("ngIfElse",i),j(1),X("ngIf",(null==r.lastMeasurement[0]?null:r.lastMeasurement[0].topic)&&!r.measureDataToShow),j(3),X("ngIf",r.measureDataToShow)}},dependencies:[Ks,Dc,Ca,Wre,QT,Kre],styles:[".main-menu[_ngcontent-%COMP%]{position:absolute;width:-webkit-fill-available;top:-500vh;min-height:25%;background-color:var(--c-grey);border-bottom-right-radius:30px;border-bottom-left-radius:30px;transition:.5s all;border:15px solid var(--c-grey);box-shadow:inset 0 0 1em var(--c-dark);z-index:99}.main-menu.inMenu[_ngcontent-%COMP%]{position:unset}.main-menu[_ngcontent-%COMP%]   .measuresOpen[_ngcontent-%COMP%]:ng-deep{position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;display:flex}.main-menu[_ngcontent-%COMP%]   .measuresClose[_ngcontent-%COMP%]{display:none}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;width:100%;height:-moz-fit-content;height:fit-content}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-top:30px;display:flex;flex-wrap:wrap;width:80%;height:-moz-fit-content;height:fit-content;gap:2em;font-weight:600;justify-content:center;padding-bottom:30px}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{width:100px;height:100px;background-color:var(--c-blue);box-shadow:inset 0 0 2em var(--c-blue);box-shadow:inset 0 0 .5em var(--c-dark);box-shadow:0 0 1em var(--c-blue);border-radius:10px;font-size:18px;display:flex;justify-content:center;align-items:center}.main-menu[_ngcontent-%COMP%]   .wrap-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]{padding:16px 30px 50px;display:flex;flex-direction:column;gap:8px;color:var(--c-blue);margin-top:50px;max-height:350px;overflow-y:auto;overflow-x:hidden}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   .span-text[_ngcontent-%COMP%]{pointer-events:none;text-decoration:underline;font-size:18px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .msg-line[_ngcontent-%COMP%]{text-align:center;padding:0 30px}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;padding:3px 0 3px 5px;font-size:15px;cursor:pointer}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;border:1px solid var(--c-blue);padding:10px 15px;border-radius:13px;transition:all .3s}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{pointer-events:none}.main-menu[_ngcontent-%COMP%]   .settings[_ngcontent-%COMP%]   .measures[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{color:var(--c-dark);border:1px solid var(--c-dark)}.main-menu[_ngcontent-%COMP%]   .exit-sign[_ngcontent-%COMP%]{text-align:left;color:var(--c-blue);padding:0 0 15px;cursor:pointer}.main-menu[_ngcontent-%COMP%]   .exit[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:var(--c-blue);padding:0 0 15px;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]{text-align:center;font-size:16px;margin:20px auto;width:300px;padding:10px 30px;display:flex;flex-direction:column;border-radius:30px;background-color:var(--c-blue);box-shadow:1px 1px 15px var(--c-blue),inset 1px 1px 15px var(--c-silver);transition:.3s all ease-in-out}.last-measurement-result[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;font-size:18px;font-weight:600;margin:10px 0}.last-measurement-result[_ngcontent-%COMP%]   .moreInfo[_ngcontent-%COMP%]{margin:10px;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]   .moreInfo.close[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.last-measurement-result[_ngcontent-%COMP%]   .last-results[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin:10px 0}.last-measurement-result[_ngcontent-%COMP%]   .last-results[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{border:1px solid var(--c-dark);padding:10px 15px;border-radius:30px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:15px;background-color:transparent;border-top:230px solid var(--c-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent;border-radius:15px}"]}),n})(),aie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-policy"]],decls:55,vars:0,consts:[["href","../"],["href","http://www.smartestappes.com"],["href","https://tawk.to/MishaElifire"]],template:function(t,r){1&t&&(b(0,"section")(1,"a",0),x(2,"< back"),T(),b(3,"h1"),x(4,"Privacy Policy"),T(),b(5,"p"),x(6,"Last updated: 30/04/2024"),T(),b(7,"p"),x(8,' SmartestAppes ("us", "we", or "our") operates '),b(9,"a",1),x(10,"www.smartestappes.com"),T(),x(11,' (the "Site"). This page informs you of our policies regarding the collection, use, and disclosure of Personal Information we receive from users of the Site. '),T(),b(12,"p"),x(13," We use your Personal Information only for providing and improving the Site. By using the Site, you agree to the collection and use of information in accordance with this policy. "),T(),b(14,"h2"),x(15,"Information Collection And Use"),T(),b(16,"p"),x(17,' While using our Site, we may ask you to provide us with certain personally identifiable information that can be used to contact or identify you. Personally identifiable information may include, but is not limited to your name ("Personal Information"). '),T(),b(18,"h2"),x(19,"Log Data"),T(),b(20,"p"),x(21,' Like many site operators, we collect information that your browser sends whenever you visit our Site ("Log Data"). This Log Data may include information such as your computer\'s Internet Protocol ("IP") address, browser type, browser version, the pages of our Site that you visit, the time and date of your visit, the time spent on those pages and other statistics. '),T(),b(22,"h2"),x(23,"Cookies"),T(),b(24,"p"),x(25," Cookies are files with small amount of data, which may include an anonymous unique identifier. Cookies are sent to your browser from a web site and stored on your computer's hard drive. "),T(),b(26,"p"),x(27,' Like many sites, we use "cookies" to collect information. You can instruct your browser to refuse all cookies or to indicate when a cookie is being sent. However, if you do not accept cookies, you may not be able to use some portions of our Site. '),T(),b(28,"h2"),x(29,"Ads"),T(),b(30,"p"),x(31," We may use third-party advertising companies to serve ads when you visit our website. These companies may use information (not including your name, address, email address, or telephone number) about your visits to this and other websites in order to provide advertisements about goods and services of interest to you. "),T(),b(32,"h2"),x(33,"Google Analytics"),T(),b(34,"p"),x(35," We use Google Analytics to collect, monitor, and analyze data about the use of our website. This helps us understand how users interact with our website and allows us to improve the user experience. "),T(),b(36,"h2"),x(37,"Security"),T(),b(38,"p"),x(39," The security of your Personal Information is important to us, but remember that no method of transmission over the Internet, or method of electronic storage, is 100% secure. While we strive to use commercially acceptable means to protect your Personal Information, we cannot guarantee its absolute security. "),T(),b(40,"h2"),x(41,"Changes To This Privacy Policy"),T(),b(42,"p"),x(43," This Privacy Policy is effective as of [Date] and will remain in effect except with respect to any changes in its provisions in the future, which will be in effect immediately after being posted on this page. "),T(),b(44,"p"),x(45," We reserve the right to update or change our Privacy Policy at any time and you should check this Privacy Policy periodically. Your continued use of the Service after we post any modifications to the Privacy Policy on this page will constitute your acknowledgment of the modifications and your consent to abide and be bound by the modified Privacy Policy. "),T(),b(46,"p"),x(47," If we make any material changes to this Privacy Policy, we will notify you either through the email address you have provided us, or by placing a prominent notice on our website. "),T(),b(48,"h2"),x(49,"Contact Us"),T(),b(50,"p"),x(51," If you have any questions about this Privacy Policy, please contact us at "),b(52,"a",2),x(53,"https://tawk.to/MishaElifire"),T(),x(54,". "),T()())},styles:["section[_ngcontent-%COMP%]{line-height:1.6;margin:20px;padding:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{margin-top:30px;font-weight:600;font-size:large}a[_ngcontent-%COMP%]{color:var(--c-dark-blue);text-decoration:none}a[_ngcontent-%COMP%]:hover{text-decoration:underline}p[_ngcontent-%COMP%]{margin-bottom:20px}"]}),n})(),Ed=(()=>{class n{constructor(t,r){this.router=t,this.loginSrv=r,this.taskList=[],this.listId=[],this.selectedId=0,this.loginName="Login User Name",this.todayDate="",this.firebaseConfig={apiKey:Dn_apiKey,authDomain:"kokododoe-s.firebaseapp.com",projectId:"kokododoe-s",storageBucket:"kokododoe-s.appspot.com",messagingSenderId:"1001517841425",appId:Dn_appId,measurementId:"G-X8FCQKJM16"},this.TaskListSubject=new st([]),this.taskList$=this.TaskListSubject.asObservable(),this.ListIdSubject=new st([]),this.ListId$=this.ListIdSubject.asObservable(),this.ListIdChgSubject=new st(0),this.ListIdChg$=this.ListIdChgSubject.asObservable(),this.Sub$=new tn,sessionStorage.getItem("UserDataLogin")||this.router.navigate([""]),this.fbDataBase=this.loginSrv.getfbDataBase(),this.DataBaseApp=this.loginSrv.getDataBaseApp(),this.listIdRef=x2(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`),this.taskListRef=x2(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`),this.getListId(),this.getTaskList()}getLoginName(){return this.loginName}setLoginName(t){this.loginName=t}getDateString(){return this.todayDate}setDateString(t){this.todayDate=t}getSelectedListId(){return this.selectedId}setSelectedListId(t){this.selectedId=t,this.ListIdChgSubject.next(t)}updateListId(t){const r={id:2*(new Date).valueOf(),name:t};eU(this.listIdRef,r),this.listId.push(r),sessionStorage.setItem(`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,JSON.stringify(this.listId)),this.ListIdSubject.next(this.listId),this.getListId()}updateTaskList(t){t.id=(new Date).valueOf(),t.listID=this.selectedId,eU(this.taskListRef,t),this.taskList.push(t),this.TaskListSubject.next(this.taskList),this.ListIdChgSubject.next(this.selectedId)}deleteTask(t){const r=this.taskList.find(s=>s.id==t)?this.taskList.find(s=>s.id==t)?.dbId:"";X2(ST(this.DataBaseApp,`taskList${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+r)),this.taskList=this.taskList.filter(s=>s.id!=t),this.TaskListSubject.next(this.taskList),this.ListIdChgSubject.next(this.selectedId)}deleteList(t,r){r.forEach(o=>this.deleteTask(o.id));const i=this.listId.find(o=>o.id==t)?this.listId.find(o=>o.id==t)?.dbId:"";X2(ST(this.DataBaseApp,`listId${JSON.parse(sessionStorage.getItem("UserDataLogin")).uid}`,""+i)),this.listId=this.listId.filter(o=>o.id!=t),this.ListIdSubject.next(this.listId),this.ListIdChgSubject.next(this.selectedId)}getListId(){let t=[];Z2(this.listIdRef).then(r=>{r.docs.forEach(i=>{t.push({...i.data(),dbId:i.id})})}).then(()=>{this.listId=t,this.ListIdSubject.next(this.listId),setTimeout(()=>{this.ListIdChgSubject.next(this.selectedId)})})}getTaskList(){let t=[];Z2(this.taskListRef).then(r=>{r.docs.forEach(i=>{t.push({...i.data(),dbId:i.id})})}).then(()=>{this.taskList=t,this.TaskListSubject.next(this.taskList)})}}return n.\u0275fac=function(t){return new(t||n)(N(ot),N(KT))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uie=["dateString"];let cie=(()=>{class n{constructor(t){this.dataSrv=t,this.todayDate=new Date,this.dayDate="",this.loginName=""}ngOnInit(){this.loginName=this.dataSrv.getLoginName()}ngAfterViewInit(){this.dataSrv.setDateString(this.dateString?.nativeElement.innerHTML)}}return n.\u0275fac=function(t){return new(t||n)(w(Ed))},n.\u0275cmp=_n({type:n,selectors:[["user-header"]],viewQuery:function(t,r){if(1&t&&xh(uie,5),2&t){let i;ya(i=va())&&(r.dateString=i.first)}},decls:11,vars:5,consts:[[1,"header-panel"],[1,"date-info"],[1,"day"],[1,"date"],["dateString",""],[1,"user"],[1,"user-name"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1)(2,"div",2),x(3,"Today"),T(),b(4,"div",3,4),x(6),_a(7,"date"),T()(),b(8,"div",5)(9,"div",6),x(10),T()()()),2&t&&(j(6),hi(dy(7,2,r.todayDate,"dd.MM.yy")),j(4),hi(r.loginName))},dependencies:[$x],styles:[".header-panel[_ngcontent-%COMP%]{display:flex;height:60px;align-items:center;justify-content:space-between;background-color:var(--offgreen);border-bottom:2px solid var(--green);box-shadow:1px 1px 3px var(--dark);padding:0 20px}.header-panel[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;height:60px}.header-panel[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--dark);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;font-size:16px;text-shadow:1px 1px 25px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-logo[_ngcontent-%COMP%]{font-weight:600;color:var(--green);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .app-info[_ngcontent-%COMP%]   .app-name[_ngcontent-%COMP%]{font-weight:600;color:var(--yellow);text-shadow:1px 1px 2px var(--dark)}.header-panel[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{font-size:12px;display:flex;flex-direction:column;gap:5px}.header-panel[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-weight:600;color:var(--green);text-shadow:1px 1px 2px var(--dark)}"]}),n})();function lie(n,e){if(1&n){const t=Kt();b(0,"span",9),ne("click",function(){Dt(t);const i=Ie().$implicit;return At(Ie().taskDone(i))}),x(1),T()}if(2&n){const t=Ie().$implicit;j(1),hi(t.status)}}function die(n,e){if(1&n){const t=Kt();b(0,"span",9),ne("click",function(){Dt(t);const i=Ie().$implicit;return At(Ie().taskDone(i))}),x(1,"In Progress"),T()}}function hie(n,e){if(1&n){const t=Kt();b(0,"span",9),ne("click",function(){Dt(t);const i=Ie().$implicit;return At(Ie().taskDone(i))}),x(1,"Done"),T()}}function fie(n,e){if(1&n){const t=Kt();b(0,"span",9),ne("click",function(){Dt(t);const i=Ie().$implicit;return At(Ie().taskDone(i))}),x(1,"On Hold"),T()}}function pie(n,e){if(1&n){const t=Kt();b(0,"section",1),ne("click",function(i){return Dt(t),At(Ie().expand(i))}),b(1,"div",2),ne("click",function(i){return Dt(t),At(Ie().deleteTask(i))}),x(2," X "),T(),b(3,"div",3),x(4),T(),b(5,"div",4)(6,"div",5),x(7),T(),b(8,"div",6),x(9),T(),b(10,"div",7),we(11,lie,2,1,"span",8),we(12,die,2,0,"span",8),we(13,hie,2,0,"span",8),we(14,fie,2,0,"span",8),T()()()}if(2&n){const t=e.$implicit;X("ngClass",e.index%2==1?"even":"odd"),j(1),Wn("taskId",t.id),j(3),hi(t.task),j(3),ln("author: ",t.author,""),j(2),ln("date: ",t.date,""),j(2),X("ngIf",1==t.currentStatus),j(1),X("ngIf",2==t.currentStatus),j(1),X("ngIf",3==t.currentStatus),j(1),X("ngIf",4==t.currentStatus)}}let gie=(()=>{class n{constructor(t){this.dataSrv=t,this.taskList=[],this.shownList=[],this.expandTask=!1,this.lastexpandTask=null,this.dataSrv.taskList$.subscribe(r=>{this.taskList=r}),this.dataSrv.ListIdChg$.subscribe(r=>{this.shownList=this.taskList.filter(i=>i.listID==r)})}ngOnInit(){}expand(t){t.target?.classList?.contains("task")&&(this.lastexpandTask?.target?.classList?.remove("extend"),t.target.classList.add("extend"),this.lastexpandTask=t)}taskDone(t){t&&(t?.currentStatus>=4?t.currentStatus=1:t.currentStatus++)}deleteTask(t){this.dataSrv.deleteTask(t.target.attributes.taskId.value)}}return n.\u0275fac=function(t){return new(t||n)(w(Ed))},n.\u0275cmp=_n({type:n,selectors:[["task"]],decls:1,vars:1,consts:[["class","task",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"task",3,"ngClass","click"],[1,"close",3,"click"],[1,"task-name"],[1,"descripption-task"],[1,"auther-task"],[1,"date-task"],[1,"status-task"],["class","status-state",3,"click",4,"ngIf"],[1,"status-state",3,"click"]],template:function(t,r){1&t&&we(0,pie,15,9,"section",0),2&t&&X("ngForOf",r.shownList)},dependencies:[Ks,Dc,Ca],styles:[".task[_ngcontent-%COMP%]{padding:6px 25px;margin:10px auto;min-width:150px;width:300px;height:20px;overflow:hidden;transition:.3s height ease-in-out;position:relative;border-radius:6px}.task.extend[_ngcontent-%COMP%]{height:65px}.task[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{position:absolute;top:11px;right:15px;font-size:12px;font-weight:600;width:-moz-fit-content;width:fit-content;transition:.3s color ease-in-out;cursor:pointer}.task[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:red}.task[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{font-size:18px;padding-top:2px;margin-bottom:1vh;pointer-events:none}.task[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:20px;font-size:12px}.task[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]{width:100px}.task[_ngcontent-%COMP%]   .descripption-task[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{cursor:pointer;transition:color .3s ease-in-out}.odd[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);border-top-left-radius:20px;border-bottom-left-radius:10px}.odd[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{color:var(--c-silver)}.even[_ngcontent-%COMP%]{background-color:var(--c-silver);border:1px solid var(--c-dark-blue);border-top-right-radius:20px;border-bottom-right-radius:10px}.even[_ngcontent-%COMP%]   .status-task[_ngcontent-%COMP%]   .status-state[_ngcontent-%COMP%]{color:var(--c-dark-blue)}"]}),n})();const mie=["addInput"],_ie=["ListId"];function yie(n,e){if(1&n){const t=Kt();b(0,"div",10),ne("click",function(i){return Dt(t),At(Ie().selectListId(i))}),x(1),T()}if(2&n){const t=e.$implicit;X("ngClass",Ie().getSelectedListId()==+t.id?"selected":""),Wn("listId",t.id),j(1),ln(" ",t.name," ")}}const gU=function(n){return{"new-add":n}};let vie=(()=>{class n{constructor(t){this.dataSrv=t,this.listId=[],this.addActive=!1,this.movearound=0,this.dataSrv.ListId$.subscribe(r=>{this.listId=r})}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.dataSrv.setSelectedListId(Number(document.querySelector(".list-menu")?.children[0]?.attributes.getNamedItem("listid")?.value))},1e3)}addListId(t){this.addActive?(this.addActive=!1,""!=this.addInput.nativeElement.value&&this.dataSrv.updateListId(this.addInput.nativeElement.value)):(this.addInput.nativeElement.value="",this.addActive=!0)}getSelectedListId(){return this.dataSrv.getSelectedListId()}selectListId(t){this.dataSrv.setSelectedListId(t.target.attributes.listId.value)}deleteList(t){let r=this.getSelectedListId(),i=this.dataSrv.taskList.filter(s=>s.listID==r);this.dataSrv.deleteList(r,i)}moveAround(t){this.ListId?.nativeElement.setAttribute("style",`left: ${this.movearound+t>0?this.movearound:this.movearound+=t}px;`)}}return n.\u0275fac=function(t){return new(t||n)(w(Ed))},n.\u0275cmp=_n({type:n,selectors:[["task-list"]],viewQuery:function(t,r){if(1&t&&(xh(mie,5),xh(_ie,5)),2&t){let i;ya(i=va())&&(r.addInput=i.first),ya(i=va())&&(r.ListId=i.first)}},decls:13,vars:9,consts:[[1,"scroll-bar"],[1,"list-menu"],["ListId",""],["class","list",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"add-section",3,"ngClass"],["type","text",1,"add-list-input",3,"ngClass"],["addInput",""],[1,"add-list",3,"click"],[1,"tasks"],[1,"end-line"],[1,"list",3,"ngClass","click"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"section",1,2),we(3,yie,2,3,"div",3),T(),b(4,"div",4),Pt(5,"input",5,6),b(7,"div",7),ne("click",function(s){return r.addListId(s)}),x(8),T(),b(9,"div",7),ne("click",function(s){return r.deleteList(s)}),x(10),T()()(),Pt(11,"task",8)(12,"div",9)),2&t&&(j(3),X("ngForOf",r.listId),j(1),X("ngClass",cy(5,gU,r.addActive)),j(1),X("ngClass",cy(7,gU,r.addActive)),j(3),ln(" ",r.addActive?"Ok":"Add List"," "),j(2),ln(" ","Remove List"," "))},dependencies:[Ks,Dc,gie],styles:[".scroll-bar[_ngcontent-%COMP%]{position:sticky;top:75px;overflow:hidden;width:auto;padding:10px 35px 0;z-index:99;background:var(--c-silver)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;overflow-x:auto;transition:.6s left ease-in-out;border-bottom:2px solid var(--c-dark-blue)}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{padding:10px;border-right:1px solid var(--c-silver);border-left:1px solid var(--c-silver);cursor:pointer;flex-shrink:0;transition:.3s all ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);border-top-left-radius:13px;border-top-right-radius:13px}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]{display:flex;justify-content:left;align-items:center;width:-moz-fit-content;width:fit-content;height:40px;border-radius:30px}.scroll-bar[_ngcontent-%COMP%]   .add-section.new-add[_ngcontent-%COMP%]{border:1px solid var(--c-dark-blue);padding:0 5px;margin:5px 0}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list-input[_ngcontent-%COMP%]{pointer-events:none;width:0;opacity:0;background-color:transparent;padding-right:5px;transition:.3s all ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list-input.new-add[_ngcontent-%COMP%]{width:100px;height:20px;opacity:1;border:0px transparent;border-right:1px solid var(--c-dark-blue);pointer-events:all}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);padding:8px 20px;font-size:12px;margin:5px;width:max-content;border-radius:30px;font-weight:600;cursor:pointer;transition:.3s box-shadow ease-in-out}.scroll-bar[_ngcontent-%COMP%]   .add-section[_ngcontent-%COMP%]   .add-list[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 5px var(--c-dark-blue)}.scroll-bar[_ngcontent-%COMP%]   .btn-scroll[_ngcontent-%COMP%]{background-color:var(--c-dark);border:0;font-size:18px;color:var(--c-silver)}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows[_ngcontent-%COMP%]{position:absolute;height:100%;display:flex;justify-content:space-between;top:0;z-index:2}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows.left[_ngcontent-%COMP%]{left:0}.scroll-bar[_ngcontent-%COMP%]   .scroll-arrows.right[_ngcontent-%COMP%]{right:0}.end-line[_ngcontent-%COMP%]{height:110px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),mU=(()=>{class n{constructor(){this.addTaskSubject=new st(!0),this.addTask$=this.addTaskSubject.asObservable()}addTaskOCPopUp(t){this.addTaskSubject.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iie=(()=>{class n{constructor(t,r){this.popupSrv=t,this.dataSrv=r,this.listIdIsEmpty=!1}ngOnInit(){this.dataSrv.ListId$.subscribe(t=>{t.length>0&&(this.listIdIsEmpty=!0)})}openAddTask(){document.body.style.overflow="hidden",this.popupSrv.addTaskOCPopUp(!1)}}return n.\u0275fac=function(t){return new(t||n)(w(mU),w(Ed))},n.\u0275cmp=_n({type:n,selectors:[["main-footer"]],decls:6,vars:1,consts:[[1,"footer-container"],[1,"copy-right"],[1,"fast-add-list",3,"disabled","click"],[1,"line"],[1,"line","rotate"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"section",1),x(2,"\xa9 Year 2024"),T(),b(3,"button",2),ne("click",function(){return r.openAddTask()}),Pt(4,"div",3)(5,"div",4),T()()),2&t&&(j(3),X("disabled",!r.listIdIsEmpty))},styles:['.footer-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:var(--c-grey);max-width:490px;position:fixed;bottom:0;z-index:99;width:-webkit-fill-available;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);transition:.3s all ease-in-out}.footer-container[_ngcontent-%COMP%]   .footer-menu[_ngcontent-%COMP%]   .menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--c-blue);scale:1.1;box-shadow:1px 1px 10px;color:var(--c-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]{pointer-events:all;background-color:var(--c-silver);padding:30px 23px;position:relative;border-radius:50%;transition:all .3s ease-in-out;max-width:100%;border:0 transparent;top:-30px;z-index:99}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled   .line[_ngcontent-%COMP%]{background-color:var(--c-blue);opacity:.5}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled:hover{scale:1;box-shadow:1px 1px 10px var(--c-silver);color:var(--c-silver)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:disabled:hover   .line[_ngcontent-%COMP%]{background-color:var(--c-dark-blue);opacity:.5}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:hover{scale:1.2;box-shadow:1px 1px 10px var(--c-silver);color:var(--c-silver)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:hover   .line[_ngcontent-%COMP%]{background-color:var(--c-blue)}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:before{width:1200px;height:15px;border-top:10px solid var(--c-silver);border-right:10px solid var(--c-silver);border-bottom:10px solid transparent;border-left:10px solid transparent;content:"";position:absolute;top:20px;left:-1205px;z-index:-1;border-radius:0 30px 0 0;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]:after{width:1200px;height:15px;border-top:10px solid var(--c-silver);border-right:10px solid transparent;border-bottom:10px solid transparent;border-left:10px solid var(--c-silver);content:"";position:absolute;top:20px;right:-1205px;z-index:-1;border-radius:30px 0 0;pointer-events:none}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{position:absolute;width:18px;height:3px;background-color:var(--c-dark);top:50%;left:50%;transform:translate(-50%,-50%);z-index:2}.footer-container[_ngcontent-%COMP%]   .fast-add-list[_ngcontent-%COMP%]   .line.rotate[_ngcontent-%COMP%]{position:relative;left:4%;width:19px;transform:rotate(90deg)}.footer-container[_ngcontent-%COMP%]   .copy-right[_ngcontent-%COMP%]{position:absolute;left:15px;color:var(--c-dark-blue)}.btn[_ngcontent-%COMP%]{padding:10px 30px;border:3px solid var(--dark);border-radius:30px;font-size:14px;font-weight:600}']}),n})();function Eie(n,e){1&n&&(b(0,"div",16),x(1," * task name input cannot be empty "),T())}function Cie(n,e){1&n&&(b(0,"div",16),x(1," * author name input cannot be empty "),T())}function wie(n,e){1&n&&(b(0,"div",16),x(1," * date name input cannot be empty "),T())}function bie(n,e){1&n&&(b(0,"div",16),x(1," * status name input cannot be empty "),T())}let Tie=(()=>{class n{constructor(t,r){this.popupSrv=t,this.dataSrv=r,this.taskform=new ka({task:new Tr("",{updateOn:"change",validators:[Ei.required]}),author:new Tr("",{updateOn:"change",validators:[Ei.required]}),date:new Tr("",{updateOn:"change",validators:[Ei.required]}),status:new Tr("don't you forget",{updateOn:"change",validators:[Ei.required]})}),this.hidden=!0,this.popupSrv.addTask$.subscribe(i=>{this.taskform.controls.date.setValue(this.dataSrv.getDateString()),this.taskform.controls.author.setValue(this.dataSrv.getLoginName()),this.onPopup(i)})}ngOnInit(){}addTask(t){this.dataSrv.updateTaskList(this.createTaskModel()),this.onPopup(!0)}onPopup(t){t&&(document.body.style.overflow=""),this.hidden=t}createTaskModel(){return{listID:0,id:0,task:this.taskform.value.task,author:this.taskform.value.author,date:this.taskform.value.date,status:this.taskform.value.status,currentStatus:1}}}return n.\u0275fac=function(t){return new(t||n)(w(mU),w(Ed))},n.\u0275cmp=_n({type:n,selectors:[["app-add-task-popup"]],decls:29,vars:7,consts:[[1,"popup-background",3,"ngClass"],[1,"popup"],[1,"close-btn",3,"click"],[1,"title"],[3,"formGroup","submit"],[1,"input-div"],["placeholder"," ","type","text","id","task","name","task","formControlName","task"],["for","task"],["class","error",4,"ngIf"],["placeholder"," ","type","text","id","author","name","author","formControlName","author"],["for","author"],["placeholder"," ","type","text","id","date","name","date","formControlName","date"],["for","date"],["placeholder"," ","type","text","id","status","name","status","formControlName","status"],["for","status"],["type","submit",1,"sbm-btn",3,"disabled"],[1,"error"]],template:function(t,r){1&t&&(b(0,"div",0)(1,"div",1)(2,"div",2),ne("click",function(){return r.onPopup(!0)}),x(3,"close"),T(),b(4,"div",3),x(5,"Add task to your list from here:"),T(),b(6,"form",4),ne("submit",function(s){return r.addTask(s)}),b(7,"div",5),Pt(8,"input",6),b(9,"label",7),x(10,"task"),T(),we(11,Eie,2,0,"div",8),T(),b(12,"div",5),Pt(13,"input",9),b(14,"label",10),x(15,"author"),T(),we(16,Cie,2,0,"div",8),T(),b(17,"div",5),Pt(18,"input",11),b(19,"label",12),x(20,"date"),T(),we(21,wie,2,0,"div",8),T(),b(22,"div",5),Pt(23,"input",13),b(24,"label",14),x(25,"status"),T(),we(26,bie,2,0,"div",8),T(),b(27,"button",15),x(28," Add task "),T()()()()),2&t&&(X("ngClass",r.hidden?"hidden":""),j(6),X("formGroup",r.taskform),j(5),X("ngIf",r.taskform.controls.task.errors&&r.taskform.controls.task.touched),j(5),X("ngIf",r.taskform.controls.author.errors&&r.taskform.controls.author.touched),j(5),X("ngIf",r.taskform.controls.date.errors&&r.taskform.controls.date.touched),j(5),X("ngIf",r.taskform.controls.status.errors&&r.taskform.controls.status.touched),j(1),X("disabled",r.taskform.invalid))},dependencies:[Ks,Ca,$f,xa,kf,Of,Oa,Kc],styles:[".popup-background[_ngcontent-%COMP%]{transition:.3s all ease-in-out;opacity:1;position:fixed;background-color:#00000062;top:0;height:100%;width:100%;max-width:490px;z-index:999}.popup-background.hidden[_ngcontent-%COMP%]{transition:.3s all ease-in-out;opacity:0;z-index:-1}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]{position:relative;margin:auto;background-color:var(--c-silver);top:100px;width:85%;height:60%;max-width:500px;border-radius:10px;box-shadow:1px 1px 15px #000;overflow:hidden;overflow-y:scroll;z-index:9999}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:sticky;top:0;padding:12px 0 0 12px;cursor:pointer;background:var(--c-silver);z-index:9}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{color:var(--c-dark-blue);transition:.2s color ease-in-out}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{text-align:center;margin:20px auto;color:var(--c-dark-blue);font-size:22px;font-weight:600;width:200px;pointer-events:none}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;gap:25px;padding-bottom:25px}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;transition:.3s all ease-in-out;pointer-events:none;left:15px;top:8px;background-color:var(--c-silver);text-shadow:1px 1px 1px var(--c-silver)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-radius:30px;background-color:transparent;width:250px;height:30px;padding-left:15px;transition:.3s all ease-in-out}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{position:absolute;transition:.3s all ease-in-out;top:-8px;color:var(--c-dark-blue);font-weight:600}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;bottom:-15px;color:var(--c-dark-blue);font-size:12px;font-weight:600;left:15px}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]{background-color:var(--c-dark);border:0px transparent;border-radius:30px;padding:12px 30px;font-size:16px;transition:all .3s ease-in-out;color:var(--c-dark-blue)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:disabled{background-color:transparent;border:1px solid var(--c-dark-blue)}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:disabled:hover{background-color:transparent;border:1px solid var(--c-dark-blue);box-shadow:1px 1px 15px transparent}.popup-background[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .sbm-btn[_ngcontent-%COMP%]:hover{box-shadow:1px 1px 15px var(--c-dark);transition:all .3s ease-in-out;color:var(--c-dark-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:15px;background-color:transparent;border-top:230px solid var(--c-blue)}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent;border-radius:15px}"]}),n})();const Die=[{path:"",component:Vre,children:[{path:"home",component:oie,pathMatch:"full"},{path:"lists",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-lists"]],decls:5,vars:0,template:function(t,r){1&t&&(Pt(0,"user-header"),b(1,"section"),Pt(2,"task-list"),T(),Pt(3,"main-footer")(4,"app-add-task-popup"))},dependencies:[cie,vie,Iie,Tie]}),n})(),pathMatch:"full"},{path:"policy",component:aie,pathMatch:"full"}]}];let Aie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({imports:[Pk.forRoot(Die),Pk]}),n})();function Sie(n,e){1&n&&(b(0,"h1",16),x(1,"Applications"),T())}function Mie(n,e){if(1&n){const t=Kt();b(0,"li",17),ne("click",function(){return Dt(t),At(Ie().close("measurements"))}),x(1," Measurements "),T()}}function Pie(n,e){if(1&n){const t=Kt();b(0,"li",17),ne("click",function(){return Dt(t),At(Ie().close("lists"))}),x(1," Todo List "),T()}}function xie(n,e){1&n&&(b(0,"h1",16),x(1,"General"),T())}function Rie(n,e){if(1&n){const t=Kt();b(0,"li",17),ne("click",function(){return Dt(t),At(Ie().close("menu"))}),x(1," Add/Remove Measurements "),T()}}let YT,kie=(()=>{class n{constructor(t,r,i){this.loginService=t,this.dataSavingSrv=r,this.router=i,this.isOpenTrans=!1,this.isOpenMenu=!1,this.isOpenAcc=!1,this.editMode=!1,this.$Subs=new tn,this.isAfterLogin=!1,this.editMode="true"==sessionStorage.getItem("editMode"),this.$Subs.add(this.loginService.afterlogin$.subscribe(s=>{this.isAfterLogin=s})),this.$Subs.add(this.loginService.headerInnerData.subscribe(s=>{this.innerHeaderData=s})),this.$Subs.add(this.dataSavingSrv.lastClickedOn.subscribe(s=>{null==s&&(this.isOpenAcc&&(this.isOpenAcc=!1),this.isOpenMenu&&(this.isOpenMenu=!1),this.isOpenTrans&&(this.isOpenTrans=!1))}))}close(t){switch(t){case"menu":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate([".."]),this.dataSavingSrv.setSettingsEdit(!0);break;case"policy":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/policy"]);break;case"measurements":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate([".."]);break;case"lists":this.isOpenMenu&&(this.isOpenMenu=!1),this.router.navigate(["/lists"])}}ngOnInit(){}ngAfterViewInit(){this.functionScript=document.createElement("script"),this.functionScript.type="text/javascript",this.functionScript.innerHTML="\n    function googleTranslateElementInit() {\n      new google.translate.TranslateElement(\n          {pageLanguage: 'en'},\n          'google_translate_element'\n      );\n    }",this.stylesEl=document.createElement("style"),this.stylesEl.innerHTML="\n    #goog-gt-vt{\n      display: none !important;\n    }\n    #goog-gt-tt{\n      display: none;\n    }\n    .VIpgJd-yAWNEb-VIpgJd-fmcmS-sn54Q{\n      background: transparent;\n      box-shadow: 2px 2px 4px transparent;\n    }\n    .VIpgJd-yAWNEb-L7lbkb{\n      display: none !important;\n    }\n    body{\n      top: 0 !important;\n      position: relative;\n    }\n    .skiptranslate{\n      position: absolute;\n      z-index:1\n    }",this.jsSrvScript=document.createElement("script"),this.jsSrvScript.type="text/javascript",this.jsSrvScript.src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit",document.body.appendChild(this.functionScript),document.body.appendChild(this.jsSrvScript),document.body.appendChild(this.stylesEl)}openTrans(){this.isOpenTrans=!this.isOpenTrans}openMenu(){this.isOpenMenu=!this.isOpenMenu}openAcc(){this.isOpenAcc=!this.isOpenAcc}ngOnDestroy(){this.$Subs.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(w(KT),w(Lg),w(ot))},n.\u0275cmp=_n({type:n,selectors:[["app-header"]],decls:25,vars:17,consts:[["appClickOutside","",1,"header"],[1,"right"],[1,"translate",3,"src","ngClass","click"],[1,"acc",3,"src","ngClass","click"],[1,"logo"],["alt","",3,"src"],[1,"left"],[1,"burger",3,"ngClass","click"],[1,"line"],["appClickOutside","",1,"g-trans",3,"ngClass"],["id","google_translate_element"],["appClickOutside","",1,"menu-container",3,"ngClass"],[1,"options-list"],[1,"list"],["class","list-title",4,"ngIf"],["class","list-item",3,"click",4,"ngIf"],[1,"list-title"],[1,"list-item",3,"click"]],template:function(t,r){1&t&&(b(0,"section",0)(1,"div",1)(2,"img",2),ne("click",function(){return r.openTrans()}),T(),b(3,"img",3),ne("click",function(){return r.openAcc()}),T(),b(4,"div",4),Pt(5,"img",5),T()(),b(6,"div",6)(7,"div",7),ne("click",function(){return r.openMenu()}),Pt(8,"div",8)(9,"div",8)(10,"div",8),T()()(),b(11,"div",9),Pt(12,"div",10),T(),b(13,"div",11)(14,"div",12)(15,"ul",13),we(16,Sie,2,0,"h1",14),we(17,Mie,2,0,"li",15),we(18,Pie,2,0,"li",15),we(19,xie,2,0,"h1",14),we(20,Rie,2,0,"li",15),b(21,"h1",16),x(22,"Policies"),T(),b(23,"li",17),ne("click",function(){return r.close("policy")}),x(24,"Privacy Policy"),T()()()()),2&t&&(X_("--gtransIcon",null==r.innerHeaderData?null:r.innerHeaderData.gtransIcon)("--accIcon",null==r.innerHeaderData?null:r.innerHeaderData.accIcon),j(2),Hs("src",null==r.innerHeaderData?null:r.innerHeaderData.gtransIcon,Zo),X("ngClass",r.isOpenTrans?"open":""),j(1),Hs("src",null==r.innerHeaderData?null:r.innerHeaderData.accIcon,Zo),X("ngClass",r.isOpenAcc?"open":""),j(2),Hs("src",null==r.innerHeaderData?null:r.innerHeaderData.logoIcon,Zo),j(2),X("ngClass",r.isOpenMenu?"open":""),j(4),X("ngClass",r.isOpenTrans?"open":""),j(2),X("ngClass",r.isOpenMenu?"open":""),j(3),X("ngIf",r.isAfterLogin),j(1),X("ngIf",r.isAfterLogin),j(1),X("ngIf",r.isAfterLogin),j(1),X("ngIf",r.isAfterLogin),j(1),X("ngIf",r.isAfterLogin))},dependencies:[Ks,Ca,QT],styles:[".header[_ngcontent-%COMP%]{position:sticky;top:0;z-index:999999;background-color:var(--c-grey);color:var(--c-dark-blue);padding:18px 35px;font-size:28px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 0 .5em var(--c-blue);overflow-x:auto}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:20px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.225rem;padding:15px 10px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:1px;width:15px;background-color:var(--c-blue);transition:.5s all}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(1){width:0;position:absolute}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(2){transform:rotate(-45deg);margin-top:-5.6px;height:2px}.header[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]   .burger.open[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:nth-last-child(3){transform:rotate(45deg);height:2px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:40px}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;filter:invert(264%) sepia(215%) saturate(207%) hue-rotate(89deg) saturate(475%) brightness(100%) contrast(304%)}.header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .translate[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   .acc[_ngcontent-%COMP%]{width:30px;height:30px;filter:invert(91%) sepia(82%) saturate(2496%) hue-rotate(150deg) brightness(100%) contrast(98%)}.g-trans[_ngcontent-%COMP%]{position:fixed;top:-200px;z-index:99998;width:100%;max-width:490px;background-color:var(--c-grey);box-shadow:0 0 1em var(--c-blue);height:60px;transition:.5s top;border-bottom-left-radius:30px;border-bottom-right-radius:30px}.g-trans.open[_ngcontent-%COMP%]{top:75px}.g-trans[_ngcontent-%COMP%]   #google_translate_element[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:30px}.menu-container[_ngcontent-%COMP%]{position:fixed;top:-350px;z-index:99998;width:-webkit-fill-available;color:var(--c-blue);max-width:465px;background-color:var(--c-grey);box-shadow:0 0 1em var(--c-blue);transition:.5s top;overflow-x:hidden;overflow-y:auto;border-right:15px solid transparent;border-top:10px solid transparent;border-bottom:50px solid transparent;border-left:10px solid transparent;border-bottom-left-radius:30px;border-bottom-right-radius:30px;max-height:300px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]{padding:16px 30px 50px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-title[_ngcontent-%COMP%]{text-decoration:underline;font-size:18px;margin-bottom:5px;pointer-events:none}.menu-container[_ngcontent-%COMP%]   .options-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{padding:3px 0 3px 5px;font-size:15px;cursor:pointer}.menu-container.open[_ngcontent-%COMP%]{top:75px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:5px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--c-blue);border-radius:15px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:var(--c-dark-blue);border-radius:15px}"]}),n})(),Oie=(()=>{class n{constructor(){this.title="SmartestAppes"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=_n({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&Pt(0,"app-header")(1,"router-outlet")},dependencies:[Mv,kie]}),n})();try{YT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{YT=!1}let Sr,Bie=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function vq(n){return n===Gx}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!YT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(N(Fh))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();Sr=typeof global<"u"?global:typeof window<"u"?window:{};const EU="cdk-high-contrast-black-on-white",CU="cdk-high-contrast-white-on-black",XT="cdk-high-contrast-active";let Zie=(()=>{class n{constructor(t,r){this._platform=t,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(XT),t.remove(EU),t.remove(CU),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(t.add(XT),t.add(EU)):2===r&&(t.add(XT),t.add(CU))}}}return n.\u0275fac=function(t){return new(t||n)(N(Bie),N(et))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({}),n})();const bU=new Wi("13.0.0"),TU=new Wi("13.0.0"),tse=new B("mat-sanity-checks",{providedIn:"root",factory:function ese(){return!0}});let DU=(()=>{class n{constructor(t,r,i){this._hasDoneGlobalChecks=!1,this._document=i,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!(!function Rz(){return dx=!0,lx}()||function Hie(){return typeof Sr.__karma__<"u"&&!!Sr.__karma__||typeof Sr.jasmine<"u"&&!!Sr.jasmine||typeof Sr.jest<"u"&&!!Sr.jest||typeof Sr.Mocha<"u"&&!!Sr.Mocha}())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const r=getComputedStyle(t);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.remove()}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&TU.full!==bU.full&&console.warn("The Angular Material version ("+TU.full+") does not match the Angular CDK version ("+bU.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(t){return new(t||n)(N(Zie),N(tse,8),N(et))},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({imports:[[wU],wU]}),n})(),hse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=Wt({imports:[[DU],DU]}),n})(),fse=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n,bootstrap:[Oie]}),n.\u0275inj=Wt({imports:[_9,Ure.forRoot({trackingId:"G-726X1R2X45",trackPageviews:!0}),Aie,hse,J7,Fre]}),n})();(function kz(){if(dx)throw new Error("Cannot enable prod mode after platform setup.");lx=!1})(),m9().bootstrapModule(fse).catch(n=>console.error(n))}},Fe=>{Fe(Fe.s=133)}]);